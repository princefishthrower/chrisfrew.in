{"data":{"site":{"siteMetadata":{"title":"Chris Frewin's Full Stack Blog.","author":"Chris Frewin"}},"markdownRemark":{"id":"19fd7fd4-a09b-5764-ab64-abbc13cfa497","excerpt":"SSR and Static Page Generation If you are doing Server Side Rendering (SSR), static page generation and the like, these are process thatâ€¦","html":"<h2>SSR and Static Page Generation</h2>\n<p>If you are doing Server Side Rendering (SSR), static page generation and the like, these are process that <em>donâ€™t assume the content is on a web browser use the window object!</em> The window object is only avaliable in a browser! When you run your packager, letâ€™s say for now, in WebPack, since thatâ€™s probably the overwhelming winner of the youâ€™re soon to run into this little message eventually:</p>\n<p><code class=\"language-text\">WebpackError: ReferenceError: window is not defined</code></p>\n<h2>The Root Issue</h2>\n<p>If youâ€™re reading this in 2018, 2019, and 2020, the statement shown next to that error is likely an npm module that hasnâ€™t yet been built for SSR or static page generation (think GatsbyJS) (Iâ€™m being optimistic and arbitrarily picking the year 2021 as the year that everything will be optimized for web AND non-web rendering) ðŸ˜‚. </p>\n<p>The only problem when you see that fateful error is that you may see a <code class=\"language-text\">require()</code> or <code class=\"language-text\">import</code> statement as the error. Then youâ€™d say, huh, I donâ€™t see any <code class=\"language-text\">window</code> object immediatelyâ€¦ whats going on?\nFor example:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> somePackageThatUsesTheWindowObject <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'some-package-that-uses-the-window-object'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>or</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> somePackageThatUsesTheWindowObject <span class=\"token keyword\">from</span> <span class=\"token string\">'some-package-that-uses-the-window-object'</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>or heck, maybe youâ€™re even directly referencing the <code class=\"language-text\">window</code> object:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> iInnerHeight <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>if youâ€™re using react, youâ€™ll notice this error wonâ€™t be thrown, if youâ€™re access the <code class=\"language-text\">window</code> object in </p>\n<h1>The Solution</h1>\n<p>So, the solution to that is . There are two options, perhaps one may suit your needs better</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  \n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>oError<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>oError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">!==</span> <span class=\"token string\">'undefined'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> iInnerHeight <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ... more window stuff etc.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>","frontmatter":{"title":"Oh The Horror! The Dreaded WebpackError ReferenceError window is not defined!","date":"December 08, 2018","draft":false,"starID":101}}},"pageContext":{"slug":"/the-dreaded-referenceerror-window-is-not-defined/","prev":{"fields":{"slug":"/simple-things-you-can-do-right-now-to-help-environmental-efforts/"},"frontmatter":{"date":"07 December, 2018","title":"Simple Actions You Can Take Right Now to Help Environmental Efforts","draft":false,"starID":100,"link":"https://chrisfrew.in/simple-things-you-can-do-right-now-to-help-environmental-efforts/","relativeLink":"/simple-things-you-can-do-right-now-to-help-environmental-efforts/"}},"next":null}}