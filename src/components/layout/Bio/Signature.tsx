import * as React from "react"
import { useEffect, useState } from "react";
import { useInView } from "react-hook-inview"

export function Signature() {
    const [ref, isVisible] = useInView({
        threshold: 1,
    })
    const [alreadyTriggered, setAlreadyTriggered] = useState<boolean>(false);
    const [leaveVisible, setLeaveVisible] = useState<boolean>(false);

    useEffect(() => {
        if(isVisible) {
            setLeaveVisible(true);
            setTimeout(() => {
                setAlreadyTriggered(true);
            }, 6000)
        }
    }, [isVisible])

    const className = !alreadyTriggered && isVisible ? "animate" : ""
    const svgClassName = leaveVisible ? "leave-visible" : ""
    return (
        <div ref={ref}>
            <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 237.114 62.184"
                className={`signature ${svgClassName}`}
            >
                <g fill="none" strokeLinecap="round" strokeWidth="1.323">
                    <path
                        className={`${className} first`}
                        d="M9.14 10.4c4.9 2.22 1.64.52 7.5 4.56.11.07-.15-.22-.26-.27-.32-.16-.73.11-1.07 0-.78-.26-.88-1.1-1.07-.8-.16.23-.16.54-.27.8-1.32 3.05-2.72 6.06-4.02 9.11-2.52 5.9-8.4 16.72-6.43 24.12.37 1.4 2.94 1.36 4.28.8 6.8-2.8 17.46-13.03 20.1-20.1.14-.34-.8.03-1.07.27-1.64 1.49-3.1 3.17-4.55 4.83-2.22 2.52-4.25 5.22-6.43 7.77-1.08 1.25-2.25 2.42-3.22 3.75-.47.65-1.85 1.95-1.07 2.15 1.16.29 2.13-1.1 3.21-1.61 1.42-.66 2.83-1.32 4.3-1.88.42-.16 1.38-.72 1.33-.26-.11 1.1-1.05 1.97-1.6 2.94-.17.28-.72.54-.54.8.2.32 2.4-.23 3.21-.8.93-.65 1.54-1.69 2.42-2.4.25-.22 2.36-.28 2.94-.28.18 0-.36-.05-.53 0-.65.22-1.3.46-1.88.8-.67.41-2.62 2.7-1.07 3.22 2.8.94 4.87-2.03 6.43-3.75.3-.33 1-.67.8-1.07-.55-1.1-4.42 4.75-3.75 4.82 2.37.27 4.09-.99 5.9-2.4 1-.79 1.83-1.76 2.68-2.69.14-.15.2-.72.27-.53 1.84 5.52-2.44 4.7-5.36 6.16-.16.08.36.04.54 0 .68-.16 3.96-.95 4.82-1.6 6.03-4.58 7.03-6.1 11.53-12.6a12.24 12.24 0 001.87-3.49c.13-.44.51-1.72.27-1.34-6.61 10.39 4.14-3.31-6.17 11.26-10.94 15.47.56-2.71-5.36 6.16-.24.37.93.16 1.34 0 .75-.29 1.44-.7 2.15-1.07 1.88-.97 3.7-2.06 5.63-2.95a4.59 4.59 0 011.87-.53c.48 0 .91.32 1.34.53.3.15 1.08.36.8.54-.7.46-2.54-.39-3.2-.27-1.06.19-5.94 1.92-5.64 3.75.18 1.07 2.14.65 3.22.54 1.09-.12 2.77-1.78 3.22-2.68.47-.94-.47-1.88-.27-1.88.2 0 .34.23.53.27.27.05.83-.27.8 0a20.45 20.45 0 01-4.28 10.45c-1.29 1.57-3 2.73-4.56 4.02-.59.5-2.31 1.97-1.87 1.34 2.47-3.55 5.19-6.93 8.04-10.18a78.92 78.92 0 017.23-7.24c.43-.37 1.32-1.02 1.61-.53 1.96 3.26 1.28 5.17-1.6 6.7-.64.33-1.46.47-2.15.26-.38-.11-1.33-2.06-1.16-2.42.53-1.15 1.41-1.62 2.37-2.46.43-.37 1.26-.04 1.78-.27.34-.15 1.68-.2 1.3-.2-.1 0-.07.2 0 .26.13.14.67-.13.8 0 .1.1-.27.4-.27.27s.18-.18.27-.27l3.49-3.48c1.89-1.9 4.26-3.44 5.64-5.74 1.08-1.82 1.55-3.97 1.86-6.06.04-.26.15-1.02 0-.8-3.87 5.64-5.86 12.27-9.11 18.23-.46.84-1.18 1.54-1.61 2.4-.09.19.4-.12.54-.26 1.56-1.56 2.95-3.3 4.55-4.82.38-.36 1.4-1.33 1.34-.8-.3 2.66-1.7 5.11-2.14 7.76-.05.28.56.4.8.27 1.63-.9 3.13-2.02 4.56-3.21a7.83 7.83 0 001.88-2.15c.1-.17-1.26-1-1.4-.86-1.04 1.03-1.26 2.72-1.82 4.08-.17.41.4 1.25.8 1.07 10.57-4.7 1.38-1.53 4.83-4.29.14-.11.36.01.53 0l5.1-.27c.18 0 .65-.13.53 0-.87 1.07-3.83 3.28-4.29 5.1-.06.26.55.07.8 0 1.1-.3 2.23-.54 3.22-1.08 17.06-10.14 28.3-29.53 38.4-44.46"
                    />
                    <path
                        className={`${className} second`}
                        d="M39.97 35.86c3.31.12 6.87.74 10.18.27.92-.13 1.74-.34 2.68-.54"
                    />
                    <path
                        className={`${className} third`}
                        d="M102.76 50.6c16.8-14.3 33.63-28.55 50.4-42.88 1.72-1.48 3.43-3 5.09-4.56.06-.06-.2-.06-.27 0-.76.76-1.34 1.7-2.15 2.41-1.8 1.62-3.52 3.38-5.62 4.56-8.1 4.53-16.17 6.9-24.93 9.65-3.56 1.12-7.18 2.06-10.72 3.22-.84.27-1.61.7-2.42 1.07-.18.08-.73.27-.53.27.8 0 1.63-.05 2.41-.27 11.12-3.1 22.17-6.39 33.24-9.65 5.28-1.56 10.55-3.2 15.81-4.82.09-.03-.19-.04-.27 0-2.42 1.04-4.77 2.27-7.23 3.21a273 273 0 01-35.12 10.72c-2.08.49-6.93 1.25-8.84 2.68-.5.38 1.26.12 1.87 0 2.17-.42 4.29-1.09 6.44-1.6 12.26-2.97 24.73-6.26 37.25-8.05.36-.05-.73-.12-1.07 0-.93.36-1.77.92-2.68 1.34a239.85 239.85 0 01-29.21 11.26c-2.43.77-4.33 1.34-3.49 1.34"
                    />
                    <path
                        className={`${className} fourth`}
                        d="M112.94 50.89c2.13-.36 1.34.08 3.1-2.44.31-.44 2.17-3.62 2.45-4.23.13-.27 0-.67.22-.88.12-.12.28.2.45.22.59.06 1.18 0 1.77 0 .08 0 .23.07.23 0 0-.23-.53.58-1.11 1.55-.76 1.26-2.92 4.05-1.12 5.56.52.43 1.33.26 2 .22 2.62-.15 6.5-3.5 7.56-5.78.18-.38-.48-1.54-1.11-1.33-1.95.65-4.6 3.53-4 5.78.14.51.86.63 1.33.89.82.44 1.72.69 2.67.44.93-.25 1.8-.68 2.66-1.11 1.96-.98 3.94-1.92 5.78-3.11 1.83-1.18 1.63-1.78 2.67-3.33.04-.07.05.17 0 .22-.16.16-.71.33-.9.66-.73 1.4-2.42 4.15-2 6 .1.36.84.25 1.12 0a19.16 19.16 0 003.78-5.33c.2-.42.89-1.18.44-1.33-.44-.15-.28.9-.44 1.33-.63 1.73-1.83 3.58-1.34 5.56.04.16.3-.14.45-.23 1.11-.65 2.35-1.15 3.33-2 3.26-2.79 2.4-2.4 3.56-5.1.03-.07-.06.16 0 .22a1 1 0 00.44.22c1.07.3 1.37.35 2.44-.22.71-.38 1.32-.93 2-1.34.07-.04.23-.07.23 0 0 .1-.2.12-.23.22-.13.59-.06 1.2-.22 1.78-.69 2.56-1.56 5.06-2.44 7.56-.04.1-.3.14-.22.22.35.35.45-.88.66-1.33 1.48-3.14 1.45-2.56 3.56-4.67 1.65-1.65 1.55-2.06 1.55.22 0 1.97.04 4.06-.44 6-.06.22-.08-.46 0-.67.67-1.8 1.28-3.64 2.22-5.33.4-.71 1.05-.87 1.56-.44.92.79 1.69 1.54 1.77 2.89.13 2.01-2.83 3.95-1.1 5.55.77.73 1.6 1.86 2.66 1.78 33.77 1.77 52.72-29.62 67.32-52.66"
                    />
                    <path
                        className={`${className} fifth`}
                        d="M148.26 39.11c5.07-.42 4.68-.87 6.6-1.6"
                    />
                </g>
            </svg>
        </div>
    )
}
