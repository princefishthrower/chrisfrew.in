{"keys":[{"id":"transformer-remark-markdown-ast-e670bdd127232c63e6d23575186e8b1d-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: ABAP Push and Message Channels\ndate: \"2018-01-12\"\ndraft: true","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":80},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Add some spice to your SAPUI5 apps!","position":{"start":{"line":7,"column":3,"offset":86},"end":{"line":7,"column":38,"offset":121},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":84},"end":{"line":7,"column":38,"offset":121},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"(Or even normal webapps, for that matter)","position":{"start":{"line":8,"column":4,"offset":126},"end":{"line":8,"column":45,"offset":167},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":123},"end":{"line":8,"column":45,"offset":167},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I was a noob. I wrote in my SAPUI5 some warehouse task code that would have a real time. How did I do it?","position":{"start":{"line":10,"column":1,"offset":171},"end":{"line":10,"column":106,"offset":276},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":171},"end":{"line":10,"column":106,"offset":276},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I wrote a ","position":{"start":{"line":12,"column":1,"offset":280},"end":{"line":12,"column":11,"offset":290},"indent":[]}},{"type":"inlineCode","value":"window.setInterval()","position":{"start":{"line":12,"column":11,"offset":290},"end":{"line":12,"column":33,"offset":312},"indent":[]}},{"type":"text","value":" function that would ping table ","position":{"start":{"line":12,"column":33,"offset":312},"end":{"line":12,"column":65,"offset":344},"indent":[]}},{"type":"inlineCode","value":"/SCWM/WT","position":{"start":{"line":12,"column":65,"offset":344},"end":{"line":12,"column":75,"offset":354},"indent":[]}},{"type":"text","value":" üòä and check for any new lines - with an OData ","position":{"start":{"line":12,"column":75,"offset":354},"end":{"line":12,"column":123,"offset":402},"indent":[]}},{"type":"inlineCode","value":"GET_ENTITY_SET","position":{"start":{"line":12,"column":123,"offset":402},"end":{"line":12,"column":139,"offset":418},"indent":[]}},{"type":"text","value":" server request. üòä üòä","position":{"start":{"line":12,"column":139,"offset":418},"end":{"line":12,"column":161,"offset":440},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":280},"end":{"line":12,"column":161,"offset":440},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yeah.","position":{"start":{"line":14,"column":1,"offset":444},"end":{"line":14,"column":6,"offset":449},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":444},"end":{"line":14,"column":6,"offset":449},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Well, I was lucky to learn about websockets from one of our EWM. Then I was even luckier to learn a bit more about the technical aspects (when to subscribe, unsubscribe, destroy, and create websockets instances from actions on the front end).","position":{"start":{"line":16,"column":1,"offset":453},"end":{"line":16,"column":243,"offset":695},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":453},"end":{"line":16,"column":243,"offset":695},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So here‚Äôs how to add websockets to your SAPUI5 app","position":{"start":{"line":18,"column":1,"offset":699},"end":{"line":18,"column":51,"offset":749},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":18,"column":51,"offset":749},"end":{"line":18,"column":56,"offset":754},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-1\">","position":{"start":{"line":18,"column":56,"offset":754},"end":{"line":18,"column":78,"offset":776},"indent":[]}},{"type":"text","value":"1","position":{"start":{"line":18,"column":78,"offset":776},"end":{"line":18,"column":79,"offset":777},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":18,"column":79,"offset":777},"end":{"line":18,"column":83,"offset":781},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":18,"column":83,"offset":781},"end":{"line":18,"column":89,"offset":787},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":18,"column":89,"offset":787},"end":{"line":18,"column":90,"offset":788},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":699},"end":{"line":18,"column":90,"offset":788},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Transactions","position":{"start":{"line":20,"column":4,"offset":795},"end":{"line":20,"column":16,"offset":807},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":792},"end":{"line":20,"column":16,"offset":807},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All backend push and messaging channels can be managed with just two transactions:  ","position":{"start":{"line":22,"column":1,"offset":811},"end":{"line":22,"column":85,"offset":895},"indent":[]}},{"type":"inlineCode","value":"SAMC","position":{"start":{"line":22,"column":85,"offset":895},"end":{"line":22,"column":91,"offset":901},"indent":[]}},{"type":"text","value":", for message channels and ","position":{"start":{"line":22,"column":91,"offset":901},"end":{"line":22,"column":118,"offset":928},"indent":[]}},{"type":"inlineCode","value":"SAPC","position":{"start":{"line":22,"column":118,"offset":928},"end":{"line":22,"column":124,"offset":934},"indent":[]}},{"type":"text","value":", for push channels. Easy enough.","position":{"start":{"line":22,"column":124,"offset":934},"end":{"line":22,"column":157,"offset":967},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":811},"end":{"line":22,"column":157,"offset":967},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating a Message Channel","position":{"start":{"line":24,"column":4,"offset":974},"end":{"line":24,"column":30,"offset":1000},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":971},"end":{"line":24,"column":30,"offset":1000},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As we will see, to create a proper push channel, we will first need a message channel, so that is where we start off. An ABAP message channel is a way of subscribing current programs to any - the best thing about push channels is that if the push channel ","position":{"start":{"line":26,"column":1,"offset":1004},"end":{"line":26,"column":256,"offset":1259},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"isn‚Äôt","position":{"start":{"line":26,"column":257,"offset":1260},"end":{"line":26,"column":262,"offset":1265},"indent":[]}}],"position":{"start":{"line":26,"column":256,"offset":1259},"end":{"line":26,"column":263,"offset":1266},"indent":[]}},{"type":"text","value":" listening, there is no error and nothing else negative happens anywhere else in the system - that is, granted you ","position":{"start":{"line":26,"column":263,"offset":1266},"end":{"line":26,"column":378,"offset":1381},"indent":[]}},{"type":"inlineCode","value":"TRY","position":{"start":{"line":26,"column":378,"offset":1381},"end":{"line":26,"column":383,"offset":1386},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":26,"column":383,"offset":1386},"end":{"line":26,"column":388,"offset":1391},"indent":[]}},{"type":"inlineCode","value":"CATCH","position":{"start":{"line":26,"column":388,"offset":1391},"end":{"line":26,"column":395,"offset":1398},"indent":[]}},{"type":"text","value":" your push channel messaging properly.","position":{"start":{"line":26,"column":395,"offset":1398},"end":{"line":26,"column":433,"offset":1436},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1004},"end":{"line":26,"column":433,"offset":1436},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So let‚Äôs get started in transaction ","position":{"start":{"line":28,"column":1,"offset":1440},"end":{"line":28,"column":37,"offset":1476},"indent":[]}},{"type":"inlineCode","value":"SAMC","position":{"start":{"line":28,"column":37,"offset":1476},"end":{"line":28,"column":43,"offset":1482},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":28,"column":43,"offset":1482},"end":{"line":28,"column":44,"offset":1483},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1440},"end":{"line":28,"column":44,"offset":1483},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"","alt":null,"position":{"start":{"line":30,"column":1,"offset":1487},"end":{"line":30,"column":6,"offset":1492},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1487},"end":{"line":30,"column":6,"offset":1492},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We define the message channel name, and, most importantly, define what programs can use this message channel and what type of message this channel will handle (there are only 2 - numeric and string)","position":{"start":{"line":32,"column":1,"offset":1496},"end":{"line":32,"column":199,"offset":1694},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1496},"end":{"line":32,"column":199,"offset":1694},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now, as I mention before, we use these channels to hook into any ABAP program, so that any time they are executed by anyone (or anything) in the system, the channel will be messages. A safe way to hook into an existing program (using our newly created ","position":{"start":{"line":34,"column":1,"offset":1698},"end":{"line":34,"column":253,"offset":1950},"indent":[]}},{"type":"inlineCode","value":"Z_AWESOME_CHANNEL","position":{"start":{"line":34,"column":253,"offset":1950},"end":{"line":34,"column":272,"offset":1969},"indent":[]}},{"type":"text","value":") looks as follows:","position":{"start":{"line":34,"column":272,"offset":1969},"end":{"line":34,"column":291,"offset":1988},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1698},"end":{"line":34,"column":291,"offset":1988},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> my_super_cool_existing_report\n</code></pre>\n      </div>","position":{"start":{"line":36,"column":1,"offset":1992},"end":{"line":41,"column":4,"offset":2048},"indent":[1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating a Push Channel","position":{"start":{"line":43,"column":4,"offset":2055},"end":{"line":43,"column":27,"offset":2078},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2052},"end":{"line":43,"column":27,"offset":2078},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Ok, now we head to transaction ","position":{"start":{"line":45,"column":1,"offset":2082},"end":{"line":45,"column":32,"offset":2113},"indent":[]}},{"type":"inlineCode","value":"SAPC","position":{"start":{"line":45,"column":32,"offset":2113},"end":{"line":45,"column":38,"offset":2119},"indent":[]}},{"type":"text","value":" - we are no going to define a websocket that will be hooked up to our push channel. That way, when something happens in our program, it will message to all subscribed channels, which will be forwarded , and then ultimately, to the most important part, the frontend for our user to see!","position":{"start":{"line":45,"column":38,"offset":2119},"end":{"line":45,"column":324,"offset":2405},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2082},"end":{"line":45,"column":324,"offset":2405},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Frontend","position":{"start":{"line":47,"column":4,"offset":2412},"end":{"line":47,"column":12,"offset":2420},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2409},"end":{"line":47,"column":12,"offset":2420},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"On the frontend I create a general websocket function that creates a websocket instance. In order to have the correct service for each view, upon each view change I call this function, which always creates a new instance if there exists a websocket instance already. This way we are sure that on any view change, we have a fresh running instance of the websocket doing the correct task for this view.","position":{"start":{"line":49,"column":1,"offset":2424},"end":{"line":49,"column":401,"offset":2824},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":2424},"end":{"line":49,"column":401,"offset":2824},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"That function looks like this:","position":{"start":{"line":51,"column":1,"offset":2828},"end":{"line":51,"column":31,"offset":2858},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2828},"end":{"line":51,"column":31,"offset":2858},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code></code></pre>\n      </div>","position":{"start":{"line":53,"column":1,"offset":2862},"end":{"line":55,"column":4,"offset":2872},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that you of course have to us ","position":{"start":{"line":57,"column":1,"offset":2876},"end":{"line":57,"column":36,"offset":2911},"indent":[]}},{"type":"inlineCode","value":"ws://","position":{"start":{"line":57,"column":36,"offset":2911},"end":{"line":57,"column":43,"offset":2918},"indent":[]}},{"type":"text","value":" as the protocol in the link name!","position":{"start":{"line":57,"column":43,"offset":2918},"end":{"line":57,"column":77,"offset":2952},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2876},"end":{"line":57,"column":77,"offset":2952},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"On the backend, that ends up looking like a ","position":{"start":{"line":59,"column":1,"offset":2956},"end":{"line":59,"column":45,"offset":3000},"indent":[]}},{"type":"inlineCode","value":"CASE","position":{"start":{"line":59,"column":45,"offset":3000},"end":{"line":59,"column":51,"offset":3006},"indent":[]}},{"type":"text","value":" statement:","position":{"start":{"line":59,"column":51,"offset":3006},"end":{"line":59,"column":62,"offset":3017},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":2956},"end":{"line":59,"column":62,"offset":3017},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CASE</span>\n</code></pre>\n      </div>","position":{"start":{"line":61,"column":1,"offset":3021},"end":{"line":63,"column":4,"offset":3039},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Code","position":{"start":{"line":65,"column":4,"offset":3046},"end":{"line":65,"column":8,"offset":3050},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3043},"end":{"line":65,"column":8,"offset":3050},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yep, you‚Äôre going to have to write some ABAP code too. Luckily for us, when we create a push channel in transaction SAPC, SAP generates a class skeleton with 4 methods:","position":{"start":{"line":67,"column":1,"offset":3054},"end":{"line":67,"column":169,"offset":3222},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3054},"end":{"line":67,"column":169,"offset":3222},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"","position":{"start":{"line":69,"column":1,"offset":3226},"end":{"line":70,"column":3,"offset":3232},"indent":[1]}},{"type":"text","value":"\n","position":{"start":{"line":70,"column":3,"offset":3232},"end":{"line":71,"column":1,"offset":3234},"indent":[1]}},{"type":"inlineCode","value":"","position":{"start":{"line":71,"column":1,"offset":3234},"end":{"line":72,"column":3,"offset":3240},"indent":[1]}},{"type":"text","value":"\n","position":{"start":{"line":72,"column":3,"offset":3240},"end":{"line":73,"column":1,"offset":3242},"indent":[1]}},{"type":"inlineCode","value":"","position":{"start":{"line":73,"column":1,"offset":3242},"end":{"line":73,"column":3,"offset":3244},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":3226},"end":{"line":73,"column":3,"offset":3244},"indent":[1,1,1,1]}},{"type":"html","value":"<hr/>","position":{"start":{"line":75,"column":1,"offset":3248},"end":{"line":75,"column":6,"offset":3253},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Footnotes","position":{"start":{"line":77,"column":3,"offset":3259},"end":{"line":77,"column":12,"offset":3268},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":3257},"end":{"line":77,"column":12,"offset":3268},"indent":[]}},{"type":"html","value":"<div id=\"footnote-1\">\n1. Note that unfortunately the SAP Web IDE does not yet support websockets, that is, without network wizardry. I haven't managed to get it to work. I've left  long ago a message with the person who was the lead on Cloud Connector asking if websocket (`ws` protocol) would eventually something to be supported, but haven't heard anything.\n</div>","position":{"start":{"line":78,"column":1,"offset":3270},"end":{"line":80,"column":7,"offset":3638},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":81,"column":1,"offset":3640}}}},{"id":"transformer-remark-markdown-ast-1b59827698279a172b2e995377043951-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: A Toast to Full Stack Developers\ndate: \"2017-12-12\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":83},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Warning everyone - this is a bit of rant post - but I hope some of you will agree and we can turn the tables of a stubborn community a bit.","position":{"start":{"line":7,"column":1,"offset":87},"end":{"line":7,"column":140,"offset":226},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":87},"end":{"line":7,"column":140,"offset":226},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Full Stack Myth?","position":{"start":{"line":9,"column":3,"offset":232},"end":{"line":9,"column":23,"offset":252},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":230},"end":{"line":9,"column":23,"offset":252},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Much to my surprise, throughout my various software engineering media consumption adventures - I‚Äôve discovered there is a general consensus that the idea of ‚Äòfull stack‚Äô is FAKE NEWS. Lots of people on podcasts say it I say screw that. That is a lot like saying, ‚Äúoh hey, did you know it‚Äôs impossible to write great apps or games if you‚Äôre a solo developer?‚Äù or, ‚ÄúWhat?!?! A nice dynamic UI, ","position":{"start":{"line":11,"column":1,"offset":256},"end":{"line":11,"column":393,"offset":648},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"with","position":{"start":{"line":11,"column":394,"offset":649},"end":{"line":11,"column":398,"offset":653},"indent":[]}}],"position":{"start":{"line":11,"column":393,"offset":648},"end":{"line":11,"column":399,"offset":654},"indent":[]}},{"type":"text","value":" a relational database backend ","position":{"start":{"line":11,"column":399,"offset":654},"end":{"line":11,"column":430,"offset":685},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"and","position":{"start":{"line":11,"column":431,"offset":686},"end":{"line":11,"column":434,"offset":689},"indent":[]}}],"position":{"start":{"line":11,"column":430,"offset":685},"end":{"line":11,"column":435,"offset":690},"indent":[]}},{"type":"text","value":" a websocket to send messages between the two!?!? You‚Äôre a madman!!!‚Äú.","position":{"start":{"line":11,"column":435,"offset":690},"end":{"line":11,"column":505,"offset":760},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":256},"end":{"line":11,"column":505,"offset":760},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Wait a second - isn‚Äôt that what this whole Web 3.0 stuff is supposed to do? Empower developers to make great apps all by themselves? I mean jeez, I know us, we‚Äôve spent hours on hours learning python, backend databases, container deploys, dabbled in numerous backend frameworks, not even getting started with your favorite modern front end framework of choice (yeah, there‚Äôs a lot of those too!) like Vue, React, Ember or more.","position":{"start":{"line":13,"column":1,"offset":764},"end":{"line":13,"column":428,"offset":1191},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":764},"end":{"line":13,"column":428,"offset":1191},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Of course full stack developers know they are more a less a jack of all trades, master of none. I know there are people who could kick my ass at both Postgresql database maintenance, and there are just as many frontend people who could totally kick my ass with a badass UI in React.","position":{"start":{"line":15,"column":1,"offset":1195},"end":{"line":15,"column":283,"offset":1477},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":1195},"end":{"line":15,"column":283,"offset":1477},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For me, full stack has always been about the adventure of software itself - its the nature of the discipline in fact - there are new tools being rolled out literally every day. I mean, really, if you‚Äôve written backend code for databases but have also built websites (I know there are many of us out there!)- how are you supposed to write that succinctly on a resume or CV? ‚ÄúHi, I‚Äôm Chris, part-time-database-program-writer-and-part-time-front-end-engineer‚Äù? I do concede that the moniker ‚Äòfull stack‚Äô is not really a good enough description by itself. In my case, I could say ‚Äòfull stack ","position":{"start":{"line":17,"column":1,"offset":1481},"end":{"line":17,"column":590,"offset":2070},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"web developer","position":{"start":{"line":17,"column":591,"offset":2071},"end":{"line":17,"column":604,"offset":2084},"indent":[]}}],"position":{"start":{"line":17,"column":590,"offset":2070},"end":{"line":17,"column":605,"offset":2085},"indent":[]}},{"type":"text","value":"‚Äô. With more practice, maybe someday a full stack ","position":{"start":{"line":17,"column":605,"offset":2085},"end":{"line":17,"column":655,"offset":2135},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"android developer","position":{"start":{"line":17,"column":656,"offset":2136},"end":{"line":17,"column":673,"offset":2153},"indent":[]}}],"position":{"start":{"line":17,"column":655,"offset":2135},"end":{"line":17,"column":674,"offset":2154},"indent":[]}},{"type":"text","value":" - but I need to run through a lot more projects before that happens :)","position":{"start":{"line":17,"column":674,"offset":2154},"end":{"line":17,"column":745,"offset":2225},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1481},"end":{"line":17,"column":745,"offset":2225},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":":wine: A Toast to Full Stack Developers :wine:","position":{"start":{"line":19,"column":3,"offset":2231},"end":{"line":19,"column":49,"offset":2277},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":2229},"end":{"line":19,"column":49,"offset":2277},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Just because we‚Äôre not the greatest, most amazing expert in a certain language, just because we don‚Äôt know certain frameworks, just because we haven‚Äôt focused in one software engineering discipline our entire careers‚Ä¶","position":{"start":{"line":21,"column":1,"offset":2281},"end":{"line":21,"column":220,"offset":2500},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":2281},"end":{"line":21,"column":220,"offset":2500},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Shouldn‚Äôt we still be able to call ourselves full stack developers?","position":{"start":{"line":23,"column":2,"offset":2505},"end":{"line":23,"column":69,"offset":2572},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":2504},"end":{"line":23,"column":70,"offset":2573},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":2504},"end":{"line":23,"column":70,"offset":2573},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Of course.","position":{"start":{"line":25,"column":3,"offset":2579},"end":{"line":25,"column":13,"offset":2589},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":2577},"end":{"line":25,"column":15,"offset":2591},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":2577},"end":{"line":25,"column":15,"offset":2591},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":26,"column":1,"offset":2593}}}},{"id":"transformer-remark-markdown-ast-5b982895d5d9d3a3ef6b6886af65fb2b-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Fully Automating Chrisfrew.in Productions - Part 2 of ??? - Building a Node.js Server Monitor\ndate: \"2018-05-11\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":144},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Node.js Server Monitor","position":{"start":{"line":7,"column":3,"offset":150},"end":{"line":7,"column":25,"offset":172},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":148},"end":{"line":7,"column":25,"offset":172},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In ","position":{"start":{"line":9,"column":1,"offset":176},"end":{"line":9,"column":4,"offset":179},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-1-of-roadmap-and-links-to-process/","children":[{"type":"text","value":"my attempt to automate my suite of websites","position":{"start":{"line":9,"column":5,"offset":180},"end":{"line":9,"column":48,"offset":223},"indent":[]}}],"position":{"start":{"line":9,"column":4,"offset":179},"end":{"line":9,"column":153,"offset":328},"indent":[]}},{"type":"text","value":", I wanted to build a simple Node.js server that monitors all my live sites, and sends me an email. Basically the process is simply:","position":{"start":{"line":9,"column":153,"offset":328},"end":{"line":9,"column":285,"offset":460},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":176},"end":{"line":9,"column":285,"offset":460},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"‚Äòcron‚Äô job that every 30 seconds to ping all my websites","position":{"start":{"line":11,"column":4,"offset":467},"end":{"line":11,"column":60,"offset":523},"indent":[]}}],"position":{"start":{"line":11,"column":4,"offset":467},"end":{"line":11,"column":60,"offset":523},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":464},"end":{"line":11,"column":60,"offset":523},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Check for 200 response from each, if not send email","position":{"start":{"line":12,"column":4,"offset":528},"end":{"line":12,"column":55,"offset":579},"indent":[]}}],"position":{"start":{"line":12,"column":4,"offset":528},"end":{"line":12,"column":55,"offset":579},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":525},"end":{"line":12,"column":55,"offset":579},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If an even greater problem is found, i.e., the site doesn‚Äôt even return a 4** code, also send an email","position":{"start":{"line":13,"column":4,"offset":584},"end":{"line":13,"column":106,"offset":686},"indent":[]}}],"position":{"start":{"line":13,"column":4,"offset":584},"end":{"line":13,"column":106,"offset":686},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":581},"end":{"line":13,"column":106,"offset":686},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A ‚Äòreactive‚Äô monitor - that is, don‚Äôt just send a mail when there are problems, try to spool up the server again and log if there is a failure!","position":{"start":{"line":14,"column":4,"offset":691},"end":{"line":14,"column":147,"offset":834},"indent":[]}}],"position":{"start":{"line":14,"column":4,"offset":691},"end":{"line":14,"column":147,"offset":834},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":688},"end":{"line":14,"column":147,"offset":834},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":464},"end":{"line":14,"column":147,"offset":834},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To accomplish this I utilized just three Node.js libraries:","position":{"start":{"line":16,"column":1,"offset":838},"end":{"line":16,"column":60,"offset":897},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":838},"end":{"line":16,"column":60,"offset":897},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"http","position":{"start":{"line":18,"column":3,"offset":903},"end":{"line":18,"column":9,"offset":909},"indent":[]}},{"type":"text","value":", to request the various sites I control","position":{"start":{"line":18,"column":9,"offset":909},"end":{"line":18,"column":49,"offset":949},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":903},"end":{"line":18,"column":49,"offset":949},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":901},"end":{"line":18,"column":49,"offset":949},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"node-schedule","position":{"start":{"line":19,"column":3,"offset":953},"end":{"line":19,"column":18,"offset":968},"indent":[]}},{"type":"text","value":", to create a cron-like check","position":{"start":{"line":19,"column":18,"offset":968},"end":{"line":19,"column":47,"offset":997},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":953},"end":{"line":19,"column":47,"offset":997},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":951},"end":{"line":19,"column":47,"offset":997},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"nodemailer","position":{"start":{"line":20,"column":3,"offset":1001},"end":{"line":20,"column":15,"offset":1013},"indent":[]}},{"type":"text","value":", a fantastic easy-to-use bare bones emailer, we‚Äôll send an email when there is a non 2** HTTP response or simple a non-response error (see code below) (","position":{"start":{"line":20,"column":15,"offset":1013},"end":{"line":20,"column":168,"offset":1166},"indent":[]}},{"type":"link","title":null,"url":"https://medium.com/@manojsinghnegi/sending-an-email-using-nodemailer-gmail-7cfa0712a799","children":[{"type":"text","value":"there is a great medium post on an about 20ish liner in Node.js to get started","position":{"start":{"line":20,"column":169,"offset":1167},"end":{"line":20,"column":247,"offset":1245},"indent":[]}}],"position":{"start":{"line":20,"column":168,"offset":1166},"end":{"line":20,"column":337,"offset":1335},"indent":[]}},{"type":"text","value":", and the setting in gmail you have to change)","position":{"start":{"line":20,"column":337,"offset":1335},"end":{"line":20,"column":383,"offset":1381},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":1001},"end":{"line":20,"column":383,"offset":1381},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":999},"end":{"line":20,"column":383,"offset":1381},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":901},"end":{"line":20,"column":383,"offset":1381},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Obviously this can be developed into a much more complex monitor, but for now I am happy as to how it runs.","position":{"start":{"line":22,"column":1,"offset":1385},"end":{"line":22,"column":108,"offset":1492},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1385},"end":{"line":22,"column":108,"offset":1492},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Improvements","position":{"start":{"line":24,"column":3,"offset":1498},"end":{"line":24,"column":15,"offset":1510},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1496},"end":{"line":24,"column":15,"offset":1510},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A few things I would like to improve with this Server:","position":{"start":{"line":26,"column":1,"offset":1514},"end":{"line":26,"column":55,"offset":1568},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1514},"end":{"line":26,"column":55,"offset":1568},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Control the ","position":{"start":{"line":28,"column":3,"offset":1574},"end":{"line":28,"column":15,"offset":1586},"indent":[]}},{"type":"inlineCode","value":"const","position":{"start":{"line":28,"column":15,"offset":1586},"end":{"line":28,"column":22,"offset":1593},"indent":[]}},{"type":"text","value":" array from somwehere else, perhaps a management GUI where I can maintain sites","position":{"start":{"line":28,"column":22,"offset":1593},"end":{"line":28,"column":101,"offset":1672},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":1574},"end":{"line":28,"column":101,"offset":1672},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1572},"end":{"line":28,"column":101,"offset":1672},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A global log class that could also be used in my Chrisfrew.in Productions Twitter Bot (coming soon in another post)","position":{"start":{"line":29,"column":3,"offset":1676},"end":{"line":29,"column":118,"offset":1791},"indent":[]}}],"position":{"start":{"line":29,"column":3,"offset":1676},"end":{"line":29,"column":118,"offset":1791},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1674},"end":{"line":29,"column":118,"offset":1791},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Increasing the information and complexity of what is sent in the emails?","position":{"start":{"line":30,"column":3,"offset":1795},"end":{"line":30,"column":75,"offset":1867},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":1795},"end":{"line":30,"column":75,"offset":1867},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1793},"end":{"line":30,"column":75,"offset":1867},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1572},"end":{"line":30,"column":75,"offset":1867},"indent":[1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Code","position":{"start":{"line":32,"column":3,"offset":1873},"end":{"line":32,"column":7,"offset":1877},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1871},"end":{"line":32,"column":7,"offset":1877},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As always, the most ","position":{"start":{"line":34,"column":1,"offset":1881},"end":{"line":34,"column":21,"offset":1901},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/chrisfrew.in-productions-monitor","children":[{"type":"text","value":"up-to-date code will be on GitHub","position":{"start":{"line":34,"column":22,"offset":1902},"end":{"line":34,"column":55,"offset":1935},"indent":[]}}],"position":{"start":{"line":34,"column":21,"offset":1901},"end":{"line":34,"column":127,"offset":2007},"indent":[]}},{"type":"text","value":", but as of this post, the full ","position":{"start":{"line":34,"column":127,"offset":2007},"end":{"line":34,"column":159,"offset":2039},"indent":[]}},{"type":"inlineCode","value":"index.js","position":{"start":{"line":34,"column":159,"offset":2039},"end":{"line":34,"column":169,"offset":2049},"indent":[]}},{"type":"text","value":" code is as follows:","position":{"start":{"line":34,"column":169,"offset":2049},"end":{"line":34,"column":189,"offset":2069},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1881},"end":{"line":34,"column":189,"offset":2069},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> schedule <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-schedule'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> nodemailer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nodemailer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> aSitesToTrack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"http://chrisfrew.in\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://nlp-champs.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://sirenapparel.us\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://chrisfrewin.design\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://seelengefluester-tirol.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://xn--seelengeflster-tirol-yec.com\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> transporter <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n service<span class=\"token punctuation\">:</span> <span class=\"token string\">'gmail'</span><span class=\"token punctuation\">,</span>\n auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        user<span class=\"token punctuation\">:</span> <span class=\"token string\">'chrisfrew.in.productions@gmail.com'</span><span class=\"token punctuation\">,</span>\n        pass<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_PRODUCTIONS_GMAIL_PASSWORD\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> mailOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'chrisfrew.in.productions@gmail.com'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// sender address</span>\n  to<span class=\"token punctuation\">:</span> <span class=\"token string\">'frewin.christopher@gmail.com'</span> <span class=\"token comment\">// list of receivers</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 1. cron this program every 30 seconds</span>\n<span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> schedule<span class=\"token punctuation\">.</span><span class=\"token function\">scheduleJob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'30 * * * * *'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">pingSites</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 2. loop through all sites</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">pingSites</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  aSitesToTrack<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>sSite<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    http<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>sSite<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// make sure response is 200</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> statusCode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> res<span class=\"token punctuation\">;</span> <span class=\"token comment\">// destructure responsE integer</span>\n      <span class=\"token keyword\">const</span> sStatusCode <span class=\"token operator\">=</span> statusCode<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// convert to string</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>sStatusCode<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// first digit should be a 2</span>\n        mailOptions<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> <span class=\"token string\">'Site Monitor Chrisfrew.in Productions: Non 2** HTTP Status code'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Subject line</span>\n        mailOptions<span class=\"token punctuation\">.</span>html <span class=\"token operator\">=</span> <span class=\"token string\">\"The site &lt;b>\"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/b> is returning a 404 HTTP error!\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// plain text body</span>\n        <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"404 email sent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// major error</span>\n      mailOptions<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> <span class=\"token string\">'Site Monitor Chrisfrew.in Productions: Site non-responsive'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Subject line</span>\n      mailOptions<span class=\"token punctuation\">.</span>html <span class=\"token operator\">=</span> <span class=\"token string\">\"The site &lt;b>\"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/b> is non responsive! (Not even a 404 response was found!)\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// plain text body</span>\n      <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error email sent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Site ping of \"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\" complete.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 3. send email if there was error</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  transporter<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span>mailOptions<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n         console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n       <span class=\"token keyword\">else</span>\n         console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>","position":{"start":{"line":36,"column":1,"offset":2073},"end":{"line":91,"column":4,"offset":4233},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":91,"column":4,"offset":4233}}}},{"id":"transformer-remark-markdown-ast-15e231b7898cd5afb485cd587c9829bd-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: My First and Final Statement on Bitcoin for this Blog\ndate: \"2017-12-18\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":104},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Lots of words have been thrown around Bitcoin recently. Tulip Madness. Silk Road. Ponzi Scheme. While this blog will (rest assured) remain about software development and programming, I had to give my final say (barring whatever crap I may spew on reddit from time to time üòÑ) SOMEWHERE about Bitcoin. I decided that somewhere was here.","position":{"start":{"line":7,"column":1,"offset":108},"end":{"line":7,"column":336,"offset":443},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":108},"end":{"line":7,"column":336,"offset":443},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"My Promise to You","position":{"start":{"line":9,"column":3,"offset":449},"end":{"line":9,"column":20,"offset":466},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":447},"end":{"line":9,"column":20,"offset":466},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let me promise you, I won‚Äôt post about Bitcoin speculation on this blog ever again. (At least in relation to any sort of price speculation, maybe one day later I will post on some tech stuff)","position":{"start":{"line":11,"column":1,"offset":470},"end":{"line":11,"column":192,"offset":661},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":470},"end":{"line":11,"column":192,"offset":661},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Numbers","position":{"start":{"line":13,"column":3,"offset":667},"end":{"line":13,"column":14,"offset":678},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":665},"end":{"line":13,"column":14,"offset":678},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The most basic key economics of Bitcoin for determining it‚Äôs price are: 1. there will only be 21 million of them, and 2. The demand for the holy coin is ever increasing, and at least all of 2018, it looks as though that trend will hold. As long as these two key economic ingredients hold true (the 21 million I am 100% sure of, it‚Äôs ","position":{"start":{"line":15,"column":1,"offset":682},"end":{"line":15,"column":334,"offset":1015},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L1361","children":[{"type":"text","value":"baked intp Bitcoin‚Äôs code","position":{"start":{"line":15,"column":335,"offset":1016},"end":{"line":15,"column":360,"offset":1041},"indent":[]}}],"position":{"start":{"line":15,"column":334,"offset":1015},"end":{"line":15,"column":462,"offset":1143},"indent":[]}},{"type":"text","value":"), the inarguable bottom line is that the price will go up, no exceptions. We don‚Äôt even need any technical analysis! There are millions of examples throughout history: something with a limited supply and increasing demand, the ‚Äúthings‚Äù price goes up. No exceptions.","position":{"start":{"line":15,"column":462,"offset":1143},"end":{"line":15,"column":728,"offset":1409},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":682},"end":{"line":15,"column":728,"offset":1409},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"First to Market","position":{"start":{"line":17,"column":3,"offset":1415},"end":{"line":17,"column":18,"offset":1430},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1413},"end":{"line":17,"column":18,"offset":1430},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It‚Äôs important to remember, Bitcoin was the first of its kind (certainly not the best - many improvements in other coins and blockchain protocols exist - more on that below), Bitcoin has both the largest ","position":{"start":{"line":18,"column":1,"offset":1432},"end":{"line":18,"column":205,"offset":1636},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"and","position":{"start":{"line":18,"column":206,"offset":1637},"end":{"line":18,"column":209,"offset":1640},"indent":[]}}],"position":{"start":{"line":18,"column":205,"offset":1636},"end":{"line":18,"column":210,"offset":1641},"indent":[]}},{"type":"text","value":" majority of the market caps among all the other cryptocurrencies. (Edit: December 19th! Bitcoin dipped just below 49.9% market capitilization in crypto! ","position":{"start":{"line":18,"column":210,"offset":1641},"end":{"line":18,"column":364,"offset":1795},"indent":[]}},{"type":"link","title":null,"url":"frewinchristopher.github.io/markcap","children":[{"type":"text","value":"I built a small bookmarklet called MarkCap","position":{"start":{"line":18,"column":365,"offset":1796},"end":{"line":18,"column":407,"offset":1838},"indent":[]}}],"position":{"start":{"line":18,"column":364,"offset":1795},"end":{"line":18,"column":445,"offset":1876},"indent":[]}},{"type":"text","value":" for ","position":{"start":{"line":18,"column":445,"offset":1876},"end":{"line":18,"column":450,"offset":1881},"indent":[]}},{"type":"link","title":null,"url":"coinmarketcap.com","children":[{"type":"text","value":"coinmarketcap.com","position":{"start":{"line":18,"column":451,"offset":1882},"end":{"line":18,"column":468,"offset":1899},"indent":[]}}],"position":{"start":{"line":18,"column":450,"offset":1881},"end":{"line":18,"column":488,"offset":1919},"indent":[]}},{"type":"text","value":" that puts the percent market cap next to the market cap number.)","position":{"start":{"line":18,"column":488,"offset":1919},"end":{"line":18,"column":553,"offset":1984},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1432},"end":{"line":18,"column":553,"offset":1984},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./bitcoincomic.jpg","alt":"\"We'll give up the hostages if you send us 10000 Bitcoin!\" \"10000 Bitcoin? Does he think this is 2017? There's no single entity left in the world with that much!\"","position":{"start":{"line":20,"column":1,"offset":1988},"end":{"line":20,"column":186,"offset":2173},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1988},"end":{"line":20,"column":186,"offset":2173},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A comic I thought up about Bitcoin  üòÇüòÇüòÇ (","position":{"start":{"line":22,"column":1,"offset":2177},"end":{"line":22,"column":45,"offset":2221},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"comic is still not done, but it will show up here soon","position":{"start":{"line":22,"column":46,"offset":2222},"end":{"line":22,"column":100,"offset":2276},"indent":[]}}],"position":{"start":{"line":22,"column":45,"offset":2221},"end":{"line":22,"column":101,"offset":2277},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":22,"column":101,"offset":2277},"end":{"line":22,"column":103,"offset":2279},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":2177},"end":{"line":22,"column":103,"offset":2279},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As cash flows from standard gold to Bitcoin, the market cap could approach the ","position":{"start":{"line":24,"column":1,"offset":2283},"end":{"line":24,"column":80,"offset":2362},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"trillions","position":{"start":{"line":24,"column":81,"offset":2363},"end":{"line":24,"column":90,"offset":2372},"indent":[]}}],"position":{"start":{"line":24,"column":80,"offset":2362},"end":{"line":24,"column":91,"offset":2373},"indent":[]}},{"type":"text","value":" range. With that order of magnitude of market cap, 1 Bitcoin would have:","position":{"start":{"line":24,"column":91,"offset":2373},"end":{"line":24,"column":164,"offset":2446},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":2283},"end":{"line":24,"column":164,"offset":2446},"indent":[]}},{"type":"table","align":[null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Market Capitalization","position":{"start":{"line":26,"column":3,"offset":2452},"end":{"line":26,"column":24,"offset":2473},"indent":[]}}],"position":{"start":{"line":26,"column":3,"offset":2452},"end":{"line":26,"column":24,"offset":2473},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Bitcoin price*","position":{"start":{"line":26,"column":27,"offset":2476},"end":{"line":26,"column":41,"offset":2490},"indent":[]}}],"position":{"start":{"line":26,"column":27,"offset":2476},"end":{"line":26,"column":41,"offset":2490},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":2450},"end":{"line":26,"column":43,"offset":2492},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"1 Trillion","position":{"start":{"line":28,"column":3,"offset":2540},"end":{"line":28,"column":13,"offset":2550},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":2540},"end":{"line":28,"column":13,"offset":2550},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"~$55,500","position":{"start":{"line":28,"column":16,"offset":2553},"end":{"line":28,"column":24,"offset":2561},"indent":[]}}],"position":{"start":{"line":28,"column":16,"offset":2553},"end":{"line":28,"column":24,"offset":2561},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":2538},"end":{"line":28,"column":26,"offset":2563},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"2 Trillion","position":{"start":{"line":29,"column":3,"offset":2567},"end":{"line":29,"column":13,"offset":2577},"indent":[]}}],"position":{"start":{"line":29,"column":3,"offset":2567},"end":{"line":29,"column":13,"offset":2577},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"~$111,000","position":{"start":{"line":29,"column":16,"offset":2580},"end":{"line":29,"column":25,"offset":2589},"indent":[]}}],"position":{"start":{"line":29,"column":16,"offset":2580},"end":{"line":29,"column":25,"offset":2589},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2565},"end":{"line":29,"column":27,"offset":2591},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"3 Trillion","position":{"start":{"line":30,"column":3,"offset":2595},"end":{"line":30,"column":13,"offset":2605},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":2595},"end":{"line":30,"column":13,"offset":2605},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"~$167,000","position":{"start":{"line":30,"column":16,"offset":2608},"end":{"line":30,"column":25,"offset":2617},"indent":[]}}],"position":{"start":{"line":30,"column":16,"offset":2608},"end":{"line":30,"column":25,"offset":2617},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2593},"end":{"line":30,"column":27,"offset":2619},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"‚Ä¶","position":{"start":{"line":31,"column":3,"offset":2623},"end":{"line":31,"column":6,"offset":2626},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":2623},"end":{"line":31,"column":6,"offset":2626},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"‚Ä¶","position":{"start":{"line":31,"column":9,"offset":2629},"end":{"line":31,"column":12,"offset":2632},"indent":[]}}],"position":{"start":{"line":31,"column":9,"offset":2629},"end":{"line":31,"column":12,"offset":2632},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2621},"end":{"line":31,"column":14,"offset":2634},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"7 Trillion (market cap of gold)","position":{"start":{"line":32,"column":3,"offset":2638},"end":{"line":32,"column":34,"offset":2669},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":2638},"end":{"line":32,"column":34,"offset":2669},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"~$389,000","position":{"start":{"line":32,"column":37,"offset":2672},"end":{"line":32,"column":46,"offset":2681},"indent":[]}}],"position":{"start":{"line":32,"column":37,"offset":2672},"end":{"line":32,"column":46,"offset":2681},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2636},"end":{"line":32,"column":48,"offset":2683},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":2450},"end":{"line":32,"column":48,"offset":2683},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":34,"column":1,"offset":2687},"end":{"line":34,"column":3,"offset":2689},"indent":[]}},{"type":"text","value":"(assuming around 18 million Bitcoins - currently 16.7 as of writing this entry - it‚Äôs accurate enough as of this posting in late 2017; the 18th millionth Bitcoin isn‚Äôt expected to be mined until October 9th, 2019 - check out ","position":{"start":{"line":34,"column":3,"offset":2689},"end":{"line":34,"column":228,"offset":2914},"indent":[]}},{"type":"link","title":null,"url":"https://medium.com/@frewin.christopher/the-bitcoin-mining-schedule-from-december-18-2017-to-june-8-2020-407db59e69f4","children":[{"type":"text","value":"my post on medium about the mining schedule until the next halving","position":{"start":{"line":34,"column":229,"offset":2915},"end":{"line":34,"column":295,"offset":2981},"indent":[]}}],"position":{"start":{"line":34,"column":228,"offset":2914},"end":{"line":34,"column":414,"offset":3100},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":34,"column":414,"offset":3100},"end":{"line":34,"column":415,"offset":3101},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2687},"end":{"line":34,"column":415,"offset":3101},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I predict:","position":{"start":{"line":36,"column":1,"offset":3105},"end":{"line":36,"column":11,"offset":3115},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":3105},"end":{"line":36,"column":11,"offset":3115},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"$20,000 by January 1st 2018 (update: we already made it for a short period of time on December 17th!)","position":{"start":{"line":38,"column":3,"offset":3121},"end":{"line":38,"column":104,"offset":3222},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":3121},"end":{"line":38,"column":104,"offset":3222},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3119},"end":{"line":38,"column":104,"offset":3222},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"$50,000 by end of Q2 2018 (i.e. end of June 2018)","position":{"start":{"line":39,"column":3,"offset":3226},"end":{"line":39,"column":52,"offset":3275},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":3226},"end":{"line":39,"column":52,"offset":3275},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":3224},"end":{"line":39,"column":52,"offset":3275},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"$100,000 by end of Q4 2018 (i.e. end of December 2018)","position":{"start":{"line":40,"column":3,"offset":3279},"end":{"line":40,"column":57,"offset":3333},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":3279},"end":{"line":40,"column":57,"offset":3333},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3277},"end":{"line":40,"column":57,"offset":3333},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3119},"end":{"line":40,"column":57,"offset":3333},"indent":[1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"But‚Ä¶ 5 Years Out? 10 Years?","position":{"start":{"line":42,"column":3,"offset":3339},"end":{"line":42,"column":32,"offset":3368},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":3337},"end":{"line":42,"column":32,"offset":3368},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So I have a somewhat non-average view of Bitcoin in the long run (5-10 year) time range (yes, things like ","position":{"start":{"line":44,"column":1,"offset":3372},"end":{"line":44,"column":107,"offset":3478},"indent":[]}},{"type":"link","title":null,"url":"http://blog.flippening.watch/what-is-the-flippening/","children":[{"type":"text","value":"THE FLIPPENING","position":{"start":{"line":44,"column":108,"offset":3479},"end":{"line":44,"column":122,"offset":3493},"indent":[]}}],"position":{"start":{"line":44,"column":107,"offset":3478},"end":{"line":44,"column":177,"offset":3548},"indent":[]}},{"type":"text","value":" I think could happen). The world is still getting used to cryptocurrency. However, as soon as that honeymoon period is ","position":{"start":{"line":44,"column":177,"offset":3548},"end":{"line":44,"column":297,"offset":3668},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"over","position":{"start":{"line":44,"column":298,"offset":3669},"end":{"line":44,"column":302,"offset":3673},"indent":[]}}],"position":{"start":{"line":44,"column":297,"offset":3668},"end":{"line":44,"column":303,"offset":3674},"indent":[]}},{"type":"text","value":", the world should (not as it always does, I know), realize a few things:","position":{"start":{"line":44,"column":303,"offset":3674},"end":{"line":44,"column":376,"offset":3747},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":3372},"end":{"line":44,"column":376,"offset":3747},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Bitcoin, while first to the cryptocurrency market, is undoubtedly ","position":{"start":{"line":46,"column":3,"offset":3753},"end":{"line":46,"column":69,"offset":3819},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":46,"column":70,"offset":3820},"end":{"line":46,"column":73,"offset":3823},"indent":[]}}],"position":{"start":{"line":46,"column":69,"offset":3819},"end":{"line":46,"column":74,"offset":3824},"indent":[]}},{"type":"text","value":" the best cryptocurrency on the market. Even as I write this post, transaction times are stacking up, and a single transaction costs over $3. And what happens to the miners once mining stop? ","position":{"start":{"line":46,"column":74,"offset":3824},"end":{"line":46,"column":265,"offset":4015},"indent":[]}},{"type":"link","title":null,"url":"https://news.bitcoin.com/what-happens-bitcoin-miners-all-coins-mined/","children":[{"type":"text","value":"That‚Äôs still a question where I‚Äôm not totally satisfied what some of the answers are.","position":{"start":{"line":46,"column":266,"offset":4016},"end":{"line":46,"column":351,"offset":4101},"indent":[]}}],"position":{"start":{"line":46,"column":265,"offset":4015},"end":{"line":46,"column":423,"offset":4173},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":3753},"end":{"line":46,"column":423,"offset":4173},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":3751},"end":{"line":46,"column":423,"offset":4173},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Litecoin is a copy of (suprised? look at this ","position":{"start":{"line":47,"column":3,"offset":4177},"end":{"line":47,"column":49,"offset":4223},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/litecoin-project/litecoin/commit/4405b78d6059e536c36974088a8ed4d9f0f29898","children":[{"type":"text","value":"fork to litecoin from the bitcoin repository by Charlie Lee, the founder of Litecoin","position":{"start":{"line":47,"column":50,"offset":4224},"end":{"line":47,"column":134,"offset":4308},"indent":[]}}],"position":{"start":{"line":47,"column":49,"offset":4223},"end":{"line":47,"column":229,"offset":4403},"indent":[]}},{"type":"text","value":") sorry, but I don‚Äôt see much innovation there","position":{"start":{"line":47,"column":229,"offset":4403},"end":{"line":47,"column":275,"offset":4449},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":4177},"end":{"line":47,"column":275,"offset":4449},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":4175},"end":{"line":47,"column":275,"offset":4449},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Other blockchain technologies, like Ethereum, Cosmos, and many more (I have a few personal favorites) have numerous advantages, not limited to:","position":{"start":{"line":48,"column":3,"offset":4453},"end":{"line":48,"column":146,"offset":4596},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":4453},"end":{"line":48,"column":146,"offset":4596},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a much larger development team","position":{"start":{"line":49,"column":5,"offset":4602},"end":{"line":49,"column":35,"offset":4632},"indent":[]}}],"position":{"start":{"line":49,"column":5,"offset":4602},"end":{"line":49,"column":35,"offset":4632},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":4600},"end":{"line":49,"column":35,"offset":4632},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a much stronger and active code base","position":{"start":{"line":50,"column":5,"offset":4638},"end":{"line":50,"column":41,"offset":4674},"indent":[]}}],"position":{"start":{"line":50,"column":5,"offset":4638},"end":{"line":50,"column":41,"offset":4674},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":4636},"end":{"line":50,"column":41,"offset":4674},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"MUCH faster transaction times (Ether, the next closes coin in market cap, processes about ","position":{"start":{"line":51,"column":5,"offset":4680},"end":{"line":51,"column":95,"offset":4770},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"2.5x","position":{"start":{"line":51,"column":96,"offset":4771},"end":{"line":51,"column":100,"offset":4775},"indent":[]}}],"position":{"start":{"line":51,"column":95,"offset":4770},"end":{"line":51,"column":101,"offset":4776},"indent":[]}},{"type":"text","value":" as many transactions as Bitcoin per day)","position":{"start":{"line":51,"column":101,"offset":4776},"end":{"line":51,"column":142,"offset":4817},"indent":[]}}],"position":{"start":{"line":51,"column":5,"offset":4680},"end":{"line":51,"column":142,"offset":4817},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":4678},"end":{"line":51,"column":142,"offset":4817},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":4600},"end":{"line":51,"column":142,"offset":4817},"indent":[3,3]}}],"position":{"start":{"line":48,"column":1,"offset":4451},"end":{"line":51,"column":142,"offset":4817},"indent":[1,1,1]}}],"position":{"start":{"line":46,"column":1,"offset":3751},"end":{"line":51,"column":142,"offset":4817},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once these aspects of the market are noticed, I believe wealth will slowly transfer out of Bitcoin - when and if enough people will decide that Bitcoin‚Äôs ‚Äòstore of wealth‚Äô could in fact be invested in the next best thing (i.e. coin/token). Perhaps once Bitcoin does reach such towering numbers of 50 - 100K, it‚Äôs purpose as a store of global wealth (note NOT the original purpose of Bitcoin) will be met, and perhaps the demand for transactions will taper off. On the other hand, perhaps even a better option for storing wealth in a blockchain could appear. With the rate of speed the tech is moving, its impossible to say, again, only time will tell.","position":{"start":{"line":53,"column":1,"offset":4821},"end":{"line":53,"column":652,"offset":5472},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":4821},"end":{"line":53,"column":652,"offset":5472},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But, for the present, let the following stand:","position":{"start":{"line":55,"column":1,"offset":5476},"end":{"line":55,"column":47,"offset":5522},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":5476},"end":{"line":55,"column":47,"offset":5522},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"As of 16:08 UTC, Tuesday December 12, 2017 the mid-market price on GDAX for 1 Bitcoin was $17,450.","position":{"start":{"line":57,"column":3,"offset":5528},"end":{"line":57,"column":101,"offset":5626},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":5526},"end":{"line":57,"column":103,"offset":5628},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":5526},"end":{"line":57,"column":103,"offset":5628},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"My Conclusions","position":{"start":{"line":59,"column":3,"offset":5634},"end":{"line":59,"column":17,"offset":5648},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":5632},"end":{"line":59,"column":17,"offset":5648},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"My overall thoughts are this: Bitcoin will continue to see a run up into very large numbers in the 50K-100K region, then stabilize as buying rates finally settle down to match that of selling rates. Then, at some point along this stagnation, there will be a slow starting decrease downtrend in Bitcoin‚Äôs price, then accelerating, bringing the price of Bitcoin back to its pre-boom levels (think: $5 - $10 range). When will this happen? I would say not within the next 5-10 years. But it‚Äôs my long term feeling.","position":{"start":{"line":61,"column":1,"offset":5652},"end":{"line":61,"column":511,"offset":6162},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":5652},"end":{"line":61,"column":511,"offset":6162},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":63,"column":1,"offset":6166},"end":{"line":63,"column":11,"offset":6176},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":6166},"end":{"line":63,"column":11,"offset":6176},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":64,"column":1,"offset":6178}}}},{"id":"transformer-remark-markdown-ast-075fc05d45f1d2f3f3ae04b154a2d3b4-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Debugging ABAP Code with a SAP Shortcut - A Must-Have Tool!\ndate: \"2017-12-27\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":110},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"This is a Must-Have Tool for any ABAP Developer!","position":{"start":{"line":7,"column":4,"offset":117},"end":{"line":7,"column":52,"offset":165},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":114},"end":{"line":7,"column":52,"offset":165},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Did you ever find you wanted to debug something in SAP GUI right on a certain command or action, but it was in a popup? You can‚Äôt access the command line to enter ","position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":164,"offset":330},"indent":[]}},{"type":"inlineCode","value":"\\h","position":{"start":{"line":8,"column":164,"offset":330},"end":{"line":8,"column":168,"offset":334},"indent":[]}},{"type":"text","value":"! Well, now you can with this amazing SAP shortcut!","position":{"start":{"line":8,"column":168,"offset":334},"end":{"line":8,"column":219,"offset":385},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":219,"offset":385},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Open any text editor and add the following:","position":{"start":{"line":10,"column":1,"offset":389},"end":{"line":10,"column":44,"offset":432},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":389},"end":{"line":10,"column":44,"offset":432},"indent":[]}},{"type":"html","lang":"txt","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-txt\"><code>[System]\nName=ERP\nDescription=My company's super awesome ERP system name\nClient=100\n[User]\nName=CHRIS_IS_AWESOME\nLanguage=EN\n[Function]\nTitle=Debugging\nCommand=/h\nType=SystemCommand\n[Configuration]\nWorkDir=\\\\SomePath\\To_a_working_directory\n[Options]\nReuse=0</code></pre>\n      </div>","position":{"start":{"line":12,"column":1,"offset":436},"end":{"line":28,"column":4,"offset":720},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note that the ","position":{"start":{"line":30,"column":1,"offset":724},"end":{"line":30,"column":15,"offset":738},"indent":[]}},{"type":"inlineCode","value":"Name","position":{"start":{"line":30,"column":15,"offset":738},"end":{"line":30,"column":21,"offset":744},"indent":[]}},{"type":"text","value":" (under ","position":{"start":{"line":30,"column":21,"offset":744},"end":{"line":30,"column":29,"offset":752},"indent":[]}},{"type":"inlineCode","value":"[System]","position":{"start":{"line":30,"column":29,"offset":752},"end":{"line":30,"column":39,"offset":762},"indent":[]}},{"type":"text","value":"), ","position":{"start":{"line":30,"column":39,"offset":762},"end":{"line":30,"column":42,"offset":765},"indent":[]}},{"type":"inlineCode","value":"Client","position":{"start":{"line":30,"column":42,"offset":765},"end":{"line":30,"column":50,"offset":773},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":30,"column":50,"offset":773},"end":{"line":30,"column":52,"offset":775},"indent":[]}},{"type":"inlineCode","value":"Name","position":{"start":{"line":30,"column":52,"offset":775},"end":{"line":30,"column":58,"offset":781},"indent":[]}},{"type":"text","value":" (under ","position":{"start":{"line":30,"column":58,"offset":781},"end":{"line":30,"column":66,"offset":789},"indent":[]}},{"type":"inlineCode","value":"[User]","position":{"start":{"line":30,"column":66,"offset":789},"end":{"line":30,"column":74,"offset":797},"indent":[]}},{"type":"text","value":"), and ","position":{"start":{"line":30,"column":74,"offset":797},"end":{"line":30,"column":81,"offset":804},"indent":[]}},{"type":"inlineCode","value":"WorkDir","position":{"start":{"line":30,"column":81,"offset":804},"end":{"line":30,"column":90,"offset":813},"indent":[]}},{"type":"text","value":" should all be set to your specific setup. (That‚Äôs why I‚Äôve put obvious bogus names for each of them üòÑ ).","position":{"start":{"line":30,"column":90,"offset":813},"end":{"line":30,"column":196,"offset":919},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":724},"end":{"line":30,"column":196,"offset":919},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I keep a copy of mine on my desktop and in my documents directory, as ","position":{"start":{"line":32,"column":1,"offset":923},"end":{"line":32,"column":71,"offset":993},"indent":[]}},{"type":"inlineCode","value":"debugging.sap","position":{"start":{"line":32,"column":71,"offset":993},"end":{"line":32,"column":86,"offset":1008},"indent":[]}},{"type":"text","value":", so it‚Äôs always close at hand.","position":{"start":{"line":32,"column":86,"offset":1008},"end":{"line":32,"column":117,"offset":1039},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":923},"end":{"line":32,"column":117,"offset":1039},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Whenever you need to debug something running from a popup, just drag and drop this shortcut into the window you want to debug! (either pressing enter in a field or pressing a button to continue the process in the GUI.)","position":{"start":{"line":34,"column":1,"offset":1043},"end":{"line":34,"column":219,"offset":1261},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1043},"end":{"line":34,"column":219,"offset":1261},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":36,"column":1,"offset":1265},"end":{"line":36,"column":3,"offset":1267},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":36,"column":3,"offset":1267},"end":{"line":36,"column":5,"offset":1269},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":36,"column":5,"offset":1269},"end":{"line":36,"column":7,"offset":1271},"indent":[]}},{"type":"text","value":" Common gotchya: Things like pressing F4 or clicking the entry help button on any fields will also bring up the debugger after you have dragged and dropped this GUI shortcut - so, make sure you press the button/do the action of exactly what you want to debug!","position":{"start":{"line":36,"column":7,"offset":1271},"end":{"line":36,"column":266,"offset":1530},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1265},"end":{"line":36,"column":266,"offset":1530},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":37,"column":1,"offset":1532}}}},{"id":"transformer-remark-markdown-ast-95fb7a818efed61d9dcc37f3fd90eced-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: A Detailed Look at ABAP's BDC Method\ndate: \"2018-01-24\"\ndraft: true","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":86},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"And some common gotchyas, too","position":{"start":{"line":7,"column":4,"offset":93},"end":{"line":7,"column":33,"offset":122},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":90},"end":{"line":7,"column":33,"offset":122},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">*                          S A P M S S Y 0</span>\n<span class=\"token comment\">*                  system routines for ABAP processing</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">*                  (must be declared as FUNCTION-POOL)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">function-pool</span> sapmssy0  <span class=\"token keyword\">message-id</span> <span class=\"token number\">02</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> &lt;%_list><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> &lt;sys000><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> tskhincl<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">tables</span><span class=\"token punctuation\">:</span> tfdir<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  orders          <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"ON COMMIT orders</span>\n       rb_orders       <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"ON ROLLBACK orders</span>\n       imode_orders    <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"POC in CALL DIALOG</span>\n       imode_rb_orders <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">.</span>\n<span class=\"token eol-comment comment\">\"POR in CALL DIALOG</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS event handling</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> os_orders        <span class=\"token keyword\">type</span> <span class=\"token keyword\">hashed</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders\n                            <span class=\"token keyword\">with</span> <span class=\"token keyword\">unique</span> <span class=\"token keyword\">key</span> prog rout<span class=\"token punctuation\">.</span>      <span class=\"token eol-comment comment\">\"#EC NEEDED</span>\n<span class=\"token eol-comment comment\">\"OS ON COMMIT orders</span>\n<span class=\"token comment\">* end RTM</span>\n\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  %_vbkey <span class=\"token keyword\">type</span> %_vbkey <span class=\"token keyword\">value</span> <span class=\"token string\">'%_'</span><span class=\"token punctuation\">,</span>                     <span class=\"token eol-comment comment\">\"#EC *</span>\n       %%vbkey <span class=\"token keyword\">type</span> %_vbkey <span class=\"token keyword\">value</span> <span class=\"token string\">'%%'</span><span class=\"token punctuation\">,</span>\n       %_vb_calls <span class=\"token keyword\">type</span> %_vb_calls <span class=\"token keyword\">occurs</span> <span class=\"token number\">50</span> <span class=\"token keyword\">with</span> <span class=\"token keyword\">header</span> <span class=\"token keyword\">line</span><span class=\"token punctuation\">.</span>\"#EC <span class=\"token operator\">*</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  i_level <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span> <span class=\"token keyword\">value</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> arfc_pending <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">,</span>\n       trfc_nowait_for_update <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* bgRFC: something todo at COMMIT / ROLLBACK</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> bgrfc_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* LDQ: something todo at COMMIT / ROLLBACK</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> ldq_writer_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> ldq_reader_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* O R D E R _ F O R M _ L E V E L</span>\n<span class=\"token comment\">* order given form to be run when work is committed</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Input : program name, form name, execution level</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_order_form_level <span class=\"token keyword\">using</span> prog rout u_level<span class=\"token punctuation\">.</span>            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> allow_nested_poc<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">,</span>\n        caller <span class=\"token keyword\">type</span> sy<span class=\"token token-operator punctuation\">-</span>repid<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> mpar1<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar2<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar3<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar4<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> imode_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                    <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">import</span> imode_orders imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> imode_orders\n      <span class=\"token keyword\">into</span> imode_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> imode_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> u_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> imode_orders_wa <span class=\"token keyword\">into</span> imode_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">export</span> imode_orders imode_rb_orders <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     already in PERFORM ON COMMIT</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'C_SAPGPARAM'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'NAME'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'abap/allow_nested_poc'</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                         <span class=\"token keyword\">id</span> <span class=\"token string\">'VALUE'</span> <span class=\"token keyword\">field</span> allow_nested_poc<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> allow_nested_poc <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       nested PERFORM ON COMMIT not allowed</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'AB_GET_CALLER'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'PROGRAM'</span> <span class=\"token keyword\">field</span> caller<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n        <span class=\"token keyword\">if</span> caller <span class=\"token operator\">&lt;></span> <span class=\"token string\">'SAPMSSY0'</span><span class=\"token punctuation\">.</span>\n          mpar1 <span class=\"token operator\">=</span> <span class=\"token string\">'NESTED_PERFORM_ON_COMMIT'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'caller:'</span>  caller <span class=\"token keyword\">into</span> mpar2 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'program:'</span> prog   <span class=\"token keyword\">into</span> mpar3 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'form:'</span>    rout   <span class=\"token keyword\">into</span> mpar4 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*         switch back kernel flag: just for sure.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n<span class=\"token comment\">*         issue short dump</span>\n          <span class=\"token keyword\">message</span> x081<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">with</span> mpar1 mpar2 mpar3 mpar4<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> orders\n      <span class=\"token keyword\">into</span> orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> u_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> orders_wa <span class=\"token keyword\">into</span> orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   for RTM test concerning POC during OS event handling</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> orders_wa <span class=\"token keyword\">into</span> <span class=\"token keyword\">table</span> os_orders<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   end RTM</span>\n\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_order_form_level</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* O R D E R _ F O R M _ F O R _ R O L L B A C K</span>\n<span class=\"token comment\">* order given form to be run when work is rolled back</span>\n<span class=\"token comment\">* Input : program name, form name</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_order_form_for_rollback <span class=\"token keyword\">using</span> prog rout<span class=\"token punctuation\">.</span>             <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> mpar1<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar2<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar3<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar4<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        caller <span class=\"token keyword\">type</span> sy<span class=\"token token-operator punctuation\">-</span>repid<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> rb_orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        imode_rb_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                    <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">import</span> imode_orders imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> imode_rb_orders\n      <span class=\"token keyword\">into</span> imode_rb_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n           rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> imode_rb_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> imode_rb_orders_wa <span class=\"token keyword\">into</span> imode_rb_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">export</span> imode_orders imode_rb_orders <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'AB_GET_CALLER'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'PROGRAM'</span> <span class=\"token keyword\">field</span> caller<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n      mpar1 <span class=\"token operator\">=</span> <span class=\"token string\">'NESTED_PERFORM_ON_ROLLBACK'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'caller:'</span>  caller <span class=\"token keyword\">into</span> mpar2 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'program:'</span> prog   <span class=\"token keyword\">into</span> mpar3 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'form:'</span>    rout   <span class=\"token keyword\">into</span> mpar4 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     switch back kernel flag: just for sure.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     already in PERFORM ON ROLLBACK issue short dump</span>\n      <span class=\"token keyword\">message</span> x081<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">with</span> mpar1 mpar2 mpar3 mpar4<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> rb_orders <span class=\"token keyword\">into</span> rb_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> rb_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> rb_orders_wa <span class=\"token keyword\">into</span> rb_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_order_form_for_rollback</span>\n\n\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*  %_COMMIT_PREPARE                                                   *</span>\n<span class=\"token comment\">*  Set date and time for aRFC</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">form</span> %_commit_prepare <span class=\"token keyword\">using</span> <span class=\"token keyword\">date</span> <span class=\"token keyword\">time</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"#EC *</span>\n\n  %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time <span class=\"token operator\">=</span> <span class=\"token keyword\">time</span><span class=\"token punctuation\">.</span>\n  %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date <span class=\"token operator\">=</span> <span class=\"token keyword\">date</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_commit_prepare</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_BEFORE_COMMIT</span>\n<span class=\"token comment\">* called from RSYN commit.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_before_commit<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> txend <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* forbid COMMIT if already in ON ROLLBACK handling</span>\n<span class=\"token comment\">* allow COMMIT during ON COMMIT for backward compatibilty</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> txend<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">message</span> x085<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during CALL DIALOG/SUBMIT, POC, Update task</span>\n<span class=\"token comment\">* or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Hook for Process Information Infrastructure</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'SPI_AGENT_COMMIT'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Raise event 'Commit Requested' for Object Manager</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_commit_requested<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_before_commit</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* C O M M I T</span>\n<span class=\"token comment\">* commit work</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_commit<span class=\"token punctuation\">.</span>                                              <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_state<span class=\"token punctuation\">,</span> %_direct_utask_active<span class=\"token punctuation\">.</span>                     <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_lines   <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_enqkey  <span class=\"token keyword\">type</span> eqeusrvb<span class=\"token punctuation\">.</span>                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_enqdone <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>                                   <span class=\"token eol-comment comment\">\"#EC *</span>\n\n<span class=\"token comment\">* status processing of set update task local</span>\n<span class=\"token comment\">* value 'E': local update is active. Export tRFC/qRFC to memory!</span>\n<span class=\"token comment\">* value 'S': local update is active. Map the dialog tRFC/qRFC to called update trfc/qRFC.</span>\n<span class=\"token comment\">*            Import tRFC/qRFC form memory! Save it to the Database.</span>\n<span class=\"token comment\">* value 'X': local update is active. Execute the tRFC/qRFC within the Dialog workprocess.</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_local_vb_status <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during POC, Update task or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                  <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>   <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   Not in CALL DIALOG</span>\n    %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_process_p_o_c<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*   Check if local update task is switched on?</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'S'</span>\n                            <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> %_state<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> %_state <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">lines</span> l_lines<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> l_lines <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       Local update task is active,</span>\n<span class=\"token comment\">*       export the called tRFC/qRFCs from dialog to memory within arfc_end_transaction.</span>\n        l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     Within sapmssy4 (commit work) we have to import and save all dia tRFC/qRFC</span>\n<span class=\"token comment\">*     in arfc_end_transaction</span>\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>cprog <span class=\"token operator\">=</span> <span class=\"token string\">'SAPMSSY4'</span><span class=\"token punctuation\">.</span>\n        l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n        arfc_pending <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n\n    <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum<span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit <span class=\"token operator\">+</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">mode</span>              <span class=\"token operator\">=</span> <span class=\"token string\">'COMMIT'</span>\n          starttime         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time\n          startdate         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date\n          utask_local_state <span class=\"token operator\">=</span> l_local_vb_status\n          vbkey             <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n          bgrfc_active      <span class=\"token operator\">=</span> bgrfc_eot_action<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_time.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_date.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-dontsend.</span>\n\n<span class=\"token comment\">***************</span>\n<span class=\"token comment\">*   bgRFC</span>\n<span class=\"token comment\">***************</span>\n<span class=\"token comment\">*     Update task in Asynchronous mode!</span>\n<span class=\"token comment\">*     Wenn arfc_pending &lt;> SPACE dann wurde bereits durch classic qRFC der arfc_end_vb</span>\n<span class=\"token comment\">*     getriggert, falls lokale Verbuchung nicht aktiv ist.</span>\n<span class=\"token comment\">*     N = asynch. update task switched off: direct updates</span>\n      <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n<span class=\"token comment\">*       In current LUW classic t/qRFC and bgRFC was called</span>\n\n        <span class=\"token keyword\">if</span> trfc_nowait_for_update <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span> <span class=\"token keyword\">OR</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">initial</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"ARFC_END_VB wurde nicht im tRFC/qRFC gerufen</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n            <span class=\"token keyword\">exporting</span>\n              arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" ARFC_END_VB wurde bereits im tRFC/qrfc gerufen.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n            <span class=\"token keyword\">exporting</span>\n              arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_time.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_date.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-dontsend.</span>\n\n<span class=\"token comment\">*   Wenn kein classic qRFC getriggert und keine lokale Verbuchung, dann</span>\n<span class=\"token comment\">*   muss ARFC_END_VB von bgRFC getriggert werden.</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n<span class=\"token comment\">*       In current LUW only bgRFC was called</span>\n        <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n          <span class=\"token keyword\">exporting</span>\n            arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">***************************</span>\n<span class=\"token comment\">*   Local Data Queue (LDQ)</span>\n<span class=\"token comment\">***************************</span>\n    <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>on_commit<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Reader</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>on_commit<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">if</span> %_state <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     N = asynch. update task switched off: direct updates</span>\n<span class=\"token comment\">*     free %_vb_calls.</span>\n<span class=\"token comment\">*     import %_vb_calls from memory id %%vbkey.</span>\n<span class=\"token comment\">*     describe table %_vb_calls lines l_lines.</span>\n      <span class=\"token keyword\">if</span> l_lines <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       process direct updates (with the same vbkey)</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>   <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'ENQKEY'</span>  <span class=\"token keyword\">field</span> %_enqkey\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'ENQDONE'</span> <span class=\"token keyword\">field</span> %_enqdone<span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">submit</span> sapmssy4 <span class=\"token keyword\">with</span> vbkey_id <span class=\"token operator\">=</span> %%vbkey\n                        <span class=\"token keyword\">with</span> enqkey   <span class=\"token operator\">=</span> %_enqkey\n                        <span class=\"token keyword\">with</span> enqdone  <span class=\"token operator\">=</span> %_enqdone <span class=\"token keyword\">and</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       Start new LUW, release locks that were acquired during dialog part</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>       <span class=\"token keyword\">field</span> reset_vb_enq_key\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'SYNC_DEQUEUE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Call Dialog wurde gerufen; gerufene tRFC/qRFC Verarbeitung wie gehabt.</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">or</span> l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     Lokale Verbuchung ist aktiv Ausf√ºhrung im Dialog und UPD.</span>\n      l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>     <span class=\"token eol-comment comment\">\"Umsetzen auf Ausf√ºhrung der trfc/qRFC im Dialog.</span>\n      arfc_pending      <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum<span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit <span class=\"token operator\">+</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">mode</span>              <span class=\"token operator\">=</span> <span class=\"token string\">'COMMIT'</span>\n          starttime         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time\n          startdate         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date\n          utask_local_state <span class=\"token operator\">=</span> l_local_vb_status\n          vbkey             <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n          bgrfc_active      <span class=\"token operator\">=</span> bgrfc_eot_action<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>binpt <span class=\"token keyword\">eq</span> <span class=\"token string\">'X'</span> <span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'BDC_END_TRANSACTION'</span><span class=\"token punctuation\">.</span>       <span class=\"token eol-comment comment\">\"ende einer trans in BI</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* clear memory containing registrations for PERFORM ON ROLLBACK.</span>\n<span class=\"token comment\">* delete imode_orders and imode_rb_orders only if not in CALL DIALOG</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_commit</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_AFTER_COMMIT</span>\n<span class=\"token comment\">* called from RSYN commit.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_after_commit<span class=\"token punctuation\">.</span>                                        <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_direct_utask_active<span class=\"token punctuation\">,</span> %_task_state<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">.</span>      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">i</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">,</span> j <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">,</span> x4<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_update_task <span class=\"token keyword\">type</span> boolean <span class=\"token keyword\">value</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_subrc <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during CALL DIALOG/SUBMIT, POC, Update task</span>\n<span class=\"token comment\">* or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n  l_subrc <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* bgRFC</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>AFTER_COMMIT<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Local DATA Queue (LDQ)</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with LDW-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>after_commit<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with LDW-Reader</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>after_commit<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Raise event 'Commit Finished' for Object Manager</span>\n<span class=\"token comment\">* for synchronous update task this is after all database changes.</span>\n<span class=\"token comment\">* for asynchronous update task this is after triggering the updates.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_commit_finished<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT in (classic) update task?</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'TH_USER_INFO'</span>\n    <span class=\"token keyword\">importing</span>\n      task_state <span class=\"token operator\">=</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n  %_task_state <span class=\"token operator\">=</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n  j <span class=\"token operator\">=</span> task_vb<span class=\"token punctuation\">.</span> x4 <span class=\"token operator\">=</span> j<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> %_task_state <span class=\"token keyword\">z</span> x4<span class=\"token punctuation\">.</span>            <span class=\"token eol-comment comment\">\"update task must not be active</span>\n    l_update_task <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> l_update_task <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   COMMIT in local update task?</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'A'</span>          <span class=\"token eol-comment comment\">\"A = active?</span>\n                            <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> %_direct_utask_active<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> %_direct_utask_active <span class=\"token operator\">=</span> <span class=\"token string\">'Y'</span> <span class=\"token keyword\">or</span> sy<span class=\"token token-operator punctuation\">-</span>cprog <span class=\"token operator\">=</span> <span class=\"token string\">'SAPMSSY4'</span><span class=\"token punctuation\">.</span>\n      l_update_task <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* raise event 'transaction_finished' only if not in update task.</span>\n  <span class=\"token keyword\">if</span> l_update_task <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span>\n      cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>raise_transaction_finished\n      <span class=\"token keyword\">exporting</span>\n        <span class=\"token keyword\">kind</span> <span class=\"token operator\">=</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>commit_work<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> l_subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                                                <span class=\"token eol-comment comment\">\"%_after_commit</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_PROCESS_P_O_C</span>\n<span class=\"token comment\">* Process PERFORM ON COMMIT orders</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_process_p_o_c<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> last_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> imode_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  last_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> imode_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> imode_orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> imode_orders <span class=\"token keyword\">into</span> imode_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_order_form_level <span class=\"token keyword\">using</span> imode_orders_wa<span class=\"token token-operator punctuation\">-</span>prog\n                                     imode_orders_wa<span class=\"token token-operator punctuation\">-</span>rout\n                                     imode_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal begin of ON COMMIT handling</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> orders <span class=\"token keyword\">into</span> orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> <span class=\"token punctuation\">(</span>orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> <span class=\"token punctuation\">(</span>orders_wa<span class=\"token token-operator punctuation\">-</span>prog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS events</span>\n  <span class=\"token keyword\">free</span> os_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* end RTM</span>\n\n<span class=\"token comment\">* signal end of ON COMMIT</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> last_oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_process_p_o_c</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_GET_VB_KEY</span>\n<span class=\"token comment\">* Update task without update task</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_get_vb_key <span class=\"token keyword\">using</span> vb_func_name <span class=\"token keyword\">changing</span> vb_data_key<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC *</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_vb_calls    <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_vb_calls<span class=\"token punctuation\">,</span>       <span class=\"token eol-comment comment\">\"#EC *</span>\n        %_vb_calls_wa <span class=\"token keyword\">type</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> utask_on<span class=\"token punctuation\">,</span>                  <span class=\"token eol-comment comment\">\"flag: asynchronous update task on?</span>\n        direct_utask_active<span class=\"token punctuation\">.</span>       <span class=\"token eol-comment comment\">\"flag: already in local update task?</span>\n\n  <span class=\"token keyword\">clear</span> vb_data_key<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'S'</span>\n                          <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> utask_on<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'A'</span>\n                          <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> direct_utask_active<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> utask_on <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> direct_utask_active <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   update task switched to \"local\", but not yet inside update task.</span>\n    <span class=\"token keyword\">select</span> <span class=\"token keyword\">single</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> tfdir <span class=\"token keyword\">where</span> funcname <span class=\"token operator\">=</span> vb_func_name<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">message</span> a400 <span class=\"token keyword\">with</span> vb_func_name<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    cl_abap_restrmode_utils<span class=\"token token-operator punctuation\">=></span>check_in_restr_mode_updtask<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> tfdir<span class=\"token token-operator punctuation\">-</span>utask <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>     <span class=\"token eol-comment comment\">\"direct update task call</span>\n       <span class=\"token keyword\">or</span> tfdir<span class=\"token token-operator punctuation\">-</span>utask <span class=\"token operator\">=</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"direct update task call, no later update</span>\n\n<span class=\"token comment\">*     get identifier for current LUW</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key\n                      <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_vb_calls_wa<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     import table with already registered function modules</span>\n      <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       already got UUID for the parameters of the function module</span>\n        <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">index</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">into</span> %_vb_calls_wa <span class=\"token keyword\">transporting</span> daten_id<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">message</span> x675<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       get new UUID as key for the parameters of the function module</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">.</span>\n          %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> cl_system_uuid<span class=\"token token-operator punctuation\">=></span>create_uuid_c22_static<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">catch</span> cx_uuid_error<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">message</span> x675<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endtry</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     fill in name of function module</span>\n      %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>func_name <span class=\"token operator\">=</span> vb_func_name<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     identify the function call by consecutive number</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">lines</span> %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token token-operator punctuation\">-</span>vbkey+<span class=\"token number\">22</span><span class=\"token punctuation\">.</span>\n      %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>data_temperature <span class=\"token operator\">=</span> cl_abap_stack_temperature<span class=\"token token-operator punctuation\">=></span>get_temperature<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">append</span> %_vb_calls_wa <span class=\"token keyword\">to</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     (re-) export the table to memory</span>\n      <span class=\"token keyword\">export</span> %_vb_calls <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     return the identifier of this function call to call.rs1 to export</span>\n<span class=\"token comment\">*     the corresponding parameters with the same identifier.</span>\n      vb_data_key <span class=\"token operator\">=</span> %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_get_vb_key</span>\n\n<span class=\"token comment\">*----------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_CALL_ROLLBACK</span>\n<span class=\"token comment\">* Call ROLLBACK-Handling</span>\n<span class=\"token comment\">* To be called by kernel code to perform rollback handling in ABAP</span>\n<span class=\"token comment\">*----------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_call_rollback<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n<span class=\"token comment\">* Save SUBRC for returncode after EXCEPTION ERROR_MESSAGE</span>\n  <span class=\"token keyword\">local</span><span class=\"token punctuation\">:</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgty<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgid<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgno<span class=\"token punctuation\">,</span>\n         sy<span class=\"token token-operator punctuation\">-</span>msgv1<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv2<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv3<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv4<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Perform ROLLBACK with all registered rollback hooks</span>\n  <span class=\"token keyword\">rollback</span> <span class=\"token keyword\">work</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_call_rollback</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R O L L B A C K</span>\n<span class=\"token comment\">* rollback work</span>\n<span class=\"token comment\">* when called within CALL DIALOG --> no effect i.e. symmetrical to</span>\n<span class=\"token comment\">* COMMIT WORK</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_rollback<span class=\"token punctuation\">.</span>                                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> txend <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* forbid ROLLBACK if already in ON COMMIT/ROLLBACK handling</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> txend<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'C'</span> <span class=\"token keyword\">or</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">message</span> x086<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Hook for Process Information Infrastructure</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'SPI_AGENT_ROLLBACK'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                  <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* perform ON ROLLBACK orders</span>\n  <span class=\"token keyword\">perform</span> %_process_p_o_r<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* free contents of memory and tables for update task</span>\n  <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> %_vb_calls<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vb_calls<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* free contents of memory and tables</span>\n  %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_rb_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS events</span>\n  <span class=\"token keyword\">free</span> os_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* end RTM</span>\n\n  <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n      <span class=\"token keyword\">exporting</span>\n        <span class=\"token keyword\">mode</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ROLLBACK'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* bgRFC</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>ON_ROLLBACK<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Local DATA Queue (LDQ)</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>on_rollback<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>on_rollback<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_rollback</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_AFTER_ROLLBACK</span>\n<span class=\"token comment\">* called from RSYN rollback.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_after_rollback<span class=\"token punctuation\">.</span>                                      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* ROLLBACK during POC, Update task or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_rollback_finished<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>raise_transaction_finished\n    <span class=\"token keyword\">exporting</span>\n      <span class=\"token keyword\">kind</span> <span class=\"token operator\">=</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>rollback_work<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* switch local update task to 'inactive'</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_UTASK_OFF'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_after_rollback</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_PROCESS_P_O_R</span>\n<span class=\"token comment\">* Process PERFORM ON ROLLBACK orders</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_process_p_o_r<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> last_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> rb_orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        imode_rb_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  last_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> imode_rb_orders <span class=\"token keyword\">into</span> imode_rb_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_order_form_for_rollback\n      <span class=\"token keyword\">using</span> imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog\n            imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_rb_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> rb_orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal begin of ON ROLLBACK handling</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> rb_orders <span class=\"token keyword\">into</span> rb_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> <span class=\"token punctuation\">(</span>rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> <span class=\"token punctuation\">(</span>rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal end of ON ROLLBACK</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> last_oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_process_p_o_r</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM SYSTEM_HOOK</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> system_hook<span class=\"token punctuation\">.</span>                                           <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"system_hook</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R E G I S T E R _ A F R C</span>\n<span class=\"token comment\">* register ARFC call</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_arfc<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  arfc_pending <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_arfc</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R E G I S T E R _ t R F C / q R F C independent from Update TASK</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_trfc_no_wait_for_update<span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"#EC PREFIX_OK</span>\n  trfc_nowait_for_update <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token comment\">* register bgRFC actions</span>\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_bgrfc<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  bgrfc_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_bgrfc</span>\n\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token comment\">* register Local Data Queue (ldq) actions</span>\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_ldq_writer<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC *</span>\n  ldq_writer_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_ldq_writer</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  %_register_ldq_reader</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">form</span> %_register_ldq_reader<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC *</span>\n  ldq_reader_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_ldq_reader</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ C O M M A N D</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> list_command <span class=\"token keyword\">input</span><span class=\"token punctuation\">.</span>                                  <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">result</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*  IF sy-xcode(5) EQ 'PFILE'.</span>\n<span class=\"token comment\">*    MESSAGE ID '02' TYPE 'I' NUMBER '016'.</span>\n<span class=\"token comment\">*    CLEAR sy-xcode.</span>\n<span class=\"token comment\">*  ENDIF.</span>\n  <span class=\"token keyword\">result</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'QUERY_LIST_TO_MEMORY'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'RESULT'</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">result</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token keyword\">result</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%SMEX'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'LIST_COMMAND'</span>\n    <span class=\"token keyword\">exporting</span>\n      command         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>xcode\n    <span class=\"token keyword\">exceptions</span>\n      unknown_command <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n      <span class=\"token keyword\">others</span>          <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">clear</span><span class=\"token punctuation\">:</span> sy<span class=\"token token-operator punctuation\">-</span>ucomm<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"list_command INPUT</span>\n\n<span class=\"token comment\">* R/3-Drucken Anfang</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* P R I N T _ S T A R T</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> print_start <span class=\"token keyword\">input</span><span class=\"token punctuation\">.</span>                                   <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> hex02 <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span> <span class=\"token keyword\">value</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> display_mode<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Korrektur Ralf Wendelga√ü 20.5.98</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRI'</span>   <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRINT'</span> <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRI'</span> <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRN'</span><span class=\"token punctuation\">.</span>\n\n    display_mode <span class=\"token operator\">=</span> cl_abap_list_layout<span class=\"token token-operator punctuation\">=></span>get_display_mode<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n    sy<span class=\"token token-operator punctuation\">-</span>callr <span class=\"token operator\">=</span> <span class=\"token string\">'OKPRI'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* no print dialog if print icon was pressed</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRN'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'PRINT_REPORT_DEFAULT'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">report</span> <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>cprog\n          uc_display_mode <span class=\"token operator\">=</span> display_mode\n        <span class=\"token keyword\">exceptions</span>\n          <span class=\"token keyword\">others</span> <span class=\"token operator\">=</span> <span class=\"token number\">99</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'PRINT_REPORT'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">report</span> <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>cprog\n          uc_display_mode <span class=\"token operator\">=</span> display_mode\n        <span class=\"token keyword\">exceptions</span>\n          <span class=\"token keyword\">others</span> <span class=\"token operator\">=</span> <span class=\"token number\">99</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* printing ok</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* cover page</span>\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subty <span class=\"token keyword\">o</span> hex02 <span class=\"token keyword\">and</span> %_print<span class=\"token token-operator punctuation\">-</span>prbig <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">perform</span> %_%_cover_page<span class=\"token punctuation\">(</span>rsdbrunt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRI'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* errors occured or printout cancelled</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">message</span> s015<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"print_start INPUT</span>\n<span class=\"token comment\">* R/3-Drucken Ende</span>\n\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* S Y N T A X C H E C K - Popup (143)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> sc_init <span class=\"token keyword\">output</span><span class=\"token punctuation\">.</span>                                      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">tables</span><span class=\"token punctuation\">:</span> trdir<span class=\"token punctuation\">,</span> abmsg<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">set</span> <span class=\"token keyword\">titlebar</span> <span class=\"token string\">'001'</span><span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">set</span> <span class=\"token keyword\">pf-status</span> <span class=\"token string\">'SCMS'</span> <span class=\"token keyword\">immediately</span><span class=\"token punctuation\">.</span>                         <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">select</span> <span class=\"token keyword\">single</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> trdir <span class=\"token keyword\">where</span> <span class=\"token keyword\">name</span> <span class=\"token operator\">=</span> abmsg<span class=\"token token-operator punctuation\">-</span>irepid<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"sc_init OUTPUT</span>\n\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       MODULE SC_RESET                                               *</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       ........                                                      *</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">module</span> sc_reset<span class=\"token punctuation\">.</span>                                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">leave</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">transaction</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"sc_reset</span>\n\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ E X I T</span>\n<span class=\"token comment\">* return from \"Listprocessing\" (main list of report -> LIST_RETURN)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_list_exit<span class=\"token punctuation\">.</span>                                           <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">leave</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_list_exit</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ R E T U R N</span>\n<span class=\"token comment\">* return from main list of report -> selection screen</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_list_return<span class=\"token punctuation\">.</span>                                         <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">perform</span> %_return_to_selscreen <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> rsdbrunt <span class=\"token keyword\">if</span> <span class=\"token keyword\">found</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_list_return</span>\n\n<span class=\"token comment\">*???????????????????????????????????????????????????????????????????????</span>\n<span class=\"token keyword\">form</span> list_command ##NEEDED<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* N E W - L I N E</span>\n<span class=\"token comment\">* called by ab_trigg to force a line-skip after GET processing</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> <span class=\"token keyword\">new-line</span> ##FIELD_HYPHEN<span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n  <span class=\"token keyword\">new-line</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Module  LEAVE_LIST  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text                                                           *</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token comment\">*odule %_list_return output.</span>\n<span class=\"token comment\">* perform %_return_to_selscreen in program rsdbrunt if found.</span>\n<span class=\"token comment\">* leave screen.</span>\n<span class=\"token comment\">*ndmodule.                             \" LEAVE_LIST  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Module  LIST_STRUCTURE_RECOGNIZER  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">module</span> list_structure_recognizer <span class=\"token keyword\">output</span><span class=\"token punctuation\">.</span>\n   cl_abap_list_parser<span class=\"token token-operator punctuation\">=></span>refresh_lsr_container<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                 <span class=\"token eol-comment comment\">\" LIST_STRUCTURE_RECOGNIZER  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  thew_list_masking</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token comment\">*  -->  p1        text</span>\n<span class=\"token comment\">*  &lt;--  p2        text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> thew_list_masking <span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span>\n    lv_func       <span class=\"token keyword\">TYPE</span> rs38l_fnam <span class=\"token keyword\">VALUE</span> <span class=\"token string\">'/UIM/PBO_120_HOOK_LIST'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">TRY</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'FUNCTION_EXISTS'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          funcname           <span class=\"token operator\">=</span> lv_func\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          function_not_exist <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">OTHERS</span>             <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> lv_func<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CATCH</span> cx_root<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDTRY</span><span class=\"token punctuation\">.</span>\n\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  thew_list_masking2</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       advanced UI masking of special fields with helpid</span>\n<span class=\"token comment\">*       called from kernel by ab_rperf from abwrite</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> thew_list_masking2<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span>\n    lv_func       <span class=\"token keyword\">TYPE</span> rs38l_fnam <span class=\"token keyword\">VALUE</span> <span class=\"token string\">'/UIM/PBO_WRITE_HOOK'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">TRY</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'FUNCTION_EXISTS'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          funcname           <span class=\"token operator\">=</span> lv_func\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          function_not_exist <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">OTHERS</span>             <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">FIELD-SYMBOLS</span><span class=\"token punctuation\">:</span>\n          &lt;in_p1>    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;in_p2>    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;inout_p3> <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;out_p4>   <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'AB_GET_C_PARMS'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'P1'</span> <span class=\"token keyword\">FIELD</span> &lt;in_p1>    <span class=\"token eol-comment comment\">\"field name</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P2'</span> <span class=\"token keyword\">FIELD</span> &lt;in_p2>    <span class=\"token eol-comment comment\">\"ddic name</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P3'</span> <span class=\"token keyword\">FIELD</span> &lt;inout_p3>    <span class=\"token eol-comment comment\">\"field value</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P4'</span> <span class=\"token keyword\">FIELD</span> &lt;out_p4><span class=\"token punctuation\">.</span>    <span class=\"token eol-comment comment\">\"flag is list masking</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> lv_func\n          <span class=\"token keyword\">EXPORTING</span>\n            fieldname       <span class=\"token operator\">=</span> &lt;in_p1>\n            ddicname        <span class=\"token operator\">=</span> &lt;in_p2>\n          <span class=\"token keyword\">IMPORTING</span>\n            is_list_masking <span class=\"token operator\">=</span> &lt;out_p4>\n          <span class=\"token keyword\">CHANGING</span>\n            fieldvalue      <span class=\"token operator\">=</span> &lt;inout_p3><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'AB_SET_C_PARMS'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'P3'</span> <span class=\"token keyword\">FIELD</span> &lt;inout_p3>\n                      <span class=\"token keyword\">ID</span> <span class=\"token string\">'P4'</span> <span class=\"token keyword\">FIELD</span> &lt;out_p4><span class=\"token punctuation\">.</span>    <span class=\"token eol-comment comment\">\"#EC CI_CCALL CI_CCALL</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CATCH</span> cx_root<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDTRY</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":9,"column":1,"offset":126},"end":{"line":1042,"column":4,"offset":37808},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1043,"column":1,"offset":37810}}}},{"id":"transformer-remark-markdown-ast-0efb3e5b7e6e322fb363bc50dccc2fab-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Hello World - My First Post :)\ndate: \"2017-12-12\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":81},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôll be writing here for sometime into the future now, though I‚Äôm not sure how often, as I‚Äôm rather busy with the work for ","position":{"start":{"line":7,"column":1,"offset":85},"end":{"line":7,"column":124,"offset":208},"indent":[]}},{"type":"link","title":null,"url":"nlp-champs.com","children":[{"type":"text","value":"nlp-champs.com","position":{"start":{"line":7,"column":125,"offset":209},"end":{"line":7,"column":139,"offset":223},"indent":[]}}],"position":{"start":{"line":7,"column":124,"offset":208},"end":{"line":7,"column":156,"offset":240},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":7,"column":156,"offset":240},"end":{"line":7,"column":161,"offset":245},"indent":[]}},{"type":"link","title":null,"url":"skillscout.herokuapp.com","children":[{"type":"text","value":"SkillScout","position":{"start":{"line":7,"column":162,"offset":246},"end":{"line":7,"column":172,"offset":256},"indent":[]}}],"position":{"start":{"line":7,"column":161,"offset":245},"end":{"line":7,"column":199,"offset":283},"indent":[]}},{"type":"text","value":" (the original thing that brought on the need case for ","position":{"start":{"line":7,"column":199,"offset":283},"end":{"line":7,"column":254,"offset":338},"indent":[]}},{"type":"link","title":null,"url":"nlp-champs.com","children":[{"type":"text","value":"nlp-champs.com","position":{"start":{"line":7,"column":255,"offset":339},"end":{"line":7,"column":269,"offset":353},"indent":[]}}],"position":{"start":{"line":7,"column":254,"offset":338},"end":{"line":7,"column":286,"offset":370},"indent":[]}},{"type":"text","value":". Plus, it ","position":{"start":{"line":7,"column":286,"offset":370},"end":{"line":7,"column":297,"offset":381},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"really","position":{"start":{"line":7,"column":298,"offset":382},"end":{"line":7,"column":304,"offset":388},"indent":[]}}],"position":{"start":{"line":7,"column":297,"offset":381},"end":{"line":7,"column":305,"offset":389},"indent":[]}},{"type":"text","value":" doesn‚Äôt help that I recently fell down the rabbit hole that is blockchain. That stuff makes my head üí• üí• üí• daily.","position":{"start":{"line":7,"column":305,"offset":389},"end":{"line":7,"column":421,"offset":505},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":85},"end":{"line":7,"column":421,"offset":505},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":8,"column":1,"offset":507}}}},{"id":"transformer-remark-markdown-ast-a5be71f6aa8a7c68ad640f238f411571-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Data Analysis of Reddit Users\ndate: \"2018-08-01\"\ndraft: true","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":79},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Data analysis","position":{"start":{"line":7,"column":3,"offset":85},"end":{"line":7,"column":16,"offset":98},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":83},"end":{"line":7,"column":16,"offset":98},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Evidence of State Actors?","position":{"start":{"line":9,"column":3,"offset":104},"end":{"line":9,"column":28,"offset":129},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":102},"end":{"line":9,"column":28,"offset":129},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I looked at the. Indeed, seeing as , this would be of interest. I was surprised to find that there was no strong - except for one peculiarity. In 2015, over the last week of May and the first week of June, someone or (something) ","position":{"start":{"line":11,"column":1,"offset":133},"end":{"line":11,"column":230,"offset":362},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"registered nearly all the remaining 3 letter usernames left on reddit!","position":{"start":{"line":11,"column":231,"offset":363},"end":{"line":11,"column":301,"offset":433},"indent":[]}}],"position":{"start":{"line":11,"column":230,"offset":362},"end":{"line":11,"column":302,"offset":434},"indent":[]}},{"type":"text","value":" Even more scary is the number of accounts that have a verified email","position":{"start":{"line":11,"column":302,"offset":434},"end":{"line":11,"column":371,"offset":503},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":133},"end":{"line":11,"column":371,"offset":503},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>False    12277\nTrue        26</code></pre>\n      </div>","position":{"start":{"line":14,"column":1,"offset":509},"end":{"line":17,"column":4,"offset":549},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So, of those 12000+ users that were registered in those two weeks, ","position":{"start":{"line":19,"column":1,"offset":553},"end":{"line":19,"column":68,"offset":620},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"only 26 of them have a registered email!","position":{"start":{"line":19,"column":69,"offset":621},"end":{"line":19,"column":109,"offset":661},"indent":[]}}],"position":{"start":{"line":19,"column":68,"offset":620},"end":{"line":19,"column":110,"offset":662},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":553},"end":{"line":19,"column":110,"offset":662},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As an interesting side note, this spike of user registration missed a few usernames, 8 to be exact (likely users had trouble finding these remaining):","position":{"start":{"line":21,"column":1,"offset":666},"end":{"line":21,"column":151,"offset":816},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":666},"end":{"line":21,"column":151,"offset":816},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>name      created_utc_date\nuzi       2016-03-16\ntnw       2017-08-07\nvox       2017-08-24\nwsj       2017-11-14\nkfc       2018-02-06\nnbc       2018-03-06\nnpr       2018-03-06\nmls       2018-03-27</code></pre>\n      </div>","position":{"start":{"line":23,"column":1,"offset":820},"end":{"line":33,"column":4,"offset":1032},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Interestingly, while the majority of these are alliterations for big organzations, only ","position":{"start":{"line":35,"column":1,"offset":1036},"end":{"line":35,"column":89,"offset":1124},"indent":[]}},{"type":"inlineCode","value":"vox","position":{"start":{"line":35,"column":89,"offset":1124},"end":{"line":35,"column":94,"offset":1129},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":35,"column":94,"offset":1129},"end":{"line":35,"column":99,"offset":1134},"indent":[]}},{"type":"inlineCode","value":"npr","position":{"start":{"line":35,"column":99,"offset":1134},"end":{"line":35,"column":104,"offset":1139},"indent":[]}},{"type":"text","value":" appear to be used. ","position":{"start":{"line":35,"column":104,"offset":1139},"end":{"line":35,"column":124,"offset":1159},"indent":[]}},{"type":"inlineCode","value":"uzi","position":{"start":{"line":35,"column":124,"offset":1159},"end":{"line":35,"column":129,"offset":1164},"indent":[]}},{"type":"text","value":" has quite a bit of karma, but appears to be a normal user, while all remaining have only their email verified and their initial single link karma.","position":{"start":{"line":35,"column":129,"offset":1164},"end":{"line":35,"column":276,"offset":1311},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1036},"end":{"line":35,"column":276,"offset":1311},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":35,"column":276,"offset":1311}}}},{"id":"transformer-remark-markdown-ast-e0e05b5e52e11f07485e0eadc3a190c1-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Dropdowns in Markdown README's!\ndate: \"2017-12-22\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":82},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"HTML in Markdown!?","position":{"start":{"line":7,"column":4,"offset":89},"end":{"line":7,"column":22,"offset":107},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":86},"end":{"line":7,"column":22,"offset":107},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Well, it‚Äôs a little known fact (at least it was for me) that you can use native HTML tags are supported in Markdown, though the support over different sites is varying. I would say the code presented here should work on about 99% of pages - let me know if that‚Äôs not the case","position":{"start":{"line":8,"column":1,"offset":109},"end":{"line":8,"column":276,"offset":384},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":109},"end":{"line":8,"column":276,"offset":384},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Code","position":{"start":{"line":10,"column":4,"offset":391},"end":{"line":10,"column":8,"offset":395},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":388},"end":{"line":10,"column":8,"offset":395},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get this to work in most environments","position":{"start":{"line":11,"column":1,"offset":397},"end":{"line":11,"column":41,"offset":437},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":11,"column":41,"offset":437},"end":{"line":11,"column":46,"offset":442},"indent":[]}},{"type":"text","value":"1","position":{"start":{"line":11,"column":46,"offset":442},"end":{"line":11,"column":47,"offset":443},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":11,"column":47,"offset":443},"end":{"line":11,"column":53,"offset":449},"indent":[]}},{"type":"text","value":" all we have to do is to make use of the ","position":{"start":{"line":11,"column":53,"offset":449},"end":{"line":11,"column":94,"offset":490},"indent":[]}},{"type":"inlineCode","value":"<details>","position":{"start":{"line":11,"column":94,"offset":490},"end":{"line":11,"column":105,"offset":501},"indent":[]}},{"type":"text","value":" tag. Since you probably want your dropdown to have a title, we also need to use the ","position":{"start":{"line":11,"column":105,"offset":501},"end":{"line":11,"column":190,"offset":586},"indent":[]}},{"type":"inlineCode","value":"<summary>","position":{"start":{"line":11,"column":190,"offset":586},"end":{"line":11,"column":201,"offset":597},"indent":[]}},{"type":"text","value":" tag. So a cool markdown dropdown could look as simple as this:","position":{"start":{"line":11,"column":201,"offset":597},"end":{"line":11,"column":264,"offset":660},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":397},"end":{"line":11,"column":264,"offset":660},"indent":[]}},{"type":"html","lang":"markdown","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-markdown\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\nblah blah blah blah you found me!\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>","position":{"start":{"line":13,"column":1,"offset":664},"end":{"line":17,"column":4,"offset":774},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Or, rendered (go on and give the arrow a click!):","position":{"start":{"line":19,"column":1,"offset":778},"end":{"line":19,"column":50,"offset":827},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":778},"end":{"line":19,"column":50,"offset":827},"indent":[]}},{"type":"html","value":"<details><summary>Cool Dropdown</summary><br>\nblah blah blah blah you found me!\n</details>","position":{"start":{"line":20,"column":1,"offset":829},"end":{"line":22,"column":11,"offset":921},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Of course, all goodies of markdown will work inside of this dropdown - lists, links, etc.","position":{"start":{"line":24,"column":1,"offset":925},"end":{"line":24,"column":90,"offset":1014},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":925},"end":{"line":24,"column":90,"offset":1014},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Longer Example","position":{"start":{"line":26,"column":4,"offset":1021},"end":{"line":26,"column":18,"offset":1035},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1018},"end":{"line":26,"column":18,"offset":1035},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here‚Äôs a bigger example for your copypasta pleasure:","position":{"start":{"line":27,"column":1,"offset":1037},"end":{"line":27,"column":53,"offset":1089},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1037},"end":{"line":27,"column":53,"offset":1089},"indent":[]}},{"type":"html","lang":"markdown","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-markdown\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\n```js\n// so wow, much amazing... you can even put code in these drop downs!\ndocument.getElementById('root')\n```s\n\n<span class=\"token url\">[Or a link - like to google](https://google.com)</span>\n\n<span class=\"token list punctuation\">-</span> Or a List\n  <span class=\"token list punctuation\">-</span> or a nested List\n  <span class=\"token list punctuation\">-</span> like this\n  <span class=\"token list punctuation\">-</span> with üòÑ emojis\n<span class=\"token list punctuation\">-</span> Like this\n\nOr even just normal text\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\nMore cool text hiding in my dropdown\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\nEaster egg! ü•öü•öü•ö\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>","position":{"start":{"line":28,"column":1,"offset":1091},"end":{"line":61,"column":4,"offset":1660},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Rendered on this page, that snippet looks like this:","position":{"start":{"line":63,"column":1,"offset":1664},"end":{"line":63,"column":53,"offset":1716},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1664},"end":{"line":63,"column":53,"offset":1716},"indent":[]}},{"type":"html","value":"<p>\n<details><summary>Cool Dropdown #1</summary><br>","position":{"start":{"line":65,"column":1,"offset":1720},"end":{"line":66,"column":49,"offset":1773},"indent":[1]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-js\"><code><span class=\"token comment\">// so wow, much amazing... you can even put code in these drop downs!</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>","position":{"start":{"line":68,"column":1,"offset":1777},"end":{"line":71,"column":4,"offset":1891},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://google.com","children":[{"type":"text","value":"Or a link - like to google","position":{"start":{"line":73,"column":2,"offset":1896},"end":{"line":73,"column":28,"offset":1922},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1895},"end":{"line":73,"column":49,"offset":1943},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1895},"end":{"line":73,"column":49,"offset":1943},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Or a List","position":{"start":{"line":75,"column":3,"offset":1949},"end":{"line":75,"column":12,"offset":1958},"indent":[]}}],"position":{"start":{"line":75,"column":3,"offset":1949},"end":{"line":75,"column":12,"offset":1958},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"or a nested List","position":{"start":{"line":76,"column":5,"offset":1964},"end":{"line":76,"column":21,"offset":1980},"indent":[]}}],"position":{"start":{"line":76,"column":5,"offset":1964},"end":{"line":76,"column":21,"offset":1980},"indent":[]}}],"position":{"start":{"line":76,"column":3,"offset":1962},"end":{"line":76,"column":21,"offset":1980},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"like this","position":{"start":{"line":77,"column":5,"offset":1986},"end":{"line":77,"column":14,"offset":1995},"indent":[]}}],"position":{"start":{"line":77,"column":5,"offset":1986},"end":{"line":77,"column":14,"offset":1995},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":1984},"end":{"line":77,"column":14,"offset":1995},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"with üòÑ emojis","position":{"start":{"line":78,"column":5,"offset":2001},"end":{"line":78,"column":19,"offset":2015},"indent":[]}}],"position":{"start":{"line":78,"column":5,"offset":2001},"end":{"line":78,"column":19,"offset":2015},"indent":[]}}],"position":{"start":{"line":78,"column":3,"offset":1999},"end":{"line":78,"column":19,"offset":2015},"indent":[]}}],"position":{"start":{"line":76,"column":3,"offset":1962},"end":{"line":78,"column":19,"offset":2015},"indent":[3,3]}}],"position":{"start":{"line":75,"column":1,"offset":1947},"end":{"line":78,"column":19,"offset":2015},"indent":[1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Like this","position":{"start":{"line":79,"column":3,"offset":2019},"end":{"line":79,"column":12,"offset":2028},"indent":[]}}],"position":{"start":{"line":79,"column":3,"offset":2019},"end":{"line":79,"column":12,"offset":2028},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2017},"end":{"line":79,"column":12,"offset":2028},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":1947},"end":{"line":79,"column":12,"offset":2028},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Or even just normal text","position":{"start":{"line":81,"column":1,"offset":2032},"end":{"line":81,"column":25,"offset":2056},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2032},"end":{"line":81,"column":25,"offset":2056},"indent":[]}},{"type":"html","value":"</details>","position":{"start":{"line":83,"column":1,"offset":2060},"end":{"line":83,"column":11,"offset":2070},"indent":[]}},{"type":"html","value":"<details><summary>Cool Dropdown #2</summary><br>","position":{"start":{"line":85,"column":1,"offset":2074},"end":{"line":85,"column":49,"offset":2122},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"More cool text hiding in my dropdown","position":{"start":{"line":87,"column":1,"offset":2126},"end":{"line":87,"column":37,"offset":2162},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":2126},"end":{"line":87,"column":37,"offset":2162},"indent":[]}},{"type":"html","value":"</details>","position":{"start":{"line":89,"column":1,"offset":2166},"end":{"line":89,"column":11,"offset":2176},"indent":[]}},{"type":"html","value":"<details><summary>Cool Dropdown #3</summary><br>","position":{"start":{"line":91,"column":1,"offset":2180},"end":{"line":91,"column":49,"offset":2228},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Easter egg! ü•öü•öü•ö","position":{"start":{"line":93,"column":1,"offset":2232},"end":{"line":93,"column":19,"offset":2250},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":2232},"end":{"line":93,"column":19,"offset":2250},"indent":[]}},{"type":"html","value":"</details>\n</p>\n```","position":{"start":{"line":95,"column":1,"offset":2254},"end":{"line":97,"column":4,"offset":2275},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Most Important - Use It!","position":{"start":{"line":99,"column":4,"offset":2282},"end":{"line":99,"column":28,"offset":2306},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2279},"end":{"line":99,"column":28,"offset":2306},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I for one am going to start using this in my README‚Äôs. After all, it is the first page a lot of developers and users see, so using these dropdowns would be a nice simple way to keep your README uncluttered and organized - the communitiy at large will benefit and thank you for piece-wise docs.","position":{"start":{"line":101,"column":1,"offset":2310},"end":{"line":101,"column":294,"offset":2603},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":2310},"end":{"line":101,"column":294,"offset":2603},"indent":[]}},{"type":"html","value":"<hr/>","position":{"start":{"line":103,"column":1,"offset":2607},"end":{"line":103,"column":6,"offset":2612},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Footnotes","position":{"start":{"line":105,"column":4,"offset":2619},"end":{"line":105,"column":13,"offset":2628},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":2616},"end":{"line":105,"column":13,"offset":2628},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This page you are looking at right now is generated with Gatsby (which generates React HTML from markdown), and I know these dropdowns work on the Markdown of GitHub too.","position":{"start":{"line":106,"column":4,"offset":2633},"end":{"line":106,"column":174,"offset":2803},"indent":[]}}],"position":{"start":{"line":106,"column":4,"offset":2633},"end":{"line":106,"column":174,"offset":2803},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":2630},"end":{"line":106,"column":174,"offset":2803},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":2630},"end":{"line":106,"column":174,"offset":2803},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":107,"column":1,"offset":2805}}}},{"id":"transformer-remark-markdown-ast-2382bc4d4d95f7873e2cd9a2ac3fe74b-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: I Set Aside $1000 to Learn Options Trading\ndate: \"2018-04-07\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":93},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Whew. It‚Äôs been over a month since my last post! This is mainly because of some of the projects I‚Äôve been working on; so rest assured there will be plenty of new content coming soon. (I‚Äôve been improving my development arsenal with Redux (haven‚Äôt had a need for it yet) and Redux Saga which leverages a lot of great JavaScript such as generator functions for async deliciousness, as well as joining a hackathon team to build a beerpong robot - but more of that in later posts.)","position":{"start":{"line":7,"column":1,"offset":97},"end":{"line":7,"column":478,"offset":574},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":97},"end":{"line":7,"column":478,"offset":574},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Robinhood - Options! AHAHAHAH! Oh wait‚Ä¶ my money is gone üò≠üò≠üò≠","position":{"start":{"line":9,"column":3,"offset":580},"end":{"line":9,"column":68,"offset":645},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":578},"end":{"line":9,"column":68,"offset":645},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Like many millennials will experience in the coming months, my options trading got unlocked on Robinhood. Robinhood is a commission free broker that initial started as a mobile-only (as far as I know Robinhood is only available for United States Citizens - sorry for everyone else - but options are definitely in the cards if you find the right broker!) Anyway, as I experiment with everything, why not also with options? What I‚Äôve seen places for example like ","position":{"start":{"line":11,"column":1,"offset":649},"end":{"line":11,"column":462,"offset":1110},"indent":[]}},{"type":"link","title":null,"url":"https://www.reddit.com/r/wallstreetbets/","children":[{"type":"text","value":"https://www.reddit.com/r/wallstreetbets/","position":{"start":{"line":11,"column":463,"offset":1111},"end":{"line":11,"column":503,"offset":1151},"indent":[]}}],"position":{"start":{"line":11,"column":462,"offset":1110},"end":{"line":11,"column":546,"offset":1194},"indent":[]}},{"type":"text","value":", options trading can be extremely lucrative, but highly risky. I wanted to learn what they were all about and if it would be indeed possible for me to make some sustainable income - not in a risky YOLO method, but a calculated method that follows mathematical principles.","position":{"start":{"line":11,"column":546,"offset":1194},"end":{"line":11,"column":818,"offset":1466},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":649},"end":{"line":11,"column":818,"offset":1466},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Posts - on Medium","position":{"start":{"line":13,"column":3,"offset":1472},"end":{"line":13,"column":24,"offset":1493},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":1470},"end":{"line":13,"column":24,"offset":1493},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To spare you from more of my rambling, here‚Äôs the very first post of the series:","position":{"start":{"line":15,"column":1,"offset":1497},"end":{"line":15,"column":81,"offset":1577},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":1497},"end":{"line":15,"column":81,"offset":1577},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-9a018f11f69e","children":[{"type":"text","value":"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-9a018f11f69e","position":{"start":{"line":17,"column":2,"offset":1582},"end":{"line":17,"column":95,"offset":1675},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1581},"end":{"line":17,"column":191,"offset":1771},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1581},"end":{"line":17,"column":191,"offset":1771},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"and the master post that I will link all further posts to (check out my catastrophic Facebook call failure):","position":{"start":{"line":19,"column":1,"offset":1775},"end":{"line":19,"column":109,"offset":1883},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1775},"end":{"line":19,"column":109,"offset":1883},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-53b934e55863","children":[{"type":"text","value":"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-53b934e55863","position":{"start":{"line":21,"column":2,"offset":1888},"end":{"line":21,"column":95,"offset":1981},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1887},"end":{"line":21,"column":191,"offset":2077},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1887},"end":{"line":21,"column":191,"offset":2077},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"you can follow my trades on twitter ","position":{"start":{"line":23,"column":1,"offset":2081},"end":{"line":23,"column":37,"offset":2117},"indent":[]}},{"type":"link","title":null,"url":"https://twitter.com/Galt_","children":[{"type":"text","value":"@Galt_","position":{"start":{"line":23,"column":38,"offset":2118},"end":{"line":23,"column":44,"offset":2124},"indent":[]}}],"position":{"start":{"line":23,"column":37,"offset":2117},"end":{"line":23,"column":72,"offset":2152},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":23,"column":72,"offset":2152},"end":{"line":23,"column":73,"offset":2153},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":2081},"end":{"line":23,"column":73,"offset":2153},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I hope you enjoy watching me lose all my money! üòÇ","position":{"start":{"line":25,"column":1,"offset":2157},"end":{"line":25,"column":51,"offset":2207},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":2157},"end":{"line":25,"column":51,"offset":2207},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":27,"column":1,"offset":2211},"end":{"line":27,"column":11,"offset":2221},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":2211},"end":{"line":27,"column":11,"offset":2221},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Chris","position":{"start":{"line":29,"column":1,"offset":2225},"end":{"line":29,"column":7,"offset":2231},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2225},"end":{"line":29,"column":7,"offset":2231},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":30,"column":1,"offset":2233}}}},{"id":"transformer-remark-markdown-ast-7d99aaa2811138a617970aed5c3fe49c-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: How to be an American living in Austria and working in Liechtenstein\ndate: \"2018-01-17\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":119},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Hey, Want to be an American living in Austria and working in Liechtenstein?","position":{"start":{"line":7,"column":4,"offset":126},"end":{"line":7,"column":79,"offset":201},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":123},"end":{"line":7,"column":79,"offset":201},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Look no further!","position":{"start":{"line":8,"column":4,"offset":206},"end":{"line":8,"column":20,"offset":222},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":203},"end":{"line":8,"column":20,"offset":222},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is a detailed how-to guide on applying and obtaining:","position":{"start":{"line":10,"column":1,"offset":226},"end":{"line":10,"column":59,"offset":284},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":226},"end":{"line":10,"column":59,"offset":284},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"An Austrian residence permit","position":{"start":{"line":11,"column":3,"offset":288},"end":{"line":11,"column":31,"offset":316},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":288},"end":{"line":11,"column":31,"offset":316},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":286},"end":{"line":11,"column":31,"offset":316},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A Liechtensteiner work permit","position":{"start":{"line":12,"column":3,"offset":320},"end":{"line":12,"column":32,"offset":349},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":320},"end":{"line":12,"column":32,"offset":349},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":318},"end":{"line":12,"column":32,"offset":349},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":286},"end":{"line":12,"column":32,"offset":349},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Task","position":{"start":{"line":14,"column":4,"offset":356},"end":{"line":14,"column":12,"offset":364},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":353},"end":{"line":14,"column":12,"offset":364},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Warning: this process took me over two months. I want to share first how I did it, and then how I should have done it in hopes to save others time if they should wish to attempt tackling this debauchery of paperwork and bureaucracy.*","position":{"start":{"line":16,"column":1,"offset":368},"end":{"line":16,"column":234,"offset":601},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":368},"end":{"line":16,"column":234,"offset":601},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<sup>","position":{"start":{"line":18,"column":1,"offset":605},"end":{"line":18,"column":6,"offset":610},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":18,"column":6,"offset":610},"end":{"line":18,"column":8,"offset":612},"indent":[]}},{"type":"text","value":" Trust me when I say I‚Äôm not a legal counsel so always take my words with a grain of salt. However, as of February 2016, these were the steps I took to get started working. UPDATE 2017: The process is still the same as described here. I know this because you have to renew your permits each year for your first three years in Austria. Granted, it is much easier the second and third times as you have all of your papers in place already from the previous year!","position":{"start":{"line":18,"column":8,"offset":612},"end":{"line":18,"column":468,"offset":1072},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":18,"column":468,"offset":1072},"end":{"line":18,"column":474,"offset":1078},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":605},"end":{"line":18,"column":474,"offset":1078},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":20,"column":4,"offset":1085},"end":{"line":20,"column":12,"offset":1093},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1082},"end":{"line":20,"column":12,"offset":1093},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you plan on living in Austria for longer than three months, and then longer than sixth months (there are some other special visas such as a student visa, artist visa which last for sixth months), then the government requires you to apply for a Niedlerlassungsbewilligung, a specific type of Aufenhaltstitel, or residence permit, very similar to a green card in the US. Then, Liechtenstein requires that you have Aufenhaltstitel, or a working permit to legally work in Liechtenstein. Your company should help you with this process, and, since a cross border working permit for Liechtenstein is very common, the application is relatively simple compared to the Niedlerlassungsbewilligung.","position":{"start":{"line":22,"column":1,"offset":1097},"end":{"line":22,"column":692,"offset":1788},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1097},"end":{"line":22,"column":692,"offset":1788},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Legal Entities","position":{"start":{"line":24,"column":4,"offset":1795},"end":{"line":24,"column":18,"offset":1809},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1792},"end":{"line":24,"column":18,"offset":1809},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are four legal entities you are going to need to work with to get everything to jive:","position":{"start":{"line":26,"column":1,"offset":1813},"end":{"line":26,"column":92,"offset":1904},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1813},"end":{"line":26,"column":92,"offset":1904},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Perhaps most important, is the Bezirkshauptmannschaft, or ‚ÄúBH‚Äù for short in German, or in English, the district authority. This is where you will complete your Niedlerlassungsbewilligung, or residence permit.","position":{"start":{"line":27,"column":4,"offset":1909},"end":{"line":27,"column":212,"offset":2117},"indent":[]}}],"position":{"start":{"line":27,"column":4,"offset":1909},"end":{"line":27,"column":212,"offset":2117},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1906},"end":{"line":27,"column":212,"offset":2117},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Another place you will visit is the Gemeindeamt, or town hall of the town your apartment is in. This is where you will make your Meldezettel, or certification of registration. When you do this registration, you want to make your Haupwohnsitz, or main place of residence to that town.","position":{"start":{"line":28,"column":4,"offset":2122},"end":{"line":28,"column":287,"offset":2405},"indent":[]}}],"position":{"start":{"line":28,"column":4,"offset":2122},"end":{"line":28,"column":287,"offset":2405},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":2119},"end":{"line":28,"column":287,"offset":2405},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You will also need to work with the Besitzer, or the owner of the apartment. If the apartment you want to rent is a private, this shouldn‚Äôt be so difficult. Unfortunately, it is quite common in Austria that apartments are owned by an apartment company, so you may have to work with one of those companies to finally get the rent contract and the signature of the official owner of the building itself.","position":{"start":{"line":29,"column":4,"offset":2410},"end":{"line":29,"column":405,"offset":2811},"indent":[]}}],"position":{"start":{"line":29,"column":4,"offset":2410},"end":{"line":29,"column":405,"offset":2811},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2407},"end":{"line":29,"column":405,"offset":2811},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally, the two documents you will need to send from Liechtenstein are mandated by the Besitzer Ausl√§nder- und Passamt, or the Immigration and Passport Office of Liechtenstein.\nLong Term Residence Permit(Nieder- lassungs- bewilligung)\nFor the residence permit, fill out the Niedlerlassungsbewilligung application. If you already have your apartment, you should even be able to fill in those parts as well. If you don‚Äôt have a spouse or children, you can skip many parts of this application. Anyways, the BH will look over it when you first supply it to them anyway, so don‚Äôt stress too much.\nTo fully complete the Niedlerlassungsbewilligung application, you will need to bring the following documents when you go to the BH:","position":{"start":{"line":30,"column":4,"offset":2816},"end":{"line":33,"column":132,"offset":3543},"indent":[1,1,1]}}],"position":{"start":{"line":30,"column":4,"offset":2816},"end":{"line":33,"column":132,"offset":3543},"indent":[1,1,1]}}],"position":{"start":{"line":30,"column":1,"offset":2813},"end":{"line":33,"column":132,"offset":3543},"indent":[1,1,1]}}],"position":{"start":{"line":27,"column":1,"offset":1906},"end":{"line":33,"column":132,"offset":3543},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Original Documents","position":{"start":{"line":35,"column":4,"offset":3550},"end":{"line":35,"column":22,"offset":3568},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":3547},"end":{"line":35,"column":22,"offset":3568},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Passport photo (glue it right on the front page of the application)","position":{"start":{"line":37,"column":4,"offset":3575},"end":{"line":37,"column":71,"offset":3642},"indent":[]}}],"position":{"start":{"line":37,"column":4,"offset":3575},"end":{"line":37,"column":71,"offset":3642},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":3572},"end":{"line":37,"column":71,"offset":3642},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your birth certificate, signed by an apostle","position":{"start":{"line":38,"column":4,"offset":3647},"end":{"line":38,"column":48,"offset":3691},"indent":[]}}],"position":{"start":{"line":38,"column":4,"offset":3647},"end":{"line":38,"column":48,"offset":3691},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3644},"end":{"line":38,"column":48,"offset":3691},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A police report from you local police station listing an infractions you may or may not have, also signed by an apostle","position":{"start":{"line":39,"column":4,"offset":3696},"end":{"line":39,"column":123,"offset":3815},"indent":[]}}],"position":{"start":{"line":39,"column":4,"offset":3696},"end":{"line":39,"column":123,"offset":3815},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":3693},"end":{"line":39,"column":123,"offset":3815},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your (at the lowest) A1 German proficiency certificate","position":{"start":{"line":40,"column":4,"offset":3820},"end":{"line":40,"column":58,"offset":3874},"indent":[]}}],"position":{"start":{"line":40,"column":4,"offset":3820},"end":{"line":40,"column":58,"offset":3874},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3817},"end":{"line":40,"column":58,"offset":3874},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":3572},"end":{"line":40,"column":58,"offset":3874},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Copied Documents","position":{"start":{"line":42,"column":4,"offset":3881},"end":{"line":42,"column":20,"offset":3897},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":3878},"end":{"line":42,"column":20,"offset":3897},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your rent agreement, make sure the copy has the signature of owner of the apartment building","position":{"start":{"line":44,"column":4,"offset":3904},"end":{"line":44,"column":96,"offset":3996},"indent":[]}}],"position":{"start":{"line":44,"column":4,"offset":3904},"end":{"line":44,"column":96,"offset":3996},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":3901},"end":{"line":44,"column":96,"offset":3996},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Flight confirmation ticket (so the BH knows how long you have to legally stay in Austria)","position":{"start":{"line":45,"column":4,"offset":4001},"end":{"line":45,"column":93,"offset":4090},"indent":[]}}],"position":{"start":{"line":45,"column":4,"offset":4001},"end":{"line":45,"column":93,"offset":4090},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":3998},"end":{"line":45,"column":93,"offset":4090},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A police report from you local police station listing an infractions you may or may not have, also signed by an apostle","position":{"start":{"line":46,"column":4,"offset":4095},"end":{"line":46,"column":123,"offset":4214},"indent":[]}}],"position":{"start":{"line":46,"column":4,"offset":4095},"end":{"line":46,"column":123,"offset":4214},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":4092},"end":{"line":46,"column":123,"offset":4214},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your A1 certification in German. This is exam is not to be taken lightly! I did it through the Goethe Institut in U.S.","position":{"start":{"line":47,"column":4,"offset":4219},"end":{"line":47,"column":122,"offset":4337},"indent":[]}}],"position":{"start":{"line":47,"column":4,"offset":4219},"end":{"line":47,"column":122,"offset":4337},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":4216},"end":{"line":47,"column":122,"offset":4337},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Your work contract - make sure all the work contracts have signatures.","position":{"start":{"line":48,"column":4,"offset":4342},"end":{"line":48,"column":74,"offset":4412},"indent":[]}}],"position":{"start":{"line":48,"column":4,"offset":4342},"end":{"line":48,"column":74,"offset":4412},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":4339},"end":{"line":48,"column":74,"offset":4412},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A ‚Äúsimulation‚Äù of your wage with expected taxes from Austria - make sure this has signatures from your company as well.\nWork Permit(Arbeits- bewilligung)\nFor the work permit, you will need to fill out the Stellanantritt ohne Wohnsitznahme in Liechtenstein and Pers√∂nliche Angabe zur Ausstellung des Aufenhaltstitels applications. Your company in Liechtenstein may send you these half completed, or they may not. Mine did.\nTo fully complete the applications, you will need the following attachments:","position":{"start":{"line":49,"column":4,"offset":4417},"end":{"line":52,"column":77,"offset":4918},"indent":[1,1,1]}}],"position":{"start":{"line":49,"column":4,"offset":4417},"end":{"line":52,"column":77,"offset":4918},"indent":[1,1,1]}}],"position":{"start":{"line":49,"column":1,"offset":4414},"end":{"line":52,"column":77,"offset":4918},"indent":[1,1,1]}}],"position":{"start":{"line":44,"column":1,"offset":3901},"end":{"line":52,"column":77,"offset":4918},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Original Documents","position":{"start":{"line":54,"column":4,"offset":4925},"end":{"line":54,"column":22,"offset":4943},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":4922},"end":{"line":54,"column":22,"offset":4943},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Passport photo (glue it right on the front page of the Pers√∂nliche Angabe zur Ausstellung des Aufenhaltstitels)","position":{"start":{"line":56,"column":4,"offset":4950},"end":{"line":56,"column":115,"offset":5061},"indent":[]}}],"position":{"start":{"line":56,"column":4,"offset":4950},"end":{"line":56,"column":115,"offset":5061},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":4947},"end":{"line":56,"column":115,"offset":5061},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":4947},"end":{"line":56,"column":115,"offset":5061},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And‚Ä¶ that‚Äôs it. Just the passport photo. Told you it was cake compared to the residence permit.\nThe Perfect Process\nNow, some of the things you have seen above may not really make any sense to you. The list below will describe them and outline, if you were perfect, how you could complete the entire process without any confusion or wasting of time:","position":{"start":{"line":58,"column":1,"offset":5066},"end":{"line":60,"column":234,"offset":5419},"indent":[1,1]}}],"position":{"start":{"line":58,"column":1,"offset":5066},"end":{"line":60,"column":234,"offset":5419},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Before Going to Austria","position":{"start":{"line":62,"column":4,"offset":5426},"end":{"line":62,"column":27,"offset":5449},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":5423},"end":{"line":62,"column":27,"offset":5449},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Get a job offer in Liechtenstein! The company will send you contracts which you need to sign in the presence of an apostle, which you will then send back to the company for their final approval. They‚Äôll then order the contracts which you need to fill out for Liechtenstein.","position":{"start":{"line":64,"column":4,"offset":5456},"end":{"line":64,"column":277,"offset":5729},"indent":[]}}],"position":{"start":{"line":64,"column":4,"offset":5456},"end":{"line":64,"column":277,"offset":5729},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":5453},"end":{"line":64,"column":277,"offset":5729},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Pass your German A1 Proficiency Exam and wait for certificate to be mailed to you (this is probably easier before you go to Austria, but not impossible to do in Austria or Germany). This exam is includes basic reading, writing, and speaking in German. I did mine through the Goethe Institut. More about it here.","position":{"start":{"line":65,"column":4,"offset":5734},"end":{"line":65,"column":315,"offset":6045},"indent":[]}}],"position":{"start":{"line":65,"column":4,"offset":5734},"end":{"line":65,"column":315,"offset":6045},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":5731},"end":{"line":65,"column":315,"offset":6045},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":5453},"end":{"line":65,"column":315,"offset":6045},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Once In Austria","position":{"start":{"line":67,"column":4,"offset":6052},"end":{"line":67,"column":19,"offset":6067},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":6049},"end":{"line":67,"column":19,"offset":6067},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Obtain an Austrian Bank Account (this takes a few days because they always need to approve foreigners) this will help time saving immensely with any bank transfers you need for the apartment, such as the security deposit or first months rent.","position":{"start":{"line":69,"column":4,"offset":6074},"end":{"line":69,"column":246,"offset":6316},"indent":[]}}],"position":{"start":{"line":69,"column":4,"offset":6074},"end":{"line":69,"column":246,"offset":6316},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":6071},"end":{"line":69,"column":246,"offset":6316},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Aggressively hunt for an apartment, get the rent contract made up and sign it with the owner of the apartment as soon as you can. (This process took me a month.)","position":{"start":{"line":70,"column":4,"offset":6321},"end":{"line":70,"column":165,"offset":6482},"indent":[]}}],"position":{"start":{"line":70,"column":4,"offset":6321},"end":{"line":70,"column":165,"offset":6482},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":6318},"end":{"line":70,"column":165,"offset":6482},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the meantime of all the apartment hunting, get a bunch of passport photos taken. You will need them for a few things later on.","position":{"start":{"line":71,"column":4,"offset":6487},"end":{"line":71,"column":133,"offset":6616},"indent":[]}}],"position":{"start":{"line":71,"column":4,"offset":6487},"end":{"line":71,"column":133,"offset":6616},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":6484},"end":{"line":71,"column":133,"offset":6616},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Make your Meldezettal, or certification of registration at your local  Gemindeamt or town hall (make sure to bring your rent contract when you go!)","position":{"start":{"line":72,"column":4,"offset":6621},"end":{"line":72,"column":151,"offset":6768},"indent":[]}}],"position":{"start":{"line":72,"column":4,"offset":6621},"end":{"line":72,"column":151,"offset":6768},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":6618},"end":{"line":72,"column":151,"offset":6768},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Go to the BH with all of the documents listed above. If you‚Äôre good (unlike me) and have all the documents when you go, you should need to go only once.","position":{"start":{"line":73,"column":4,"offset":6773},"end":{"line":73,"column":156,"offset":6925},"indent":[]}}],"position":{"start":{"line":73,"column":4,"offset":6773},"end":{"line":73,"column":156,"offset":6925},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":6770},"end":{"line":73,"column":156,"offset":6925},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Now, this step is tricky. Liechtenstein won‚Äôt issue you a work permit without first seeing your residence permit (would be easy if you were an EU citizen - they would issue it as soon as they knew you were a citizen!) However, Austria won‚Äôt issue you a residence permit without first seeing the work permit! Catch 22 right? Well, not exactly. When you have everything ready for your residence permit at the BH, you can get help from your company and the Liechtenstein government to send a short confirmation letter saying that yes, as soon as you have your residence permit, they will issue you a work permit if you send in your residence permit for them to examine.","position":{"start":{"line":74,"column":4,"offset":6930},"end":{"line":74,"column":670,"offset":7596},"indent":[]}}],"position":{"start":{"line":74,"column":4,"offset":6930},"end":{"line":74,"column":670,"offset":7596},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":6927},"end":{"line":74,"column":670,"offset":7596},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Now wait. Some district authority offices say it can take as long as six months to approve your residence permit. I personally think that it depends more on your start date. I don‚Äôt think they will toast you and make you wait for months if they see your start date is coming up in just a few weeks or month.","position":{"start":{"line":75,"column":4,"offset":7601},"end":{"line":75,"column":311,"offset":7908},"indent":[]}}],"position":{"start":{"line":75,"column":4,"offset":7601},"end":{"line":75,"column":311,"offset":7908},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":7598},"end":{"line":75,"column":311,"offset":7908},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Then, eventually, the BH will call you and tell you when you can pick up your residence permit! You will have to go this time with your passport and pay a final 20 EUR to receive the residence permit. They told me to come back on a date about a week after I finally submitted everything.","position":{"start":{"line":76,"column":4,"offset":7913},"end":{"line":76,"column":291,"offset":8200},"indent":[]}}],"position":{"start":{"line":76,"column":4,"offset":7913},"end":{"line":76,"column":291,"offset":8200},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":7910},"end":{"line":76,"column":291,"offset":8200},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Then, you will need to work with your company. The authorities in Liechtenstein will need to see that residence permit that you just got, with those two other documents I mentioned above. Probably with yet another week, then will then issue you the work permit. I picked my work permit up from my company, but maybe they sometimes mail it. I‚Äôm not sure.","position":{"start":{"line":77,"column":4,"offset":8205},"end":{"line":77,"column":357,"offset":8558},"indent":[]}}],"position":{"start":{"line":77,"column":4,"offset":8205},"end":{"line":77,"column":357,"offset":8558},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":8202},"end":{"line":77,"column":357,"offset":8558},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally, you‚Äôve done it! Hike up to a hut, sip a delicious Austrian beer and eat a big Germkn√∂del! Try not to think about after all that paperwork your only reward is to start working!","position":{"start":{"line":78,"column":5,"offset":8564},"end":{"line":78,"column":189,"offset":8748},"indent":[]}}],"position":{"start":{"line":78,"column":5,"offset":8564},"end":{"line":78,"column":189,"offset":8748},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":8560},"end":{"line":78,"column":189,"offset":8748},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":6071},"end":{"line":78,"column":189,"offset":8748},"indent":[1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":82,"column":1,"offset":8759}}}},{"id":"transformer-remark-markdown-ast-17b424cae4f821be44ad94cb9169736e-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Introducing my (new / same?!) company chrisfrew.in! (and how to change your DBA name)\ndate: \"2018-03-01\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":136},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"chrisfrew.in as a company!","position":{"start":{"line":7,"column":3,"offset":142},"end":{"line":7,"column":29,"offset":168},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":140},"end":{"line":7,"column":29,"offset":168},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Hello there! In March of 2018 I streamlined my business process from my old doing business as (DBA) startup, Siren Apparel (it‚Äôs still alive!) ","position":{"start":{"line":9,"column":1,"offset":172},"end":{"line":9,"column":144,"offset":315},"indent":[]}},{"type":"link","title":null,"url":"https://sirenapparel.us","children":[{"type":"text","value":"https://sirenapparel.us","position":{"start":{"line":9,"column":145,"offset":316},"end":{"line":9,"column":168,"offset":339},"indent":[]}}],"position":{"start":{"line":9,"column":144,"offset":315},"end":{"line":9,"column":194,"offset":365},"indent":[]}},{"type":"text","value":" with the more general name of this site, chrisfrew.in (that also is creatively my name of course üòâ). This DBA name will make more sense to spin off multiple websites, apps, and digital products all under the new DBA name, ","position":{"start":{"line":9,"column":194,"offset":365},"end":{"line":9,"column":418,"offset":589},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"chrisfrew.in","position":{"start":{"line":9,"column":419,"offset":590},"end":{"line":9,"column":431,"offset":602},"indent":[]}}],"position":{"start":{"line":9,"column":418,"offset":589},"end":{"line":9,"column":432,"offset":603},"indent":[]}},{"type":"text","value":". Tasty.","position":{"start":{"line":9,"column":432,"offset":603},"end":{"line":9,"column":440,"offset":611},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":172},"end":{"line":9,"column":440,"offset":611},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"For New York state, how can you change your DBA name?","position":{"start":{"line":11,"column":3,"offset":617},"end":{"line":11,"column":56,"offset":670},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":615},"end":{"line":11,"column":56,"offset":670},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To change your DBA name, it‚Äôs basically two steps, one at the federal level and one at the state level:","position":{"start":{"line":13,"column":1,"offset":674},"end":{"line":13,"column":104,"offset":777},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":674},"end":{"line":13,"column":104,"offset":777},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A written letter to the Internal Revenue Service stating your intent to change the name. In the case of a sole proprietorship (like mine) there is no need to change you Employee Identification Number (EIN, also known as the Tax Identification Number or Tax ID). The IRS says that you have to write to the same IRS address that you sent your last tax address for the company for. Because I have a sole proprietorship, I can file for Siren Apparel (now chrisfrew.in) to this address:","position":{"start":{"line":15,"column":4,"offset":784},"end":{"line":15,"column":485,"offset":1265},"indent":[]}}],"position":{"start":{"line":15,"column":4,"offset":784},"end":{"line":15,"column":485,"offset":1265},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":781},"end":{"line":15,"column":485,"offset":1265},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":781},"end":{"line":15,"column":485,"offset":1265},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Department of the Treasury\nInternal Revenue Service\nKansas City, MO  64999-0002</code></pre>\n      </div>","position":{"start":{"line":17,"column":1,"offset":1269},"end":{"line":21,"column":4,"offset":1360},"indent":[1,1,1,1]}},{"type":"html","value":"<br/>","position":{"start":{"line":22,"column":1,"offset":1362},"end":{"line":22,"column":6,"offset":1367},"indent":[]}},{"type":"list","ordered":true,"start":2,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A DTF-65 form (for New York State since I live there) also indicating the name change (in the case of other states I assume this step would be similar, just a matter of finding the proper form for your state.)","position":{"start":{"line":24,"column":4,"offset":1374},"end":{"line":24,"column":213,"offset":1583},"indent":[]}}],"position":{"start":{"line":24,"column":4,"offset":1374},"end":{"line":24,"column":213,"offset":1583},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1371},"end":{"line":24,"column":213,"offset":1583},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1371},"end":{"line":24,"column":213,"offset":1583},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"TL;DR;","position":{"start":{"line":26,"column":3,"offset":1589},"end":{"line":26,"column":9,"offset":1595},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1587},"end":{"line":26,"column":9,"offset":1595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Fill out and send two forms; and you‚Äôre legally set!","position":{"start":{"line":28,"column":1,"offset":1599},"end":{"line":28,"column":53,"offset":1651},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1599},"end":{"line":28,"column":53,"offset":1651},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"in other words,","position":{"start":{"line":30,"column":2,"offset":1656},"end":{"line":30,"column":17,"offset":1671},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1655},"end":{"line":30,"column":18,"offset":1672},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1655},"end":{"line":30,"column":18,"offset":1672},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"üòé Its time to make some more startups. üòé","position":{"start":{"line":32,"column":1,"offset":1676},"end":{"line":32,"column":43,"offset":1718},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1676},"end":{"line":32,"column":43,"offset":1718},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":33,"column":1,"offset":1720}}}},{"id":"transformer-remark-markdown-ast-60b482817495d542aa830adcffcba265-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: How to Link to Lines of Code in a Github Repository!\ndate: \"2017-12-19\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":103},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This‚Äôll be a real short one; I just learned you can link to specific lines of code on GitHub!","position":{"start":{"line":7,"column":1,"offset":107},"end":{"line":7,"column":94,"offset":200},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":107},"end":{"line":7,"column":94,"offset":200},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All you need to do is find your link to the source code preview (","position":{"start":{"line":9,"column":1,"offset":204},"end":{"line":9,"column":66,"offset":269},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":9,"column":66,"offset":269},"end":{"line":9,"column":68,"offset":271},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":9,"column":68,"offset":271},"end":{"line":9,"column":70,"offset":273},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":9,"column":70,"offset":273},"end":{"line":9,"column":72,"offset":275},"indent":[]}},{"type":"text","value":"NOTE: ","position":{"start":{"line":9,"column":72,"offset":275},"end":{"line":9,"column":78,"offset":281},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":9,"column":79,"offset":282},"end":{"line":9,"column":82,"offset":285},"indent":[]}}],"position":{"start":{"line":9,"column":78,"offset":281},"end":{"line":9,"column":83,"offset":286},"indent":[]}},{"type":"text","value":" the raw view!) as an example, let‚Äôs look at a source file from Bitcoin repository*:","position":{"start":{"line":9,"column":83,"offset":286},"end":{"line":9,"column":167,"offset":370},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":204},"end":{"line":9,"column":167,"offset":370},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp","children":[{"type":"text","value":"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp","position":{"start":{"line":11,"column":1,"offset":374},"end":{"line":11,"column":94,"offset":467},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":374},"end":{"line":11,"column":94,"offset":467},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":374},"end":{"line":11,"column":94,"offset":467},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs say I want to highlight line 123. All you have to do is add a ‚Äò#L‚Äô and the line number you want, so let‚Äôs add #L123:","position":{"start":{"line":13,"column":1,"offset":471},"end":{"line":13,"column":123,"offset":593},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":471},"end":{"line":13,"column":123,"offset":593},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L123","children":[{"type":"text","value":"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L123","position":{"start":{"line":15,"column":2,"offset":598},"end":{"line":15,"column":100,"offset":696},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":597},"end":{"line":15,"column":201,"offset":797},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":597},"end":{"line":15,"column":201,"offset":797},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Go on. Give it a click. You know you want to! You‚Äôll see your browser jumps down and highlights that line.","position":{"start":{"line":17,"column":1,"offset":801},"end":{"line":17,"column":107,"offset":907},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":801},"end":{"line":17,"column":107,"offset":907},"indent":[]}},{"type":"html","value":"<hr/>","position":{"start":{"line":19,"column":1,"offset":911},"end":{"line":19,"column":6,"offset":916},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":21,"column":1,"offset":920},"end":{"line":21,"column":3,"offset":922},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":21,"column":3,"offset":922},"end":{"line":21,"column":4,"offset":923},"indent":[]}},{"type":"inlineCode","value":"main.cpp","position":{"start":{"line":21,"column":4,"offset":923},"end":{"line":21,"column":14,"offset":933},"indent":[]}},{"type":"text","value":" doesn‚Äôt exist anymore in the current codebase; it has been reorganized into various other parts of the code, but as an example ","position":{"start":{"line":21,"column":14,"offset":933},"end":{"line":21,"column":142,"offset":1061},"indent":[]}},{"type":"inlineCode","value":"main.cpp","position":{"start":{"line":21,"column":142,"offset":1061},"end":{"line":21,"column":152,"offset":1071},"indent":[]}},{"type":"text","value":" is an attractive file name üòÑ.","position":{"start":{"line":21,"column":152,"offset":1071},"end":{"line":21,"column":183,"offset":1102},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":920},"end":{"line":21,"column":183,"offset":1102},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":22,"column":1,"offset":1104}}}},{"id":"transformer-remark-markdown-ast-4d21062674ba1d1c17da1b65f3788fab-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Jump from SAPUI5 Apps to Transactions in Web GUI with Batch Input\ndate: \"2018-01-25\"\ndraft: true","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":115},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"So, we don‚Äôt want to be rebuilding SAP GUI transactions 1:1 in the Web‚Ä¶","position":{"start":{"line":7,"column":4,"offset":122},"end":{"line":7,"column":77,"offset":195},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":119},"end":{"line":7,"column":77,"offset":195},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"That would be like reinventing the wheel.","position":{"start":{"line":9,"column":1,"offset":199},"end":{"line":9,"column":42,"offset":240},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":199},"end":{"line":9,"column":42,"offset":240},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In SAPUI5 function, that looks something like this:","position":{"start":{"line":11,"column":1,"offset":244},"end":{"line":11,"column":52,"offset":295},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":244},"end":{"line":11,"column":52,"offset":295},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>\n</code></pre>\n      </div>","position":{"start":{"line":13,"column":1,"offset":299},"end":{"line":15,"column":4,"offset":319},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Dear SAP Gods‚Äù You shout. I know, what the heck are those random %20??!?! What the heck is that * there for? I recognize the transaction CO03, but what is going on here?!?!?!?","position":{"start":{"line":17,"column":1,"offset":323},"end":{"line":17,"column":176,"offset":498},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":323},"end":{"line":17,"column":176,"offset":498},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All shall become clear. Let‚Äôs break it down.","position":{"start":{"line":19,"column":1,"offset":502},"end":{"line":19,"column":45,"offset":546},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":502},"end":{"line":19,"column":45,"offset":546},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":20,"column":1,"offset":548}}}},{"id":"transformer-remark-markdown-ast-9882e309af78ed23f9bdf8c9aa36b339-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: More Thoughts On Early Retirement, Financial Independence, and Making a Living That's Worth Living\ndate: \"2018-10-11\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":149},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôve been generating ideas for this post for quiet a while, namely from the depressing nonsense I‚Äôve seen thrown around our very own interwebs. ","position":{"start":{"line":7,"column":1,"offset":153},"end":{"line":7,"column":145,"offset":297},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":153},"end":{"line":7,"column":145,"offset":297},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Mind you, they aren‚Äôt directly depressing to ","position":{"start":{"line":9,"column":1,"offset":301},"end":{"line":9,"column":46,"offset":346},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"me","position":{"start":{"line":9,"column":47,"offset":347},"end":{"line":9,"column":49,"offset":349},"indent":[]}}],"position":{"start":{"line":9,"column":46,"offset":346},"end":{"line":9,"column":50,"offset":350},"indent":[]}},{"type":"text","value":", but rather, they‚Äôre making me depressed on behalf of other people, because I think people throwing numbers around don‚Äôt really know what they‚Äôre getting into. ","position":{"start":{"line":9,"column":50,"offset":350},"end":{"line":9,"column":211,"offset":511},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":301},"end":{"line":9,"column":211,"offset":511},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let me explain what I mean. ","position":{"start":{"line":11,"column":1,"offset":515},"end":{"line":11,"column":29,"offset":543},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":515},"end":{"line":11,"column":29,"offset":543},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Ridiculous Retirement Savings Targets","position":{"start":{"line":13,"column":4,"offset":550},"end":{"line":13,"column":41,"offset":587},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":547},"end":{"line":13,"column":41,"offset":587},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All over chat boards (reddit included), I see target ‚Äúearly‚Äù retirement / financial independent net worth figures of ","position":{"start":{"line":15,"column":1,"offset":591},"end":{"line":15,"column":118,"offset":708},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"at least","position":{"start":{"line":15,"column":119,"offset":709},"end":{"line":15,"column":127,"offset":717},"indent":[]}}],"position":{"start":{"line":15,"column":118,"offset":708},"end":{"line":15,"column":128,"offset":718},"indent":[]}},{"type":"text","value":" $1,000,000, many 2.5 million ","position":{"start":{"line":15,"column":128,"offset":718},"end":{"line":15,"column":158,"offset":748},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"or higher","position":{"start":{"line":15,"column":159,"offset":749},"end":{"line":15,"column":168,"offset":758},"indent":[]}}],"position":{"start":{"line":15,"column":158,"offset":748},"end":{"line":15,"column":169,"offset":759},"indent":[]}},{"type":"text","value":". Obviously, throwing these targets around make you sound cool and everything seems achievable, but let‚Äôs dive into the numbers to see the amount of effort that would require.","position":{"start":{"line":15,"column":169,"offset":759},"end":{"line":15,"column":344,"offset":934},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":591},"end":{"line":15,"column":344,"offset":934},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs say you make 80K a year (even that is generous, hell, the median American salary is somewhere between $57,000 - $59,000 according to the US census: ","position":{"start":{"line":17,"column":1,"offset":938},"end":{"line":17,"column":155,"offset":1092},"indent":[]}},{"type":"link","title":null,"url":"https://www.census.gov/newsroom/press-releases/2017/income-povery.html","children":[{"type":"text","value":"https://www.census.gov/newsroom/press-releases/2017/income-povery.html","position":{"start":{"line":17,"column":155,"offset":1092},"end":{"line":17,"column":225,"offset":1162},"indent":[]}}],"position":{"start":{"line":17,"column":155,"offset":1092},"end":{"line":17,"column":225,"offset":1162},"indent":[]}},{"type":"text","value":"). ","position":{"start":{"line":17,"column":225,"offset":1162},"end":{"line":17,"column":228,"offset":1165},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":938},"end":{"line":17,"column":228,"offset":1165},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you are the average American, you invest/save 6% of your saveable income per year: ","position":{"start":{"line":19,"column":1,"offset":1169},"end":{"line":19,"column":87,"offset":1255},"indent":[]}},{"type":"link","title":null,"url":"https://networthify.com/calculator/earlyretirement","children":[{"type":"text","value":"https://networthify.com/calculator/earlyretirement","position":{"start":{"line":19,"column":87,"offset":1255},"end":{"line":19,"column":137,"offset":1305},"indent":[]}}],"position":{"start":{"line":19,"column":87,"offset":1255},"end":{"line":19,"column":137,"offset":1305},"indent":[]}},{"type":"text","value":". ","position":{"start":{"line":19,"column":137,"offset":1305},"end":{"line":19,"column":139,"offset":1307},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1169},"end":{"line":19,"column":139,"offset":1307},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At this rate, you would need 282 years to reach $1,000,000 (6% of $59,000 is $3,540, which goes into $1,000,000 about 282 times), and a vast 520 years to reach 2.5 million. Oh, you complain, don‚Äôt forget my average 4% yearly return on investment. Ok, you‚Äôre right, let me incorporate that into the calculation: it‚Äôs only a balmy 64 years to get to $1,000,000 and a quick 86 years to get to 2.5 million‚Ä¶ -","position":{"start":{"line":21,"column":1,"offset":1311},"end":{"line":21,"column":407,"offset":1717},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":21,"column":407,"offset":1717},"end":{"line":21,"column":409,"offset":1719},"indent":[]}},{"type":"text","value":"-","position":{"start":{"line":21,"column":409,"offset":1719},"end":{"line":21,"column":410,"offset":1720},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1311},"end":{"line":21,"column":410,"offset":1720},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yeah. Let‚Äôs let that sink in for a while‚Ä¶ ","position":{"start":{"line":23,"column":1,"offset":1724},"end":{"line":23,"column":45,"offset":1768},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1724},"end":{"line":23,"column":45,"offset":1768},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Still wanna get to $1,000,000 before ‚Äúpulling the trigger‚Äù? (Another term that rubs me the wrong way - why has society defined life as the white and black ‚Äòworking‚Äô and ‚Äònot working‚Äô buckets - it‚Äôs never like that anyway).","position":{"start":{"line":25,"column":1,"offset":1772},"end":{"line":25,"column":223,"offset":1994},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1772},"end":{"line":25,"column":223,"offset":1994},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I think too often, people throw these massive numbers around, and haven‚Äôt run the numbers themselves. ","position":{"start":{"line":27,"column":1,"offset":1998},"end":{"line":27,"column":103,"offset":2100},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1998},"end":{"line":27,"column":103,"offset":2100},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Listen, I‚Äôll give you the benefit of the doubt. Let‚Äôs raise your salary to CEO levels of 250K per year. With only a 6% savings rate (that means investing $15,000 a year), you still need 33 years to reach that heralded $1,000,000 target.","position":{"start":{"line":29,"column":1,"offset":2104},"end":{"line":29,"column":237,"offset":2340},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2104},"end":{"line":29,"column":237,"offset":2340},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Even at my own personal cheapo-ass-self savings rate of about 60% per year (investing about $40,000 per year), I still need 18 years to reach $1,000,000, and a whopping 31 to reach 2.5 million. Yes, too often stories are told about the alluring career paths of 30-40% salary upgrades every 5 years. These are paths usually filled with lucky opportunities, that are made out of maybe 1 in every 10,000 workers. Perhaps everyone will think they will get a 10% raise each year. I‚Äôm sorry, I think that‚Äôs a bunch of snake oil. In short:","position":{"start":{"line":31,"column":1,"offset":2344},"end":{"line":31,"column":533,"offset":2876},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2344},"end":{"line":31,"column":533,"offset":2876},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Unless your savings rate is 90% or higher, net worth targets of $1,000,000 or higher are NOT possible to be included in early retirement plans.","position":{"start":{"line":33,"column":3,"offset":2882},"end":{"line":33,"column":146,"offset":3025},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2880},"end":{"line":33,"column":148,"offset":3027},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2880},"end":{"line":33,"column":148,"offset":3027},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I see many people proudly touting the fact they are maxing out their 401Ks ($18,500 max as of 2018) and their Roth IRAs (a meager $5,500 max) - a total of $24,000 per year. This follows a similar outlook as examples above: 25 years to $1,000,000 and a staggering 41 years for 2.5 million when compounded yearly at 4%.  So, if you are one of these ‚Äòtouters‚Äô and think you are on some miraculous road to financial independence and returns will somehow fall out of the ether, YOUR ARE WRONG! If you want a true fast pass to an early financial independence, you‚Äôd better think (you‚Äôd need to do this anyway since the 401k and Roth withdrawal is at 59.5 years of age - otherwise you‚Äôre gonna take the tax hit.) ","position":{"start":{"line":35,"column":1,"offset":3031},"end":{"line":35,"column":707,"offset":3737},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":3031},"end":{"line":35,"column":707,"offset":3737},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"These are not lies, this is not my own smoke and mirrors show. This is pure math of constant yearly contribution with 4% year-over-year returns from this super basic calculator: ","position":{"start":{"line":37,"column":1,"offset":3741},"end":{"line":37,"column":179,"offset":3919},"indent":[]}},{"type":"link","title":null,"url":"http://www.moneychimp.com/calculator/compound_interest_calculator.htm","children":[{"type":"text","value":"http://www.moneychimp.com/calculator/compound","position":{"start":{"line":37,"column":179,"offset":3919},"end":{"line":37,"column":224,"offset":3964},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"interest","position":{"start":{"line":37,"column":225,"offset":3965},"end":{"line":37,"column":233,"offset":3973},"indent":[]}}],"position":{"start":{"line":37,"column":224,"offset":3964},"end":{"line":37,"column":234,"offset":3974},"indent":[]}},{"type":"text","value":"calculator.htm","position":{"start":{"line":37,"column":234,"offset":3974},"end":{"line":37,"column":248,"offset":3988},"indent":[]}}],"position":{"start":{"line":37,"column":179,"offset":3919},"end":{"line":37,"column":248,"offset":3988},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":3741},"end":{"line":37,"column":248,"offset":3988},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you wish to take the normal route, amassing wealth until you hit your big million dollar targets, well, enjoy, you will be 60-80 years old and will be sitting on a massive stack of cash that you won‚Äôt even have time to use. Pretty dumb. It sounds harsh, but I‚Äôve laid out the numbers as plan as I could.","position":{"start":{"line":39,"column":1,"offset":3992},"end":{"line":39,"column":307,"offset":4298},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":3992},"end":{"line":39,"column":307,"offset":4298},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Get Real With a More Realistic Target","position":{"start":{"line":41,"column":4,"offset":4305},"end":{"line":41,"column":41,"offset":4342},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":4302},"end":{"line":41,"column":41,"offset":4342},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Therefore, I follow in the footsteps of wise mentor Mr. Money Moustache, and propose a modest (although, as you will soon see, still surprisingly very powerful) new target net worth amount for when you can ‚Äúquit your job‚Äù (again, more on that soon) and call yourself retired / financial independent:","position":{"start":{"line":43,"column":1,"offset":4346},"end":{"line":43,"column":300,"offset":4645},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":4346},"end":{"line":43,"column":300,"offset":4645},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"$600,000.00","position":{"start":{"line":45,"column":3,"offset":4651},"end":{"line":45,"column":14,"offset":4662},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":4649},"end":{"line":45,"column":16,"offset":4664},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":4649},"end":{"line":45,"column":16,"offset":4664},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I hear the internet laughing: ‚Äú600K?!‚Äù You all chuckle, ‚ÄúWhy, that‚Äôs just only over ","position":{"start":{"line":47,"column":1,"offset":4668},"end":{"line":47,"column":85,"offset":4752},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"half","position":{"start":{"line":47,"column":86,"offset":4753},"end":{"line":47,"column":90,"offset":4757},"indent":[]}}],"position":{"start":{"line":47,"column":85,"offset":4752},"end":{"line":47,"column":91,"offset":4758},"indent":[]}},{"type":"text","value":" of a big ol‚Äô million!‚Äù Well excuse me, but with 600K you can:","position":{"start":{"line":47,"column":91,"offset":4758},"end":{"line":47,"column":153,"offset":4820},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":4668},"end":{"line":47,"column":153,"offset":4820},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Spend 100K per year for 6 years (that‚Äôs already a ridiculous amount - do you need 2 model S‚Äôs per year?)","position":{"start":{"line":49,"column":3,"offset":4826},"end":{"line":49,"column":107,"offset":4930},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":4826},"end":{"line":49,"column":107,"offset":4930},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":4824},"end":{"line":49,"column":107,"offset":4930},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Live in a nice Brooklyn or NYC high rise apartment for 20 years (this is at 2.5K a month - even in New York, you can get a pretty nice apartment with that price tag)\nOr, if you live like me (which is why it is my ‚Äúfinancial independence‚Äù target)","position":{"start":{"line":50,"column":3,"offset":4934},"end":{"line":51,"column":80,"offset":5180},"indent":[1]}}],"position":{"start":{"line":50,"column":3,"offset":4934},"end":{"line":51,"column":80,"offset":5180},"indent":[1]}}],"position":{"start":{"line":50,"column":1,"offset":4932},"end":{"line":51,"column":80,"offset":5180},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Live for 25 years on a 24K a year budget.","position":{"start":{"line":52,"column":5,"offset":5186},"end":{"line":52,"column":46,"offset":5227},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":5184},"end":{"line":52,"column":48,"offset":5229},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":5184},"end":{"line":52,"column":48,"offset":5229},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":5182},"end":{"line":52,"column":48,"offset":5229},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":4824},"end":{"line":52,"column":48,"offset":5229},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs stop and think about that. 25 years on a 24k budget. It will take me anyway another 11 years to get to $600,000 I‚Äôll be 37 then. That means, if I don‚Äôt do a damn thing for 25 years, my savings will completely run out when I‚Äôm 62. But I haven‚Äôt included a key variable: ","position":{"start":{"line":54,"column":1,"offset":5233},"end":{"line":54,"column":276,"offset":5508},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"time","position":{"start":{"line":54,"column":277,"offset":5509},"end":{"line":54,"column":281,"offset":5513},"indent":[]}}],"position":{"start":{"line":54,"column":276,"offset":5508},"end":{"line":54,"column":282,"offset":5514},"indent":[]}},{"type":"text","value":". This 25 year figure doesn‚Äôt include the face that over those 25 years, the money I ","position":{"start":{"line":54,"column":282,"offset":5514},"end":{"line":54,"column":367,"offset":5599},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"don‚Äôt","position":{"start":{"line":54,"column":368,"offset":5600},"end":{"line":54,"column":373,"offset":5605},"indent":[]}}],"position":{"start":{"line":54,"column":367,"offset":5599},"end":{"line":54,"column":374,"offset":5606},"indent":[]}},{"type":"text","value":" take out of my index funds is ","position":{"start":{"line":54,"column":374,"offset":5606},"end":{"line":54,"column":405,"offset":5637},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"still gaining value at 4%, year over year","position":{"start":{"line":54,"column":406,"offset":5638},"end":{"line":54,"column":447,"offset":5679},"indent":[]}}],"position":{"start":{"line":54,"column":405,"offset":5637},"end":{"line":54,"column":448,"offset":5680},"indent":[]}},{"type":"text","value":". Let‚Äôs take a moment and include that fact, and this is where the hidden power of non-million sized numbers and market comes to light:","position":{"start":{"line":54,"column":448,"offset":5680},"end":{"line":54,"column":583,"offset":5815},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":5233},"end":{"line":54,"column":583,"offset":5815},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Year 1 of FIRE: start with $600000 and take out $24000 (assume on january 1st)\n$576000 @ 4% for 1 year (~$23040 in market gains this year, add to principle for next year)\n$575040 @ 4% for 1 year (~$23002 in market gains this year, add to principle for next year)\n$551002 @ 4% for 1 year (~$22040 in market gains this year, add to principle for next year)\n$526040 @ 4% for 1 year (~$21042 in market gains this year, add to principle for next year)\n$501042 @ 4% for 1 year (~$20042 in market gains this year, add to principle for next year)\n$476042 @ 4% for 1 year (~$19042 in market gains this year, add to principle for next year)\n$451042 @ 4% for 1 year (~$18042 in market gains this year, add to principle for next year)\n$426042 @ 4% for 1 year (~$17042 in market gains this year, add to principle for next year)\n$401042 @ 4% for 1 year (~$16042 in market gains this year, add to principle for next year)\n$376042 @ 4% for 1 year (~$15042 in market gains this year, add to principle for next year)\n$351042 @ 4% for 1 year (~$14042 in market gains this year, add to principle for next year)\n$326042 @ 4% for 1 year (~$13042 in market gains this year, add to principle for next year)\n$301042 @ 4% for 1 year (~$12042 in market gains this year, add to principle for next year)\n$276042 @ 4% for 1 year (~$11042 in market gains this year, add to principle for next year)\n$251042 @ 4% for 1 year (~$10042 in market gains this year, add to principle for next year)\n$226042 @ 4% for 1 year (~$9042 in market gains this year, add to principle for next year)\n$201042 @ 4% for 1 year (~$8042 in market gains this year, add to principle for next year)\n$176042 @ 4% for 1 year (~$7042 in market gains this year, add to principle for next year)\n$151042 @ 4% for 1 year (~$6042 in market gains this year, add to principle for next year)\n$126042 @ 4% for 1 year (~$5042 in market gains this year, add to principle for next year)\n$101042 @ 4% for 1 year (~$4042 in market gains this year, add to principle for next year)\n$76042 @ 4% for 1 year (~$3042 in market gains this year, add to principle for next year)\n$51042 @ 4% for 1 year (~$2042 in market gains this year, add to principle for next year)\n$26042 @ 4% for 1 year (~$1042 in market gains this year, add to principle for next year) </code></pre>\n      </div>","position":{"start":{"line":56,"column":1,"offset":5819},"end":{"line":82,"column":4,"offset":8128},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Just within the first 5 years of drawing from our index funds, we squeeze out ~$109166 worth of ‚Äòextra‚Äô of market gains, simply because we didn‚Äôt draw those funds out during the large majority of time in that 24 year window‚Ä¶ indeed, this value of extra per-year market gains really tapers off over the last 10ish years of withdrawal (especially with any years of market downturns), but see the pattern here?!?","position":{"start":{"line":84,"column":1,"offset":8132},"end":{"line":84,"column":412,"offset":8543},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":8132},"end":{"line":84,"column":412,"offset":8543},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Does anyone realize, when you ‚Äúretire‚Äù you don‚Äôt cash your whole damn index fund to cash!? You‚Äôre gonna miss out on 25 years of market growth!!","position":{"start":{"line":86,"column":1,"offset":8547},"end":{"line":86,"column":144,"offset":8690},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":8547},"end":{"line":86,"column":144,"offset":8690},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Because you‚Äôre only cashing out 25K per year. ","position":{"start":{"line":88,"column":1,"offset":8694},"end":{"line":88,"column":47,"offset":8740},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Living frugally is key here.","position":{"start":{"line":88,"column":49,"offset":8742},"end":{"line":88,"column":77,"offset":8770},"indent":[]}}],"position":{"start":{"line":88,"column":47,"offset":8740},"end":{"line":88,"column":79,"offset":8772},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":8694},"end":{"line":88,"column":79,"offset":8772},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What it Should Truly Mean to Be Financially Independent","position":{"start":{"line":90,"column":4,"offset":8779},"end":{"line":90,"column":59,"offset":8834},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":8776},"end":{"line":90,"column":59,"offset":8834},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let me be clear on my opinion of financial independence and early retirement: it is NOT to escape work for the rest of your life!!! It is to ensure an effectively massive cushion so that a human can focus on neat projects, whether extremely difficult, charitable, or creative, and not have to worry about the next pay check.","position":{"start":{"line":92,"column":1,"offset":8838},"end":{"line":92,"column":325,"offset":9162},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":8838},"end":{"line":92,"column":325,"offset":9162},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Because, let‚Äôs be honest, if you can‚Äôt find an job opportunity or a new way to ensure income in 25 years, you‚Äôve got bigger problems than worrying about income in the first place.","position":{"start":{"line":94,"column":1,"offset":9166},"end":{"line":94,"column":180,"offset":9345},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":9166},"end":{"line":94,"column":180,"offset":9345},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"A Weird  Actuary‚Äôs View of Getting to 700K","position":{"start":{"line":96,"column":4,"offset":9352},"end":{"line":96,"column":46,"offset":9394},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":9349},"end":{"line":96,"column":46,"offset":9394},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For the sake of tax purposes, losses from essentials like health insurance and rent and all that nonsense, lets bump up my 600K target to a total of 700K to be, in my terms, financially independent.\nLets think of this 700K in terms of simple exchange for services. I need:","position":{"start":{"line":98,"column":1,"offset":9398},"end":{"line":99,"column":74,"offset":9671},"indent":[1]}}],"position":{"start":{"line":98,"column":1,"offset":9398},"end":{"line":99,"column":74,"offset":9671},"indent":[1]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>1 person to give me $700000 (ha!)\n7 people to give me $100000 (still ha!)\n70 people to give me $10000 (eh...)\n700 people to give me $1000 (with a _very_ nice product/service I could see this partially happening)\n7,000 people to give me $100 (alright, now we're getting there)\n70,000 people to give me $10 (if you go viral, yes)\n700,000 people to give me $1 (just for the sake of completeness)</code></pre>\n      </div>","position":{"start":{"line":101,"column":1,"offset":9675},"end":{"line":109,"column":4,"offset":10083},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs consider returning customers:","position":{"start":{"line":111,"column":1,"offset":10087},"end":{"line":111,"column":36,"offset":10122},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":10087},"end":{"line":111,"column":36,"offset":10122},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>35 people to give me $10000 twice \n350 people to give me $1000 twice \n3500 people to give me $100 twice \n35,000 people to give me $10 twice \n350,000 people to give me $1 twice </code></pre>\n      </div>","position":{"start":{"line":113,"column":1,"offset":10126},"end":{"line":119,"column":4,"offset":10316},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Super awesome returning customers with a very nice brand/product/service:","position":{"start":{"line":121,"column":1,"offset":10320},"end":{"line":121,"column":74,"offset":10393},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":10320},"end":{"line":121,"column":74,"offset":10393},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>14 people to give me $10000 five times \n140 people to give me $1000 five times \n1400 people to give me $100 five times \n14000 people to give me $10 five times \n140,000 people to give me $1 five times </code></pre>\n      </div>","position":{"start":{"line":123,"column":1,"offset":10397},"end":{"line":129,"column":4,"offset":10611},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Yes, these numbers are ","position":{"start":{"line":131,"column":1,"offset":10615},"end":{"line":131,"column":24,"offset":10638},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"way","position":{"start":{"line":131,"column":25,"offset":10639},"end":{"line":131,"column":28,"offset":10642},"indent":[]}}],"position":{"start":{"line":131,"column":24,"offset":10638},"end":{"line":131,"column":29,"offset":10643},"indent":[]}},{"type":"text","value":" to simple to just apply to such a massive amount of money as $700,000‚Ä¶ but it does get you thinking‚Ä¶","position":{"start":{"line":131,"column":29,"offset":10643},"end":{"line":131,"column":134,"offset":10748},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":10615},"end":{"line":131,"column":134,"offset":10748},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"My Call to Anyone Who is Listening","position":{"start":{"line":133,"column":4,"offset":10755},"end":{"line":133,"column":38,"offset":10789},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":10752},"end":{"line":133,"column":38,"offset":10789},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So that was my own personal version of what is known otherwise as ‚Äòlean‚Äô FIRE. Unless you truly know you are one of the group that can reach $1,000,000 (and you probably know who you are), don‚Äôt try and shoot for these crazy targets - I don‚Äôt think it leads to happiness, and it certainly won‚Äôt lead to any innovation or great works.","position":{"start":{"line":135,"column":1,"offset":10793},"end":{"line":135,"column":334,"offset":11126},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":10793},"end":{"line":135,"column":334,"offset":11126},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So my final call to anyone out there who will listen is this: build your 600K foundation, then move to follow your true passions - even better when that passion can generate more income, and I think you‚Äôll find it does when you spend years building something. ","position":{"start":{"line":137,"column":1,"offset":11130},"end":{"line":137,"column":261,"offset":11390},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":11130},"end":{"line":137,"column":261,"offset":11390},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember, with moderate living you have 20-25 years cushion to ride out on and BUILD SOMETHING! Start a charity, build massive works of art, stop global warming, save the world, I don‚Äôt care! Whatever you do, don‚Äôt sit in an office doing something you hate just because you are ","position":{"start":{"line":139,"column":1,"offset":11394},"end":{"line":139,"column":279,"offset":11672},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"scared","position":{"start":{"line":139,"column":280,"offset":11673},"end":{"line":139,"column":286,"offset":11679},"indent":[]}}],"position":{"start":{"line":139,"column":279,"offset":11672},"end":{"line":139,"column":287,"offset":11680},"indent":[]}},{"type":"text","value":". Remember, you won‚Äôt need ANY income for 2.5 decades. The only question remains is:","position":{"start":{"line":139,"column":287,"offset":11680},"end":{"line":139,"column":371,"offset":11764},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":11394},"end":{"line":139,"column":371,"offset":11764},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What will you build?","position":{"start":{"line":141,"column":1,"offset":11768},"end":{"line":141,"column":21,"offset":11788},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":11768},"end":{"line":141,"column":21,"offset":11788},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Chris","position":{"start":{"line":143,"column":1,"offset":11792},"end":{"line":143,"column":7,"offset":11798},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":11792},"end":{"line":143,"column":7,"offset":11798},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":145,"column":1,"offset":11802}}}},{"id":"transformer-remark-markdown-ast-141b09b0a4b235aefe37b4421a77d491-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Fully Automating Chrisfrew.in Productions - Part 4 of ??? - Building a Slack Bot\ndate: \"2018-07-21\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":131},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Slack Bot!","position":{"start":{"line":7,"column":4,"offset":138},"end":{"line":7,"column":14,"offset":148},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":135},"end":{"line":7,"column":14,"offset":148},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You may have read ","position":{"start":{"line":9,"column":1,"offset":152},"end":{"line":9,"column":19,"offset":170},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/","children":[{"type":"text","value":"Part 3","position":{"start":{"line":9,"column":20,"offset":171},"end":{"line":9,"column":26,"offset":177},"indent":[]}}],"position":{"start":{"line":9,"column":19,"offset":170},"end":{"line":9,"column":125,"offset":276},"indent":[]}},{"type":"text","value":" of ","position":{"start":{"line":9,"column":125,"offset":276},"end":{"line":9,"column":129,"offset":280},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-1-of-roadmap-and-links-to-process/","children":[{"type":"text","value":"my giant automation undertaking","position":{"start":{"line":9,"column":130,"offset":281},"end":{"line":9,"column":161,"offset":312},"indent":[]}}],"position":{"start":{"line":9,"column":129,"offset":280},"end":{"line":9,"column":266,"offset":417},"indent":[]}},{"type":"text","value":" about. Maybe not.","position":{"start":{"line":9,"column":266,"offset":417},"end":{"line":9,"column":284,"offset":435},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":152},"end":{"line":9,"column":284,"offset":435},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Anyway, near the bottom of ","position":{"start":{"line":11,"column":1,"offset":439},"end":{"line":11,"column":28,"offset":466},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/","children":[{"type":"text","value":"Part 3","position":{"start":{"line":11,"column":29,"offset":467},"end":{"line":11,"column":35,"offset":473},"indent":[]}}],"position":{"start":{"line":11,"column":28,"offset":466},"end":{"line":11,"column":134,"offset":572},"indent":[]}},{"type":"text","value":", I discuss a ","position":{"start":{"line":11,"column":134,"offset":572},"end":{"line":11,"column":148,"offset":586},"indent":[]}},{"type":"inlineCode","value":"messageHub()","position":{"start":{"line":11,"column":148,"offset":586},"end":{"line":11,"column":162,"offset":600},"indent":[]}},{"type":"text","value":" function that sends a string message to all the places I want it to, one of them being a Slack Bot. This is actually really, really easy to put together. The heroes at Slack are definitely doing a nice job with ease of use for developers.","position":{"start":{"line":11,"column":162,"offset":600},"end":{"line":11,"column":401,"offset":839},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":439},"end":{"line":11,"column":401,"offset":839},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Step 1: Set Up Your Slack Bot","position":{"start":{"line":13,"column":4,"offset":846},"end":{"line":13,"column":33,"offset":875},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":843},"end":{"line":13,"column":33,"offset":875},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Go to ‚ÄòYour Apps‚Äô on ","position":{"start":{"line":15,"column":3,"offset":881},"end":{"line":15,"column":24,"offset":902},"indent":[]}},{"type":"link","title":null,"url":"https://api.slack.com","children":[{"type":"text","value":"https://api.slack.com","position":{"start":{"line":15,"column":24,"offset":902},"end":{"line":15,"column":45,"offset":923},"indent":[]}}],"position":{"start":{"line":15,"column":24,"offset":902},"end":{"line":15,"column":45,"offset":923},"indent":[]}},{"type":"text","value":": ","position":{"start":{"line":15,"column":45,"offset":923},"end":{"line":15,"column":47,"offset":925},"indent":[]}},{"type":"link","title":null,"url":"https://api.slack.com/apps","children":[{"type":"text","value":"https://api.slack.com/apps","position":{"start":{"line":15,"column":47,"offset":925},"end":{"line":15,"column":73,"offset":951},"indent":[]}}],"position":{"start":{"line":15,"column":47,"offset":925},"end":{"line":15,"column":73,"offset":951},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":881},"end":{"line":15,"column":73,"offset":951},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":879},"end":{"line":15,"column":73,"offset":951},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the green button ‚ÄòCreate New App‚Äô","position":{"start":{"line":16,"column":3,"offset":955},"end":{"line":16,"column":42,"offset":994},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":955},"end":{"line":16,"column":42,"offset":994},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":953},"end":{"line":16,"column":42,"offset":994},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Provide a name and pick a workspace you want that bot","position":{"start":{"line":17,"column":3,"offset":998},"end":{"line":17,"column":56,"offset":1051},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":998},"end":{"line":17,"column":56,"offset":1051},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":996},"end":{"line":17,"column":56,"offset":1051},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Under the ‚ÄòAdd features and functionality‚Äô, click ‚ÄòIncoming Webhooks‚Äô","position":{"start":{"line":18,"column":3,"offset":1055},"end":{"line":18,"column":72,"offset":1124},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":1055},"end":{"line":18,"column":72,"offset":1124},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1053},"end":{"line":18,"column":72,"offset":1124},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the switch to turn the service on","position":{"start":{"line":19,"column":3,"offset":1128},"end":{"line":19,"column":42,"offset":1167},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":1128},"end":{"line":19,"column":42,"offset":1167},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1126},"end":{"line":19,"column":42,"offset":1167},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click Add New Webhook to Workspace","position":{"start":{"line":20,"column":3,"offset":1171},"end":{"line":20,"column":37,"offset":1205},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":1171},"end":{"line":20,"column":37,"offset":1205},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1169},"end":{"line":20,"column":37,"offset":1205},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select a channel from your slack workspace you want the bot to post to","position":{"start":{"line":21,"column":3,"offset":1209},"end":{"line":21,"column":73,"offset":1279},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":1209},"end":{"line":21,"column":73,"offset":1279},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1207},"end":{"line":21,"column":73,"offset":1279},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"copy the ","position":{"start":{"line":22,"column":3,"offset":1283},"end":{"line":22,"column":12,"offset":1292},"indent":[]}},{"type":"link","title":null,"url":"https://hooks.slack.com/blahblahblahblah","children":[{"type":"text","value":"https://hooks.slack.com/blahblahblahblah","position":{"start":{"line":22,"column":12,"offset":1292},"end":{"line":22,"column":52,"offset":1332},"indent":[]}}],"position":{"start":{"line":22,"column":12,"offset":1292},"end":{"line":22,"column":52,"offset":1332},"indent":[]}},{"type":"text","value":" endpoint!","position":{"start":{"line":22,"column":52,"offset":1332},"end":{"line":22,"column":62,"offset":1342},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":1283},"end":{"line":22,"column":62,"offset":1342},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1281},"end":{"line":22,"column":62,"offset":1342},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":879},"end":{"line":22,"column":62,"offset":1342},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Step 2: Use POST in Nodejs with Your Link","position":{"start":{"line":24,"column":4,"offset":1349},"end":{"line":24,"column":45,"offset":1390},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1346},"end":{"line":24,"column":45,"offset":1390},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now that you have your POST link, sending a message as a slack bot is as easy as sending JSON with a ","position":{"start":{"line":26,"column":1,"offset":1394},"end":{"line":26,"column":102,"offset":1495},"indent":[]}},{"type":"inlineCode","value":"text","position":{"start":{"line":26,"column":102,"offset":1495},"end":{"line":26,"column":108,"offset":1501},"indent":[]}},{"type":"text","value":" key filled with your desired message string.","position":{"start":{"line":26,"column":108,"offset":1501},"end":{"line":26,"column":153,"offset":1546},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1394},"end":{"line":26,"column":153,"offset":1546},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Using the axios library for example, that is as simple as:","position":{"start":{"line":28,"column":1,"offset":1550},"end":{"line":28,"column":59,"offset":1608},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1550},"end":{"line":28,"column":59,"offset":1608},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_SLACK_BOT_WEBHOOK_URL<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hello Word\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":30,"column":1,"offset":1612},"end":{"line":34,"column":4,"offset":1719},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Step 3: Just kidding, there is no step 3!","position":{"start":{"line":36,"column":4,"offset":1726},"end":{"line":36,"column":45,"offset":1767},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1723},"end":{"line":36,"column":45,"offset":1767},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"That‚Äôs really all there is too it. Of course you can build out more features, but this is really the jist of it. I‚Äôll be working on the other direction over the next few weeks - instead of the bot sending information, sending, or asking the bot for information. This will be a very nice way of interacting with my server without the command line :)","position":{"start":{"line":38,"column":1,"offset":1771},"end":{"line":38,"column":349,"offset":2119},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1771},"end":{"line":38,"column":349,"offset":2119},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":40,"column":1,"offset":2123}}}},{"id":"transformer-remark-markdown-ast-45cf1b5aa8abca746ecb39a1aa12c5e4-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Sending Windows Server Commands From SAP ABAP\ndate: \"2017-12-13\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":96},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Alright, let‚Äôs do a bit of applied stuff today.","position":{"start":{"line":7,"column":1,"offset":100},"end":{"line":7,"column":48,"offset":147},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":100},"end":{"line":7,"column":48,"offset":147},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Backstory","position":{"start":{"line":9,"column":3,"offset":153},"end":{"line":9,"column":12,"offset":162},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":151},"end":{"line":9,"column":12,"offset":162},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For a long time, I had a ticket open for our IT team (I am likewise in the SAP team) for an automatic job that would restart a certain task on a Windows server we had - for reasons we still don‚Äôt know yet, this particular service would state that it was running, when in fact the job it was supposed to be orchestrating was clearly not running. We were able to verify if the service wasn‚Äôt working properly by pinging an RFC node. If the RFC ping returned with an error, then we knew the service was not working - don‚Äôt worry, this RFC ping will come into the code later.","position":{"start":{"line":11,"column":1,"offset":166},"end":{"line":11,"column":572,"offset":737},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":166},"end":{"line":11,"column":572,"offset":737},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"One lazy Friday when I didn‚Äôt have much to do, I was brainstorming if it was possible that maybe I could take this ticket into my own hands, writing something on our ABAP stack that could do the trick.","position":{"start":{"line":13,"column":1,"offset":741},"end":{"line":13,"column":202,"offset":942},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":741},"end":{"line":13,"column":202,"offset":942},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Problem","position":{"start":{"line":15,"column":3,"offset":948},"end":{"line":15,"column":14,"offset":959},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":946},"end":{"line":15,"column":14,"offset":959},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I knew at least that I had to issue specific commands to the command line. That much I already knew how to do - I had used custom command services in SAP/ABAP with transaction SM69 before. The hard thing that I got stuck with: how could I, from our SAP application server, issue a specific command, to the Service Control Manager, to a specific service? Whew. Still with me? With help from one of our basic team members, we discovered that as it turns out, Windows has a very nice command for exactly that.","position":{"start":{"line":17,"column":1,"offset":963},"end":{"line":17,"column":507,"offset":1469},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":963},"end":{"line":17,"column":507,"offset":1469},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It‚Äôs called ","position":{"start":{"line":19,"column":1,"offset":1473},"end":{"line":19,"column":13,"offset":1485},"indent":[]}},{"type":"inlineCode","value":"sc","position":{"start":{"line":19,"column":13,"offset":1485},"end":{"line":19,"column":17,"offset":1489},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":19,"column":17,"offset":1489},"end":{"line":19,"column":18,"offset":1490},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1473},"end":{"line":19,"column":18,"offset":1490},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>C:\\>sc\nDESCRIPTION:\n        SC is a command line program used for communicating with the\n        Service Control Manager and services.\nUSAGE:\n        sc <server> [command] [service name] <option1> <option2>...\n\n\n        The option <server> has the form \"\\\\ServerName\"\n        Further help on commands can be obtained by typing: \"sc [command]\"\n        Commands:\n          query-----------Queries the status for a service, or enumerates the status for types of services.\n          queryex---------Queries the extended status for a service, or enumerates the status for types of services.\n          start-----------Starts a service.\n          pause-----------Sends a PAUSE control request to a service.\n          interrogate-----Sends an INTERROGATE control request to a service.\n          continue--------Sends a CONTINUE control request to a service.\n          stop------------Sends a STOP request to a service.\n          config----------Changes the configuration of a service (persistent).\n          description-----Changes the description of a service.\n          failure---------Changes the actions taken by a service upon failure.\n          failureflag-----Changes the failure actions flag of a service.\n          sidtype---------Changes the service SID type of a service.\n          privs-----------Changes the required privileges of a service.\n          managedaccount--Changes the service to mark the service account password as managed by LSA.\n          qc--------------Queries the configuration information for a service.\n          qdescription----Queries the description for a service.\n          qfailure--------Queries the actions taken by a service upon failure.\n          qfailureflag----Queries the failure actions flag of a service.\n          qsidtype--------Queries the service SID type of a service.\n          qprivs----------Queries the required privileges of a service.\n          qtriggerinfo----Queries the trigger parameters of a service.\n          qpreferrednode--Queries the preferred NUMA node of a service.\n          qrunlevel-------Queries the run level of a service.\n          qmanagedaccount-Queries whether a services uses an account with a password managed by LSA.\n          qprotection-----Queries the process protection level of a service.\n          delete----------Deletes a service (from the registry).\n          create----------Creates a service. (adds it to the registry).\n          control---------Sends a control to a service.\n          sdshow----------Displays a service's security descriptor.\n          sdset-----------Sets a service's security descriptor.\n          showsid---------Displays the service SID string corresponding to an arbitrary name.\n          triggerinfo-----Configures the trigger parameters of a service.\n          preferrednode---Sets the preferred NUMA node of a service.\n          runlevel--------Sets the run level of a service.\n          GetDisplayName--Gets the DisplayName for a service.\n          GetKeyName------Gets the ServiceKeyName for a service.\n          EnumDepend------Enumerates Service Dependencies.\n\n        The following commands don't require a service name:\n        sc <server> <command> <option>\n          boot------------(ok | bad) Indicates whether the last boot should be saved as the last-known-good boot configuration\n          Lock------------Locks the Service Database\n          QueryLock-------Queries the LockStatus for the SCManager Database\nEXAMPLE:\n        sc start MyService\n\nWould you like to see help for the QUERY and QUERYEX commands? [ y | n ]:</code></pre>\n      </div>","position":{"start":{"line":21,"column":1,"offset":1494},"end":{"line":80,"column":4,"offset":5104},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Wow. That‚Äôs a monster of a command documentation. Let‚Äôs break down what we need.","position":{"start":{"line":82,"column":1,"offset":5108},"end":{"line":82,"column":81,"offset":5188},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":5108},"end":{"line":82,"column":81,"offset":5188},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The server name. We know that (for this example, I‚Äôm going to just call it AWESOMESERVER01). But wait! There‚Äôs a gotchya, we will need to write it like:","position":{"start":{"line":84,"column":3,"offset":5194},"end":{"line":84,"column":155,"offset":5346},"indent":[]}}],"position":{"start":{"line":84,"column":3,"offset":5194},"end":{"line":84,"column":155,"offset":5346},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":5192},"end":{"line":84,"column":155,"offset":5346},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":5192},"end":{"line":84,"column":155,"offset":5346},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"\\\\AWESOMESERVER01","position":{"start":{"line":86,"column":1,"offset":5350},"end":{"line":86,"column":20,"offset":5369},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":5350},"end":{"line":86,"column":20,"offset":5369},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"That‚Äôs not a special setting for server names that we have at my company or anything like that, that‚Äôs part of the ","position":{"start":{"line":88,"column":1,"offset":5373},"end":{"line":88,"column":116,"offset":5488},"indent":[]}},{"type":"inlineCode","value":"sc","position":{"start":{"line":88,"column":116,"offset":5488},"end":{"line":88,"column":120,"offset":5492},"indent":[]}},{"type":"text","value":" command. Notice the line in the documentation that says exactly that:","position":{"start":{"line":88,"column":120,"offset":5492},"end":{"line":88,"column":190,"offset":5562},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":5373},"end":{"line":88,"column":190,"offset":5562},"indent":[]}},{"type":"blockquote","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"The option ","position":{"start":{"line":90,"column":5,"offset":5570},"end":{"line":90,"column":16,"offset":5581},"indent":[]}},{"type":"html","value":"<server>","position":{"start":{"line":90,"column":16,"offset":5581},"end":{"line":90,"column":24,"offset":5589},"indent":[]}},{"type":"text","value":" has the form ‚Äù","position":{"start":{"line":90,"column":24,"offset":5589},"end":{"line":90,"column":39,"offset":5604},"indent":[]}},{"type":"text","value":"\\","position":{"start":{"line":90,"column":39,"offset":5604},"end":{"line":90,"column":41,"offset":5606},"indent":[]}},{"type":"text","value":"\\","position":{"start":{"line":90,"column":41,"offset":5606},"end":{"line":90,"column":43,"offset":5608},"indent":[]}},{"type":"text","value":"ServerName‚Äù","position":{"start":{"line":90,"column":43,"offset":5608},"end":{"line":90,"column":54,"offset":5619},"indent":[]}}],"position":{"start":{"line":90,"column":5,"offset":5570},"end":{"line":90,"column":54,"offset":5619},"indent":[]}}],"position":{"start":{"line":90,"column":3,"offset":5568},"end":{"line":90,"column":54,"offset":5619},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":5566},"end":{"line":90,"column":54,"offset":5619},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Okay, now for our service name. Again, for instruction purposes of the command and for privacy sake, I‚Äôm going to call our service ","position":{"start":{"line":92,"column":1,"offset":5623},"end":{"line":92,"column":132,"offset":5754},"indent":[]}},{"type":"inlineCode","value":"ServiceName even with Whitespace","position":{"start":{"line":92,"column":132,"offset":5754},"end":{"line":92,"column":166,"offset":5788},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":92,"column":166,"offset":5788},"end":{"line":92,"column":167,"offset":5789},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":5623},"end":{"line":92,"column":167,"offset":5789},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Okay, what do I need to send as a command? What command do we need? Let‚Äôs check out that wall of text documentation:","position":{"start":{"line":94,"column":1,"offset":5793},"end":{"line":94,"column":117,"offset":5909},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":5793},"end":{"line":94,"column":117,"offset":5909},"indent":[]}},{"type":"blockquote","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"stop------------Sends a STOP request to a service.","position":{"start":{"line":96,"column":5,"offset":5917},"end":{"line":96,"column":55,"offset":5967},"indent":[]}}],"position":{"start":{"line":96,"column":5,"offset":5917},"end":{"line":96,"column":55,"offset":5967},"indent":[]}}],"position":{"start":{"line":96,"column":3,"offset":5915},"end":{"line":96,"column":55,"offset":5967},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":5913},"end":{"line":96,"column":55,"offset":5967},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yep, that sounds about as right as you can get. Oh also, hold your thoughts on this one:","position":{"start":{"line":98,"column":1,"offset":5971},"end":{"line":98,"column":89,"offset":6059},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5971},"end":{"line":98,"column":89,"offset":6059},"indent":[]}},{"type":"blockquote","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Commands:\n  ‚Ä¶\n  start-----------Starts a service.","position":{"start":{"line":100,"column":5,"offset":6067},"end":{"line":102,"column":36,"offset":6122},"indent":[1,1]}}],"position":{"start":{"line":100,"column":5,"offset":6067},"end":{"line":102,"column":36,"offset":6122},"indent":[1,1]}}],"position":{"start":{"line":100,"column":3,"offset":6065},"end":{"line":102,"column":36,"offset":6122},"indent":[1,1]}}],"position":{"start":{"line":100,"column":1,"offset":6063},"end":{"line":102,"column":36,"offset":6122},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"That will be useful later, too.","position":{"start":{"line":104,"column":1,"offset":6126},"end":{"line":104,"column":32,"offset":6157},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":6126},"end":{"line":104,"column":32,"offset":6157},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Alright‚Ä¶ Server name? Check. Service Name? Check. Command name(s)? Check. So, what do we get as a command for our efforts? It looks like this:","position":{"start":{"line":106,"column":1,"offset":6161},"end":{"line":106,"column":145,"offset":6305},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":6161},"end":{"line":106,"column":145,"offset":6305},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"sc \\\\AWESOMESERVER01 start \"ServiceName even with Whitespace\"","position":{"start":{"line":108,"column":1,"offset":6309},"end":{"line":108,"column":64,"offset":6372},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":6309},"end":{"line":108,"column":64,"offset":6372},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In order for this to be a true ","position":{"start":{"line":110,"column":1,"offset":6376},"end":{"line":110,"column":32,"offset":6407},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"restart","position":{"start":{"line":110,"column":33,"offset":6408},"end":{"line":110,"column":40,"offset":6415},"indent":[]}}],"position":{"start":{"line":110,"column":32,"offset":6407},"end":{"line":110,"column":41,"offset":6416},"indent":[]}},{"type":"text","value":" of the service, we would have to issue a stop/start command pair on the service:","position":{"start":{"line":110,"column":41,"offset":6416},"end":{"line":110,"column":122,"offset":6497},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":6376},"end":{"line":110,"column":122,"offset":6497},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"sc \\\\AWESOMESERVER01 stop \"ServiceName even with Whitespace\"","position":{"start":{"line":112,"column":1,"offset":6501},"end":{"line":112,"column":63,"offset":6563},"indent":[]}},{"type":"break","position":{"start":{"line":112,"column":63,"offset":6563},"end":{"line":113,"column":1,"offset":6567},"indent":[1]}},{"type":"inlineCode","value":"sc \\\\AWESOMESERVER01 start \"ServiceName even with Whitespace\"","position":{"start":{"line":113,"column":1,"offset":6567},"end":{"line":113,"column":64,"offset":6630},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":6501},"end":{"line":113,"column":64,"offset":6630},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"How do we do that in ABAP? Well, to run SM69 commands programmatically, we have the tasty function module ","position":{"start":{"line":115,"column":1,"offset":6634},"end":{"line":115,"column":107,"offset":6740},"indent":[]}},{"type":"inlineCode","value":"SXPG_COMMAND_EXECUTE","position":{"start":{"line":115,"column":107,"offset":6740},"end":{"line":115,"column":129,"offset":6762},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":115,"column":129,"offset":6762},"end":{"line":115,"column":130,"offset":6763},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":6634},"end":{"line":115,"column":130,"offset":6763},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    commandname                   <span class=\"token operator\">=</span> gv_commandname\n    additional_parameters         <span class=\"token operator\">=</span> gv_additional_parameters\n    operatingsystem               <span class=\"token operator\">=</span> gv_operatingsystem\n  <span class=\"token keyword\">TABLES</span>\n    exec_protocol                 <span class=\"token operator\">=</span> gt_result\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    no_permission                 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    command_not_found             <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    parameters_too_long           <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n    security_risk                 <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n    wrong_check_call_interface    <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n    program_start_error           <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n    program_termination_error     <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n    x_error                       <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n    parameter_expected            <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n    too_many_parameters           <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n    illegal_command               <span class=\"token operator\">=</span> <span class=\"token number\">11</span>\n    wrong_asynchronous_parameters <span class=\"token operator\">=</span> <span class=\"token number\">12</span>\n    cant_enq_tbtco_entry          <span class=\"token operator\">=</span> <span class=\"token number\">13</span>\n    jobcount_generation_error     <span class=\"token operator\">=</span> <span class=\"token number\">14</span>\n    <span class=\"token keyword\">OTHERS</span>                        <span class=\"token operator\">=</span> <span class=\"token number\">15</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":117,"column":1,"offset":6767},"end":{"line":141,"column":4,"offset":7663},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôll just say I maintained the two commands in SM69 as ","position":{"start":{"line":143,"column":1,"offset":7667},"end":{"line":143,"column":56,"offset":7722},"indent":[]}},{"type":"inlineCode","value":"Z_MY_SUPER_AWESOME_COMMAND_START","position":{"start":{"line":143,"column":56,"offset":7722},"end":{"line":143,"column":90,"offset":7756},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":143,"column":90,"offset":7756},"end":{"line":143,"column":95,"offset":7761},"indent":[]}},{"type":"inlineCode","value":"Z_MY_SUPER_AWESOME_COMMAND_STOP","position":{"start":{"line":143,"column":95,"offset":7761},"end":{"line":143,"column":128,"offset":7794},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":143,"column":128,"offset":7794},"end":{"line":143,"column":129,"offset":7795},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":7667},"end":{"line":143,"column":129,"offset":7795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, all that‚Äôs left is to check if the service is not responding. As I summarized above, if the Windows service was broken, the RFC node that talked to it would also be broken. (i.e. pinging it would not work). An RFC node is easy enough to test with function module ","position":{"start":{"line":145,"column":1,"offset":7799},"end":{"line":145,"column":268,"offset":8066},"indent":[]}},{"type":"inlineCode","value":"RFC_PING","position":{"start":{"line":145,"column":268,"offset":8066},"end":{"line":145,"column":278,"offset":8076},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":145,"column":278,"offset":8076},"end":{"line":145,"column":279,"offset":8077},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":7799},"end":{"line":145,"column":279,"offset":8077},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'RFC_PING'</span>\n  <span class=\"token keyword\">DESTINATION</span> <span class=\"token string\">'Z_BROKEN_RFC_DESTINATION'</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":147,"column":1,"offset":8081},"end":{"line":153,"column":4,"offset":8238},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Easy enough. If ","position":{"start":{"line":155,"column":1,"offset":8242},"end":{"line":155,"column":17,"offset":8258},"indent":[]}},{"type":"inlineCode","value":"sy-subrc","position":{"start":{"line":155,"column":17,"offset":8258},"end":{"line":155,"column":27,"offset":8268},"indent":[]}},{"type":"text","value":" is of value 1 or 2, then it means indeed, that our ","position":{"start":{"line":155,"column":27,"offset":8268},"end":{"line":155,"column":79,"offset":8320},"indent":[]}},{"type":"inlineCode","value":"Z_BROKEN_RFC_DESTINATION","position":{"start":{"line":155,"column":79,"offset":8320},"end":{"line":155,"column":105,"offset":8346},"indent":[]}},{"type":"text","value":" is indeed broken.","position":{"start":{"line":155,"column":105,"offset":8346},"end":{"line":155,"column":123,"offset":8364},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":8242},"end":{"line":155,"column":123,"offset":8364},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So if it turns out this service is not responding, we call the command pair with function module ","position":{"start":{"line":157,"column":1,"offset":8368},"end":{"line":157,"column":98,"offset":8465},"indent":[]}},{"type":"inlineCode","value":"SXPG_COMMAND_EXECUTE","position":{"start":{"line":157,"column":98,"offset":8465},"end":{"line":157,"column":120,"offset":8487},"indent":[]}},{"type":"text","value":", check ","position":{"start":{"line":157,"column":120,"offset":8487},"end":{"line":157,"column":128,"offset":8495},"indent":[]}},{"type":"inlineCode","value":"sy-subrc","position":{"start":{"line":157,"column":128,"offset":8495},"end":{"line":157,"column":138,"offset":8505},"indent":[]}},{"type":"text","value":", and we are done! The total code looks like this:","position":{"start":{"line":157,"column":138,"offset":8505},"end":{"line":157,"column":188,"offset":8555},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":8368},"end":{"line":157,"column":188,"offset":8555},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> Z_RESTART_SERVICE<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Report:  Z_RESTART_SERVICE                                          *</span>\n<span class=\"token comment\">*&amp; Author: Chris Frewin                                                *</span>\n<span class=\"token comment\">*&amp; Creation Date: 27.10.2017                                           *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Requester:                                                          *</span>\n<span class=\"token comment\">*&amp; Chris Frewin - a report that restarts a windows service             *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Changes:                                                            *</span>\n<span class=\"token comment\">*&amp; Chris Frewin      2017.12.13 - First version                        *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n\n<span class=\"token eol-comment comment\">\" Check RFC destination Z_BROKEN_RFC_DESTINATION - if it hangs or returns error, try to restart it</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'RFC_PING'</span>\n  <span class=\"token keyword\">DESTINATION</span> <span class=\"token string\">'Z_BROKEN_RFC_DESTINATION'</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION with SY-SUBRC = 1: \"system_failure\" Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION with SY-SUBRC = 2: \"communication_failure\" Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token keyword\">OTHERS</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION is offline or not functioning properly! Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n  <span class=\"token eol-comment comment\">\" restart the service with a stop/start combo</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      commandname <span class=\"token operator\">=</span> <span class=\"token string\">'Z_MY_SUPER_AWESOME_COMMAND_STOP'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Error with the start command - Z_MY_SUPER_AWESOME_COMMAND_STOP command!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      commandname <span class=\"token operator\">=</span> <span class=\"token string\">'Z_MY_SUPER_AWESOME_COMMAND_START'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Error with the stop command - Z_MY_SUPER_AWESOME_COMMAND_START command!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Service successfully newly started!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":159,"column":1,"offset":8559},"end":{"line":207,"column":4,"offset":10984},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We set this report up as a batch job to run every 5 minutes, and the ticket was resolved üòÑ","position":{"start":{"line":209,"column":1,"offset":10988},"end":{"line":209,"column":92,"offset":11079},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":10988},"end":{"line":209,"column":92,"offset":11079},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Review","position":{"start":{"line":211,"column":3,"offset":11085},"end":{"line":211,"column":9,"offset":11091},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":11083},"end":{"line":211,"column":9,"offset":11091},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As a review, we determined the specific commands needed to be sent to the Windows Service Control Manager, maintained the needed commands in transaction SM69, and wrote a report that we ran as a batch job!","position":{"start":{"line":213,"column":1,"offset":11095},"end":{"line":213,"column":206,"offset":11300},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":11095},"end":{"line":213,"column":206,"offset":11300},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Notes and Comments","position":{"start":{"line":215,"column":3,"offset":11306},"end":{"line":215,"column":21,"offset":11324},"indent":[]}}],"position":{"start":{"line":215,"column":1,"offset":11304},"end":{"line":215,"column":21,"offset":11324},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I hope everyone enjoyed this post and learned a thing or two. I‚Äôm going to be posting a lot more ABAP as well as SAPUI5 content in the coming months. I‚Äôve found that the learning curve for SAPUI5 is a lot higher than other frontend frameworks like React, Vue, or Cycle. I‚Äôve done specialized projects with SAPUI5 is both the EWM and PP modules - There is A LOT of really cool stuff you can do, (especially in EWM) with WebSockets, statistics, and SAPUI5. The bottom line is, I‚Äôve got some great content in the coming months for everyone!","position":{"start":{"line":217,"column":1,"offset":11328},"end":{"line":217,"column":538,"offset":11865},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":11328},"end":{"line":217,"column":538,"offset":11865},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers everyone! üç∫","position":{"start":{"line":219,"column":1,"offset":11869},"end":{"line":219,"column":20,"offset":11888},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":11869},"end":{"line":219,"column":20,"offset":11888},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Intellectual property/privacy disclaimer: the exact source code and use case have been modified from the real use case at the company I work for, ","position":{"start":{"line":221,"column":2,"offset":11893},"end":{"line":221,"column":148,"offset":12039},"indent":[]}},{"type":"link","title":null,"url":"https://www.ospelt.com/en/ospelt/info/home.html","children":[{"type":"text","value":"Ospelt","position":{"start":{"line":221,"column":149,"offset":12040},"end":{"line":221,"column":155,"offset":12046},"indent":[]}}],"position":{"start":{"line":221,"column":148,"offset":12039},"end":{"line":221,"column":205,"offset":12096},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":221,"column":205,"offset":12096},"end":{"line":221,"column":206,"offset":12097},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":11892},"end":{"line":221,"column":207,"offset":12098},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":11892},"end":{"line":221,"column":207,"offset":12098},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":222,"column":1,"offset":12100}}}},{"id":"transformer-remark-markdown-ast-f32dbd6a388743a4994ac69eb70d4ee1-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Some Tasty Bash Profile / Bashrc Commands To Make Your Life Better\ndate: \"2018-04-09\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":117},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Bash Profile / Bashrc - Aliases, Terminal Prompt, Terminal Prompt Colors, the Works to Get Your Workflow to God-Like Levels!","position":{"start":{"line":7,"column":3,"offset":123},"end":{"line":7,"column":127,"offset":247},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":121},"end":{"line":7,"column":127,"offset":247},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This post is gonna get right to it - if you use machines that have a Bash terminal, you should build custom aliases to get around faster, do stuff faster, or just plain have a bit of fun! (you don‚Äôt necessarily have to use mine, but these aliases and functions could get you started on your own machine - and hey, besides, my aliases are pretty intuitive right? üòÑ)","position":{"start":{"line":9,"column":1,"offset":251},"end":{"line":9,"column":366,"offset":616},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":251},"end":{"line":9,"column":366,"offset":616},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For the following machines, the alias file can be found in these locations:","position":{"start":{"line":11,"column":1,"offset":620},"end":{"line":11,"column":76,"offset":695},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":620},"end":{"line":11,"column":76,"offset":695},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Mac: ","position":{"start":{"line":13,"column":1,"offset":699},"end":{"line":13,"column":6,"offset":704},"indent":[]}},{"type":"inlineCode","value":"~/.bash_profile","position":{"start":{"line":13,"column":6,"offset":704},"end":{"line":13,"column":23,"offset":721},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":699},"end":{"line":13,"column":23,"offset":721},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Linux: ","position":{"start":{"line":15,"column":1,"offset":725},"end":{"line":15,"column":8,"offset":732},"indent":[]}},{"type":"inlineCode","value":"~/.bashrc","position":{"start":{"line":15,"column":8,"offset":732},"end":{"line":15,"column":19,"offset":743},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":725},"end":{"line":15,"column":19,"offset":743},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Raspberry Pi (with raspbian and other linux style builds): ","position":{"start":{"line":17,"column":1,"offset":747},"end":{"line":17,"column":60,"offset":806},"indent":[]}},{"type":"inlineCode","value":"~/.bashrc","position":{"start":{"line":17,"column":60,"offset":806},"end":{"line":17,"column":71,"offset":817},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":747},"end":{"line":17,"column":71,"offset":817},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here‚Äôs what I‚Äôve got (compiled and selected as only the tastiest after 5+ of full stack dev work! oh also, the IPs for SSH and passwords for my databases / APIs have been ","position":{"start":{"line":19,"column":1,"offset":821},"end":{"line":19,"column":172,"offset":992},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"clearly","position":{"start":{"line":19,"column":173,"offset":993},"end":{"line":19,"column":180,"offset":1000},"indent":[]}}],"position":{"start":{"line":19,"column":172,"offset":992},"end":{"line":19,"column":181,"offset":1001},"indent":[]}},{"type":"text","value":" modified, they won‚Äôt work - what do you think I am, an idiot? üòÇüòÇüòÇ )","position":{"start":{"line":19,"column":181,"offset":1001},"end":{"line":19,"column":252,"offset":1072},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":821},"end":{"line":19,"column":252,"offset":1072},"indent":[]}},{"type":"html","lang":"bash","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code><span class=\"token comment\"># ~/.bashrc: executed by bash(1) for non-login shells.</span>\n<span class=\"token comment\"># see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)</span>\n<span class=\"token comment\"># for examples</span>\n\n<span class=\"token comment\"># If not running interactively, don't do anything</span>\n<span class=\"token keyword\">case</span> $- <span class=\"token keyword\">in</span>\n    *i*<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n      *<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\nesac\n\n<span class=\"token comment\"># don't put duplicate lines or lines starting with space in the history.</span>\n<span class=\"token comment\"># See bash(1) for more options</span>\nHISTCONTROL<span class=\"token operator\">=</span>ignoreboth\n\n<span class=\"token comment\"># append to the history file, don't overwrite it</span>\n<span class=\"token function\">shopt</span> -s histappend\n\n<span class=\"token comment\"># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>\nHISTSIZE<span class=\"token operator\">=</span>1000\nHISTFILESIZE<span class=\"token operator\">=</span>2000\n\n<span class=\"token comment\"># check the window size after each command and, if necessary,</span>\n<span class=\"token comment\"># update the values of LINES and COLUMNS.</span>\n<span class=\"token function\">shopt</span> -s checkwinsize\n\n<span class=\"token comment\"># If set, the pattern \"**\" used in a pathname expansion context will</span>\n<span class=\"token comment\"># match all files and zero or more directories and subdirectories.</span>\n<span class=\"token comment\">#shopt -s globstar</span>\n\n<span class=\"token comment\"># make less more friendly for non-text input files, see lesspipe(1)</span>\n<span class=\"token punctuation\">[</span> -x /usr/bin/lesspipe <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>SHELL<span class=\"token operator\">=</span>/bin/sh lesspipe<span class=\"token variable\">)</span></span>\"</span>\n\n<span class=\"token comment\"># fancy directory prompt</span>\nPS1<span class=\"token operator\">=</span><span class=\"token string\">'\\[\\033[01;32m\\]\\u@\\h\\[\\033[01;34m\\] [\\w]\\[\\033[00m\\] '</span>\n\n<span class=\"token comment\"># Add an \"alert\" alias for long running commands.  Use like so:</span>\n<span class=\"token comment\">#   sleep 10; alert</span>\n<span class=\"token function\">alias</span> alert<span class=\"token operator\">=</span><span class=\"token string\">'notify-send --urgency=low -i \"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token punctuation\">[</span> $? <span class=\"token operator\">=</span> 0 <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">echo</span> terminal <span class=\"token operator\">||</span> <span class=\"token keyword\">echo</span> error<span class=\"token variable\">)</span></span>\" \"$(history|tail -n1|sed -e '</span>\\<span class=\"token string\">''</span>s/^\\s*<span class=\"token punctuation\">[</span>0-9<span class=\"token punctuation\">]</span>\\+\\s*//<span class=\"token punctuation\">;</span>s/<span class=\"token punctuation\">[</span><span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span><span class=\"token operator\">|</span><span class=\"token punctuation\">]</span>\\s*alert$//<span class=\"token string\">'\\''</span><span class=\"token punctuation\">)</span><span class=\"token string\">\"'\n\n# Alias definitions.\n# You may want to put all your additions into a separate file like\n# ~/.bash_aliases, instead of adding them here directly.\n# See /usr/share/doc/bash-doc/examples in the bash-doc package.\n\nif [ -f ~/.bash_aliases ]; then\n    . ~/.bash_aliases\nfi\n\n# enable programmable completion features (you don't need to enable\n# this, if it's already enabled in /etc/bash.bashrc and /etc/profile\n# sources /etc/bash.bashrc).\nif ! shopt -oq posix; then\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\n    . /usr/share/bash-completion/bash_completion\n  elif [ -f /etc/bash_completion ]; then\n    . /etc/bash_completion\n  fi\nfi\n\n\n##########################################\n### BEGIN CUSTOM ALIASES AND FUNCTIONS ###\n##########################################\n\n###########\n# aliases #\n###########\n\n# productivity\nalias prof='atom /Users/chris/.bash_profile' # opens .bash_profile for editing\nalias s='source /Users/chris/.bash_profile' # sources .bash_profile (should be done every time after changing profile)\nalias lk='ls -lhkart'\nalias show='open .'\nalias back='cd ..'\nalias prev='cd -'\nalias home='cd'\nalias boot='sudo reboot'\nalias shut='sudo shutdown -h now'\nalias hidedesk='gsettings set org.gnome.desktop.background show-desktop-icons false'\nalias showdesk='gsettings set org.gnome.desktop.background show-desktop-icons true'\nalias de='xdg-open /Users/chris/Desktop/DE.desktop'\nalias en='xdg-open /Users/chris/Desktop/EN.desktop'\nalias duo='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=ekajaiihjemkjldcienbdonodmbiklnb'\nalias whats='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=hnpfjngllnobngcgfapefoaidbinmjnm'\nalias sputnik='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias robo='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias roboton='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias slack='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=niopebapoomkfgpbhanlddcancjkjnkl'\nalias sd='down;show;prev'\nalias ipy='ipython'\nalias py='python'\nalias youtubemp3='youtube-dl --extract-audio --audio-format mp3'\nalias getlines='find . -name \"</span>*.*\" <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">wc</span> -l<span class=\"token string\">'\nalias disabledchromium='</span>chromium-browser --disable-web-security --user-data-dir<span class=\"token string\">'\nalias phpserver='</span>php -S localhost:8000<span class=\"token string\">'\nalias phpserver2='</span>php -S localhost:8001<span class=\"token string\">'\nalias serv='</span><span class=\"token function\">cd</span><span class=\"token punctuation\">;</span> <span class=\"token function\">cd</span> personalwebsite<span class=\"token punctuation\">;</span> phpserver<span class=\"token string\">'\nalias feldkirch='</span>/opt/google/chrome/google-chrome --profile-directory<span class=\"token operator\">=</span>Default --app-id<span class=\"token operator\">=</span>mnmkkpdekllmopechbcfhhhdojafalin<span class=\"token string\">'\nalias coderesources='</span><span class=\"token function\">cd</span> /Users/chris/Documents/coderesources<span class=\"token string\">'\nalias codestuff='</span><span class=\"token function\">cd</span> /Users/chris/Documents/codestuff<span class=\"token string\">'\nalias gladysroot='</span><span class=\"token function\">cd</span> /usr/local/lib/node_modules/gladys<span class=\"token string\">'\nalias studio='</span>sh /usr/local/android-studio/bin/studio.sh<span class=\"token string\">'\nalias pl='</span>perl<span class=\"token string\">'\nalias haskell='</span>ghci<span class=\"token string\">'\nalias nexus='</span>emulator @Nexus_5X_API_26<span class=\"token string\">'\nalias iphone5='</span>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app/Contents/MacOS/Simulator -CurrentDeviceUDID EF585900-1164-4AF9-90FD-26B1DEC3DB66<span class=\"token string\">'\nalias iphone6='</span>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app/Contents/MacOS/Simulator -CurrentDeviceUDID 3DC7A4A6-489F-4305-AFE8-53A8D1302E65<span class=\"token string\">'\nalias nodecode='</span><span class=\"token function\">cd</span> /Users/chris/Documents/codestuff/node<span class=\"token string\">'\nalias gittelluser='</span><span class=\"token function\">git</span> config --global user.email<span class=\"token string\">'\nalias nodesass='</span>node-sass -wo ./src/styles ./src/styles-scss<span class=\"token string\">'\nalias pj='</span><span class=\"token function\">cd</span> /Users/chris/projects<span class=\"token string\">'\nalias heroku-skillscout='</span>heroku git:remote -a skillscout<span class=\"token punctuation\">;</span><span class=\"token function\">git</span> commit <span class=\"token keyword\">.</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push heroku master<span class=\"token string\">'\nalias usbs='</span><span class=\"token function\">cd</span> /Volumes/<span class=\"token string\">'\nalias art='</span><span class=\"token function\">cd</span> /Users/chris/Documents/Art<span class=\"token string\">'\nalias datasets='</span><span class=\"token function\">cd</span> /Users/chris/datasets<span class=\"token string\">'\nalias npmgloballist='</span><span class=\"token function\">npm</span> list -g --depth<span class=\"token operator\">=</span>0<span class=\"token string\">'\n\n# folder locations\nalias cfpaper='</span><span class=\"token function\">cd</span> /Users/chris/cf_tracer<span class=\"token string\">'\nalias down='</span><span class=\"token function\">cd</span> /Users/chris/Downloads<span class=\"token string\">'\nalias desk='</span><span class=\"token function\">cd</span> /Users/chris/Desktop<span class=\"token string\">'\nalias sap='</span><span class=\"token function\">cd</span> /Users/chris/Documents/sap<span class=\"token string\">'\nalias pic='</span><span class=\"token function\">cd</span> /Users/chris/Pictures<span class=\"token string\">'\nalias trans='</span>ding<span class=\"token string\">'\nalias lookup='</span><span class=\"token function\">grep</span> -iR<span class=\"token string\">'\nalias skimonitor='</span><span class=\"token function\">cd</span> /Users/chris/personalwebsite/projects/skimonitor/skimonitor/webapp<span class=\"token string\">'\nalias raphelper='</span><span class=\"token function\">cd</span> /Users/chris/personalwebsite/projects/raphelper/raphelper/webapp<span class=\"token string\">'\nalias ui5sdk='</span><span class=\"token function\">cd</span> /Users/chris/Documents/OpenUI5/openui5-sdk-1.38.5<span class=\"token string\">'\nalias play='</span><span class=\"token function\">cd</span> /Users/chris/playground<span class=\"token string\">'\n\n# Pi Logins - make sure to change IP when router IP changes!\nalias pilocal='</span><span class=\"token function\">ssh</span> pi@192.168.0.16<span class=\"token string\">'\nalias pi='</span><span class=\"token function\">ssh</span> pi@123.123.123.123 -p 22<span class=\"token string\">'\nalias pidesk='</span><span class=\"token function\">ssh</span> -XC pi@192.168.0.16 x2x -north -to :0.0<span class=\"token string\">'\n\n# Linux Server Logins - make sure to change IP when router IP changes!\nalias delllocal='</span><span class=\"token function\">ssh</span> chris@192.168.0.20 -p 55555<span class=\"token string\">'\nalias dell='</span><span class=\"token function\">ssh</span> chris@123.123.123.123 -p 55555<span class=\"token string\">'\n\n# Yoga Raiblocks\nalias yoga='</span><span class=\"token function\">ssh</span> chris@192.168.0.12 -p 44444<span class=\"token string\">'\n\n# Devon'</span>s Server\n<span class=\"token function\">alias</span> stock<span class=\"token operator\">=</span><span class=\"token string\">'ssh devonsserverwhichiwontshowyouthenameorhost@host.com -p 24'</span>\n\n<span class=\"token function\">alias</span> unlockiphone<span class=\"token operator\">=</span><span class=\"token string\">'sudo chmod 777 /var/lib/lockdown'</span>\n\n<span class=\"token function\">alias</span> utorrent<span class=\"token operator\">=</span><span class=\"token string\">'utserver -settingspath /opt/utorrent-server-alpha-v3_3/'</span>\n\n<span class=\"token function\">alias</span> vncconnect<span class=\"token operator\">=</span><span class=\"token string\">'ssh -L 5900:localhost:5900 pi@123.123.123.123 -p 1234'</span>\n\n<span class=\"token keyword\">function</span> droiddev<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    galaxy<span class=\"token punctuation\">;</span>\n    react-native start<span class=\"token punctuation\">;</span>\n    react-native run-android<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> vid2mp4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec mpeg4 <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> video2x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.50*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># speed up input video by 4, export as 'outfast.ogv'</span>\n<span class=\"token keyword\">function</span> video4x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.25*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> video10x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.1*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># put bdc data in correct format</span>\n<span class=\"token keyword\">function</span> bdc<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">awk</span> <span class=\"token string\">'{for(i=1;i&lt;=NF;i++)printf(\"\\\"%s\\\" \",<span class=\"token variable\">$i</span>);printf(\"\\n\");}'</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">></span> temp1<span class=\"token punctuation\">;</span> <span class=\"token comment\"># wrap all words in double quotes</span>\n    <span class=\"token function\">cat</span> temp1 <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">'\"'</span> <span class=\"token string\">\"'\"</span> <span class=\"token operator\">></span> temp2<span class=\"token punctuation\">;</span> <span class=\"token comment\"># translate all double quotes to single quotes</span>\n    <span class=\"token function\">awk</span> <span class=\"token string\">'{ if (<span class=\"token variable\">$3</span> != \"\") print \"PERFORM bdcdaten USING:\\n\\t\" <span class=\"token variable\">$3</span> \" \" <span class=\"token variable\">$1</span> \" \" <span class=\"token variable\">$2</span> \",\"; else print \"\\t\\t\" \"\\47 \\47 \" <span class=\"token variable\">$0</span>\",\" }'</span> temp2 <span class=\"token operator\">></span> temp3<span class=\"token punctuation\">;</span> <span class=\"token comment\"># if there is no 3rd argument print PERFORM statement</span>\n    <span class=\"token comment\"># cat temp3 | sed 's/ ,/,/' > bdcoutput.txt;</span>\n    <span class=\"token comment\"># rm temp1;</span>\n    <span class=\"token comment\"># rm temp2;</span>\n    <span class=\"token comment\"># rm temp3;</span>\n    <span class=\"token comment\"># echo \"Done.\";</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># $2 and $3 MUST be in '01:00:00' format, $1 and $4 are file names</span>\n<span class=\"token keyword\">function</span> splitvid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -v quiet -y -i <span class=\"token variable\">$1</span> -vcodec copy -acodec copy -ss <span class=\"token variable\">$2</span> -t <span class=\"token variable\">$3</span> -sn <span class=\"token variable\">$4</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> fm4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"on\"</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">then</span>\n            <span class=\"token function\">ssh</span> pi@192.168.0.16 <span class=\"token string\">'tmux; fm4; exit; exit'</span>\n    <span class=\"token keyword\">fi</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"off\"</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">then</span>\n            <span class=\"token function\">ssh</span> pi@192.168.0.16 <span class=\"token string\">'tmux kill-session'</span>\n    <span class=\"token keyword\">fi</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> lime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    subl <span class=\"token variable\">$1</span> <span class=\"token operator\">&amp;</span> <span class=\"token comment\">#  '&amp;' push everything to background</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> mynetworks<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\"># first lists all networks, then grep sorts for just the id and psk stuff. finally sed puts a space between each set</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/NetworkManager/system-connections/* <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -Ew <span class=\"token string\">'id|psk'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">'key'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'/psk/s/$/ \\n/'</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> fixjunkynetworking<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">sudo</span> modprobe -r rt2800pci\n    <span class=\"token function\">sudo</span> modprobe -v rt2800pci nohwcrypt<span class=\"token operator\">=</span>1\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> pushall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> commit --all\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> push --all\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> showusb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">cd</span> /media/chris/Banner\n    show\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># some git functinos because they're too damn long to remember</span>\n<span class=\"token keyword\">function</span> gitchguser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">git</span> config --global user.email <span class=\"token variable\">$1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># personal improvement of this gist: https://gist.github.com/dergachev/4627207</span>\n<span class=\"token keyword\">function</span> mov2gif<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  width<span class=\"token operator\">=</span><span class=\"token punctuation\">$(</span>mediainfo <span class=\"token variable\">$1</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Width <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">' Width:pixels'</span> <span class=\"token string\">' '</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/ //g'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># get the height/width metadata, grep out the spaces and crap</span>\n  height<span class=\"token operator\">=</span><span class=\"token punctuation\">$(</span>mediainfo <span class=\"token variable\">$1</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Height <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">' Height:pixels'</span> <span class=\"token string\">' '</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/ //g'</span><span class=\"token punctuation\">)</span>\n  dimensionString<span class=\"token operator\">=</span><span class=\"token variable\">$width</span> <span class=\"token comment\"># build a string to pass to the ffmpeg command</span>\n  dimensionString+<span class=\"token operator\">=</span><span class=\"token string\">\"x\"</span>\n  dimensionString+<span class=\"token operator\">=</span><span class=\"token variable\">$height</span>\n  <span class=\"token keyword\">echo</span> <span class=\"token string\">\"Dimension determined as:\"</span> <span class=\"token variable\">$dimensionString</span> <span class=\"token comment\"># notify user of dimensions found</span>\n  ffmpeg -i -nostats -loglevel 0 <span class=\"token variable\">$1</span> -s <span class=\"token variable\">$dimensionString</span> -pix_fmt rgb24 -r 10 -f gif - <span class=\"token operator\">|</span> gifsicle --optimize<span class=\"token operator\">=</span>3 --delay<span class=\"token operator\">=</span>3 <span class=\"token operator\">></span> <span class=\"token variable\">$1</span>.gif <span class=\"token comment\"># silent mode</span>\n  <span class=\"token keyword\">echo</span> <span class=\"token string\">\"Saved gif as: <span class=\"token variable\">$1</span>.gif\"</span> <span class=\"token comment\"># saved gif name</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">#############################</span>\n<span class=\"token comment\">### ENVIRONMENT VARIABLES ###</span>\n<span class=\"token comment\">#############################</span>\n\n<span class=\"token comment\"># keys for twitter access keys</span>\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_SECRET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_ACCESS_TOKEN<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_ACCESS_TOKEN_SECRET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_NASA_API_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># google maps geocode API</span>\n<span class=\"token function\">export</span> SKILLSCOUT_GOOGLE_GEOCODING_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout private postgresql tunnel server (local)</span>\n<span class=\"token function\">export</span> SERVER_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout private postgresql credentials</span>\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_PORT<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout website heroku postgresql DB</span>\n<span class=\"token function\">export</span> SKILLSCOUT_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout website mongo mLab DB</span>\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_DB_NAME<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout campaign - emails DB (heroku postrgesql)</span>\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># nlpchamps - postgresql database (just saving member's emails for now)</span>\n<span class=\"token function\">export</span> NLP_CHAMPS_DB<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_PORT<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># export colors for mac</span>\n<span class=\"token function\">export</span> CLICOLOR<span class=\"token operator\">=</span>1\n<span class=\"token function\">export</span> LSCOLORS<span class=\"token operator\">=</span>GxFxCxDxBxegedabagaced\n\n<span class=\"token comment\"># android paths</span>\n<span class=\"token function\">export</span> ANDROID_HOME<span class=\"token operator\">=</span>/Users/<span class=\"token variable\">$USER</span>/Library/Android/sdk\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">${PATH}</span><span class=\"token keyword\">:</span><span class=\"token variable\">${ANDROID_HOME}</span>/emulator\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">${PATH}</span><span class=\"token keyword\">:</span><span class=\"token variable\">${ANDROID_HOME}</span>/tools\n\n<span class=\"token comment\"># default editor</span>\n<span class=\"token function\">export</span> EDITOR<span class=\"token operator\">=</span>/usr/bin/nano\n\n<span class=\"token comment\"># fucking homebrew</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span>/usr/local/bin:/usr/local/sbin:~/bin:<span class=\"token variable\">$PATH</span> <span class=\"token comment\"># for proper ipython linking</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/opt/python/libexec/bin:<span class=\"token variable\">$PATH</span>\"</span> <span class=\"token comment\"># for proper python exectuble</span>\n\n<span class=\"token function\">export</span> COSMIC_BUCKET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> COSMIC_READ_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> COSMIC_WRITE_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># stripe payments key (TODO: copy to dell server!)</span>\n<span class=\"token function\">export</span> STRIPE_SECRET_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> STRIPE_PUBLISHABLE_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># stripe payments test</span>\n<span class=\"token function\">export</span> STRIPE_SECRET_KEY_TEST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> STRIPE_PUBLISHABLE_KEY_TEST<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># raspberry pi password and user/host</span>\n<span class=\"token function\">export</span> RASPBERRY_PI_SSH_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> RASPBERRY_PI_USER_AND_HOST<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># npm packages</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$HOME</span>/.npm-packages/bin:<span class=\"token variable\">$PATH</span>\"</span>\n\n<span class=\"token comment\"># google cloud platform</span>\n<span class=\"token function\">source</span> <span class=\"token string\">'/Users/chris/opensource/google-cloud-sdk/completion.bash.inc'</span>\n<span class=\"token function\">source</span> <span class=\"token string\">'/Users/chris/opensource/google-cloud-sdk/path.bash.inc'</span>\n\n<span class=\"token comment\"># added by Anaconda2 5.0.1 installer</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"/Users/chris/anaconda2/bin:<span class=\"token variable\">$PATH</span>\"</span>\n\n<span class=\"token function\">export</span> NVM_DIR<span class=\"token operator\">=</span><span class=\"token string\">\"/Users/chris/.nvm\"</span>\n<span class=\"token punctuation\">[</span> -s <span class=\"token string\">\"<span class=\"token variable\">$NVM_DIR</span>/nvm.sh\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">.</span> <span class=\"token string\">\"<span class=\"token variable\">$NVM_DIR</span>/nvm.sh\"</span>  <span class=\"token comment\"># This loads nvm</span>\n\n<span class=\"token comment\"># TORCH</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">$PATH</span>:/Users/chris/torch/install/bin\n</code></pre>\n      </div>","position":{"start":{"line":21,"column":1,"offset":1076},"end":{"line":372,"column":4,"offset":14059},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For those sharp eagle-eyed readers out there (actually, I now realize they are the very first aliases in my profile, you wouldn‚Äôt have to be that ‚Äòsharp‚Äô! üòÇ), you may have noticed I even have an alias for opening the bash profile itself (","position":{"start":{"line":374,"column":1,"offset":14063},"end":{"line":374,"column":240,"offset":14302},"indent":[]}},{"type":"inlineCode","value":"prof","position":{"start":{"line":374,"column":240,"offset":14302},"end":{"line":374,"column":246,"offset":14308},"indent":[]}},{"type":"text","value":") and sourcing the profile (","position":{"start":{"line":374,"column":246,"offset":14308},"end":{"line":374,"column":274,"offset":14336},"indent":[]}},{"type":"inlineCode","value":"s","position":{"start":{"line":374,"column":274,"offset":14336},"end":{"line":374,"column":277,"offset":14339},"indent":[]}},{"type":"text","value":") - this adds any of the changes you made in your bash profile - any new commands and whatnot - into the current terminal):","position":{"start":{"line":374,"column":277,"offset":14339},"end":{"line":374,"column":400,"offset":14462},"indent":[]}}],"position":{"start":{"line":374,"column":1,"offset":14063},"end":{"line":374,"column":400,"offset":14462},"indent":[]}},{"type":"html","lang":"bash","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code><span class=\"token function\">alias</span> prof<span class=\"token operator\">=</span><span class=\"token string\">'atom /Users/chris/.bash_profile'</span> <span class=\"token comment\"># opens .bash_profile for editing</span>\n<span class=\"token function\">alias</span> s<span class=\"token operator\">=</span><span class=\"token string\">'source /Users/chris/.bash_profile'</span> <span class=\"token comment\"># sources .bash_profile (should be done every time after changing profile)</span>\n</code></pre>\n      </div>","position":{"start":{"line":376,"column":1,"offset":14466},"end":{"line":379,"column":4,"offset":14678},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So yes, you could say I modify and add stuff to my bash profile quite often - I recommend you do it too! Improve your workflow and ease of commanding a bash terminal!","position":{"start":{"line":381,"column":1,"offset":14682},"end":{"line":381,"column":167,"offset":14848},"indent":[]}}],"position":{"start":{"line":381,"column":1,"offset":14682},"end":{"line":381,"column":167,"offset":14848},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Cheers! üç∫","position":{"start":{"line":383,"column":1,"offset":14852},"end":{"line":383,"column":12,"offset":14863},"indent":[]}}],"position":{"start":{"line":383,"column":1,"offset":14852},"end":{"line":383,"column":12,"offset":14863},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Chris","position":{"start":{"line":385,"column":1,"offset":14867},"end":{"line":385,"column":6,"offset":14872},"indent":[]}}],"position":{"start":{"line":385,"column":1,"offset":14867},"end":{"line":385,"column":6,"offset":14872},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":386,"column":1,"offset":14874}}}},{"id":"transformer-remark-markdown-ast-05267f914662c1bed20442f92ca47610-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Using Google Cloud's Text To Speech Machine Learning API\ndate: \"2018-04-14\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":107},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Google Cloud","position":{"start":{"line":7,"column":3,"offset":113},"end":{"line":7,"column":15,"offset":125},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":111},"end":{"line":7,"column":15,"offset":125},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôm torn most of the time about using Google Cloud APIs - on one hand, they are a group of some of the best APIs on the web today - the variety of what you can do with their APIs, whether it be maps, text to speech, search data, and more - is huge. However, with such a huge library comes the fact that the documentation can be a bit of a maze to get through. I mean, for the text to speech (TTS) API we‚Äôll be talking about in this post, for the getting started guide (in ‚Äúfive minutes!!!‚Äù as it says on the site), they provide this old-school bash ","position":{"start":{"line":9,"column":1,"offset":129},"end":{"line":9,"column":550,"offset":678},"indent":[]}},{"type":"inlineCode","value":"curl","position":{"start":{"line":9,"column":550,"offset":678},"end":{"line":9,"column":556,"offset":684},"indent":[]}},{"type":"text","value":" command:","position":{"start":{"line":9,"column":556,"offset":684},"end":{"line":9,"column":565,"offset":693},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":129},"end":{"line":9,"column":565,"offset":693},"indent":[]}},{"type":"html","lang":"bash","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code>curl -H <span class=\"token string\">\"Authorization: Bearer \"</span><span class=\"token variable\"><span class=\"token variable\">$(</span>gcloud auth application-default print-access-token<span class=\"token variable\">)</span></span> -H <span class=\"token string\">\"Content-Type: application/json; charset=utf-8\"</span> --data <span class=\"token string\">\"{\n  'input':{\n    'text':'Android is a mobile operating system developed by Google, based on the Linux kernel and designed primarily for touchscreen mobile devices such as smartphones and tablets.'\n  },\n  'voice':{\n    'languageCode':'en-gb',\n    'name':'en-GB-Standard-A',\n    'ssmlGender':'FEMALE'\n  },\n  'audioConfig':{\n    'audioEncoding':'MP3'\n  }\n}\"</span> <span class=\"token string\">\"https://texttospeech.googleapis.com/v1beta1/text:synthesize\"</span> <span class=\"token operator\">></span> synthesize-output.txt\n</code></pre>\n      </div>","position":{"start":{"line":11,"column":1,"offset":697},"end":{"line":25,"column":4,"offset":1309},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I mean what the heck is that? The ","position":{"start":{"line":27,"column":1,"offset":1313},"end":{"line":27,"column":35,"offset":1347},"indent":[]}},{"type":"inlineCode","value":"$(gcloud auth application-default print-access-token)","position":{"start":{"line":27,"column":35,"offset":1347},"end":{"line":27,"column":90,"offset":1402},"indent":[]}},{"type":"text","value":" did ","position":{"start":{"line":27,"column":90,"offset":1402},"end":{"line":27,"column":95,"offset":1407},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":27,"column":96,"offset":1408},"end":{"line":27,"column":99,"offset":1411},"indent":[]}}],"position":{"start":{"line":27,"column":95,"offset":1407},"end":{"line":27,"column":100,"offset":1412},"indent":[]}},{"type":"text","value":" work for me. Even if it did, the following steps included extracting the base64 encoded string (which is only a part of the downloaded curl file) to another file, ","position":{"start":{"line":27,"column":100,"offset":1412},"end":{"line":27,"column":264,"offset":1576},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"and then","position":{"start":{"line":27,"column":265,"offset":1577},"end":{"line":27,"column":273,"offset":1585},"indent":[]}}],"position":{"start":{"line":27,"column":264,"offset":1576},"end":{"line":27,"column":274,"offset":1586},"indent":[]}},{"type":"text","value":" converting that base64 file to an mp3 file. No thank you, I‚Äôm going to do it all at runtime!","position":{"start":{"line":27,"column":274,"offset":1586},"end":{"line":27,"column":367,"offset":1679},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1313},"end":{"line":27,"column":367,"offset":1679},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Long story short, I‚Äôve found that this time and like many times before, using Google‚Äôs APIs is usually a lot of trial and error to get the endpoints working. ","position":{"start":{"line":29,"column":1,"offset":1683},"end":{"line":29,"column":159,"offset":1841},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":29,"column":159,"offset":1841},"end":{"line":29,"column":164,"offset":1846},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-3\">","position":{"start":{"line":29,"column":164,"offset":1846},"end":{"line":29,"column":186,"offset":1868},"indent":[]}},{"type":"text","value":"1","position":{"start":{"line":29,"column":186,"offset":1868},"end":{"line":29,"column":187,"offset":1869},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":29,"column":187,"offset":1869},"end":{"line":29,"column":191,"offset":1873},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":29,"column":191,"offset":1873},"end":{"line":29,"column":197,"offset":1879},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1683},"end":{"line":29,"column":197,"offset":1879},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It wasn‚Äôt until I got to Google‚Äôs interactive POST console for their TTS module which you can use to test endpoints that I got a basic request working. That‚Äôs how I determined the bare minimum API request required below.","position":{"start":{"line":31,"column":1,"offset":1883},"end":{"line":31,"column":221,"offset":2103},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1883},"end":{"line":31,"column":221,"offset":2103},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"You‚Äôre in Luck üòé","position":{"start":{"line":33,"column":3,"offset":2109},"end":{"line":33,"column":20,"offset":2126},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2107},"end":{"line":33,"column":20,"offset":2126},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There‚Äôs good news: luckily for you, I can spare you the migrain/hair pulling/rage that may ensue when trying to wrap your mind around Google‚Äôs often spotty documentation. I managed to get the TTS endpoint working, in Node.js nonetheless. In Node.js JavaScript, here is the code for converting some typed text to a tasty mp3 (granted you have a valid API key generated from googles cloud console for the )","position":{"start":{"line":35,"column":1,"offset":2130},"end":{"line":35,"column":405,"offset":2534},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2130},"end":{"line":35,"column":405,"offset":2534},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"emphasis","children":[{"type":"text","value":"Note that you need the following prerequisites for this to work!","position":{"start":{"line":37,"column":4,"offset":2541},"end":{"line":37,"column":68,"offset":2605},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":2540},"end":{"line":37,"column":69,"offset":2606},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2538},"end":{"line":37,"column":71,"offset":2608},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2538},"end":{"line":37,"column":71,"offset":2608},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"be in a node project ","position":{"start":{"line":38,"column":3,"offset":2612},"end":{"line":38,"column":24,"offset":2633},"indent":[]}},{"type":"inlineCode","value":"npm init -y","position":{"start":{"line":38,"column":24,"offset":2633},"end":{"line":38,"column":37,"offset":2646},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":2612},"end":{"line":38,"column":37,"offset":2646},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2610},"end":{"line":38,"column":37,"offset":2646},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"axios installed ","position":{"start":{"line":39,"column":3,"offset":2650},"end":{"line":39,"column":19,"offset":2666},"indent":[]}},{"type":"inlineCode","value":"npm install --save axios","position":{"start":{"line":39,"column":19,"offset":2666},"end":{"line":39,"column":45,"offset":2692},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":2650},"end":{"line":39,"column":45,"offset":2692},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2648},"end":{"line":39,"column":45,"offset":2692},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"your google TTS module API key exported (in your ","position":{"start":{"line":40,"column":3,"offset":2696},"end":{"line":40,"column":52,"offset":2745},"indent":[]}},{"type":"inlineCode","value":".bash_profile","position":{"start":{"line":40,"column":52,"offset":2745},"end":{"line":40,"column":67,"offset":2760},"indent":[]}},{"type":"text","value":" or similar) as ","position":{"start":{"line":40,"column":67,"offset":2760},"end":{"line":40,"column":83,"offset":2776},"indent":[]}},{"type":"inlineCode","value":"GOOGLE_CLOUD_TEXT_TO_SPEECH_API","position":{"start":{"line":40,"column":83,"offset":2776},"end":{"line":40,"column":116,"offset":2809},"indent":[]}},{"type":"text","value":", i.e. that would be this line of bash:","position":{"start":{"line":40,"column":116,"offset":2809},"end":{"line":40,"column":155,"offset":2848},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":2696},"end":{"line":40,"column":155,"offset":2848},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":2694},"end":{"line":40,"column":155,"offset":2848},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2610},"end":{"line":40,"column":155,"offset":2848},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"export GOOGLE_CLOUD_TEXT_TO_SPEECH_API=blahblahblahblah","position":{"start":{"line":42,"column":1,"offset":2852},"end":{"line":42,"column":58,"offset":2909},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2852},"end":{"line":42,"column":58,"offset":2909},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"the following in ","position":{"start":{"line":44,"column":3,"offset":2915},"end":{"line":44,"column":20,"offset":2932},"indent":[]}},{"type":"inlineCode","value":"index.js","position":{"start":{"line":44,"column":20,"offset":2932},"end":{"line":44,"column":30,"offset":2942},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":44,"column":30,"offset":2942},"end":{"line":44,"column":31,"offset":2943},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":2915},"end":{"line":44,"column":31,"offset":2943},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2913},"end":{"line":44,"column":31,"offset":2943},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2913},"end":{"line":44,"column":31,"offset":2943},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">let</span> oResponse<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sMainText <span class=\"token operator\">=</span> <span class=\"token string\">\"hello world\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"input\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> sMainText\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"voice\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"languageCode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"en-GB\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"ssmlGender\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"FEMALE\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"audioConfig\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"audioEncoding\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mp3\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://texttospeech.googleapis.com/v1beta1/text:synthesize?fields=audioContent&amp;key=\"</span> <span class=\"token operator\">+</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>GOOGLE_CLOUD_TEXT_TO_SPEECH_API<span class=\"token punctuation\">,</span> oData<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>oResponse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// write dat baoss (an encoded string) response into an mp3 file</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'outfile.mp3'</span><span class=\"token punctuation\">,</span> oResponse<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>audioContent<span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// write this base64 to an mp3</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MP3 file generated and saved! Should be saved at outfile.mp3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":46,"column":1,"offset":2947},"end":{"line":77,"column":4,"offset":3816},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Then it should run with a good ol‚Äô ","position":{"start":{"line":78,"column":1,"offset":3818},"end":{"line":78,"column":36,"offset":3853},"indent":[]}},{"type":"inlineCode","value":"node index.js","position":{"start":{"line":78,"column":36,"offset":3853},"end":{"line":78,"column":51,"offset":3868},"indent":[]}},{"type":"text","value":"! You‚Äôll find a tasty mp3 with ‚Äúhello world‚Äù being spoken - relatively better than Microsoft Sam i‚Äôd have to say! üòÇ","position":{"start":{"line":78,"column":51,"offset":3868},"end":{"line":78,"column":167,"offset":3984},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3818},"end":{"line":78,"column":167,"offset":3984},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So I hoped I saved you some time and frustration with at least this Google API.","position":{"start":{"line":80,"column":1,"offset":3988},"end":{"line":80,"column":80,"offset":4067},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":3988},"end":{"line":80,"column":80,"offset":4067},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Enjoy, and Cheers! üç∫","position":{"start":{"line":82,"column":1,"offset":4071},"end":{"line":82,"column":22,"offset":4092},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":4071},"end":{"line":82,"column":22,"offset":4092},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Chris","position":{"start":{"line":84,"column":1,"offset":4096},"end":{"line":84,"column":7,"offset":4102},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":4096},"end":{"line":84,"column":7,"offset":4102},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"This is part of a longer project that I‚Äôm trying to build to get a market volatility news flash published as one of Amazon Alexa‚Äôs skills. More on that to come. - A link here will also come soon.","position":{"start":{"line":86,"column":3,"offset":4108},"end":{"line":86,"column":198,"offset":4303},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":4106},"end":{"line":86,"column":200,"offset":4305},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":4106},"end":{"line":86,"column":200,"offset":4305},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Footnotes","position":{"start":{"line":88,"column":3,"offset":4311},"end":{"line":88,"column":12,"offset":4320},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":4309},"end":{"line":88,"column":12,"offset":4320},"indent":[]}},{"type":"html","value":"<div id=\"footnote-1\">\n1. Some other APIs I've found have example minimum required interface endpoints for every language they support - super clean and tasty. I'm wondering if a lack of such clean documentation is because Google is focusing more on development than maintenance and documentation of their APIs. Perhaps the challenge itself is the vastness of the Google API library, and it would take nothing short of a genius to organize a proper strategy of attack on updating and cleaning up all the documentation.\n</div>","position":{"start":{"line":90,"column":1,"offset":4324},"end":{"line":92,"column":7,"offset":4850},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":93,"column":1,"offset":4852}}}},{"id":"transformer-remark-markdown-ast-f4e4ab5a83ce0bb378766c09630cc3c5-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Welp, I Did It. I Quit.\ndate: \"2018-07-22\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":74},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Thoughts of yet another full-time worker going full-time freelance / tinkerer / creative / nomad.","position":{"start":{"line":7,"column":4,"offset":81},"end":{"line":7,"column":101,"offset":178},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":78},"end":{"line":7,"column":101,"offset":178},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":9,"column":1,"offset":182},"end":{"line":9,"column":3,"offset":184},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":9,"column":3,"offset":184},"end":{"line":9,"column":5,"offset":186},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":9,"column":5,"offset":186},"end":{"line":9,"column":7,"offset":188},"indent":[]}},{"type":"text","value":"Note: this post is mirrored on my Medium: ","position":{"start":{"line":9,"column":7,"offset":188},"end":{"line":9,"column":49,"offset":230},"indent":[]}},{"type":"link","title":null,"url":"https://medium.com/@frewin.christopher/welp-i-did-it-24505dff1bd1","children":[{"type":"text","value":"https://medium.com/@frewin.christopher/welp-i-did-it-24505dff1bd1","position":{"start":{"line":9,"column":49,"offset":230},"end":{"line":9,"column":114,"offset":295},"indent":[]}}],"position":{"start":{"line":9,"column":49,"offset":230},"end":{"line":9,"column":114,"offset":295},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":182},"end":{"line":9,"column":114,"offset":295},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I quit my full-time job.","position":{"start":{"line":11,"column":1,"offset":299},"end":{"line":11,"column":25,"offset":323},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":299},"end":{"line":11,"column":25,"offset":323},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Most of the time about things like this, all you here is the same old tune:","position":{"start":{"line":13,"column":1,"offset":327},"end":{"line":13,"column":76,"offset":402},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":327},"end":{"line":13,"column":76,"offset":402},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Don‚Äôt do this don‚Äôt do this don‚Äôt do this. ","position":{"start":{"line":15,"column":3,"offset":408},"end":{"line":15,"column":46,"offset":451},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":408},"end":{"line":15,"column":46,"offset":451},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":406},"end":{"line":15,"column":46,"offset":451},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But jeez, people are so risk-averse sometime. Just thinking about my own situation, right now, I‚Äôm 100x better off than I was just 3 years ago, when I was 23, $27K in debt from my bachelor degree, and earning less than ","position":{"start":{"line":17,"column":1,"offset":455},"end":{"line":17,"column":220,"offset":674},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"half","position":{"start":{"line":17,"column":221,"offset":675},"end":{"line":17,"column":225,"offset":679},"indent":[]}}],"position":{"start":{"line":17,"column":220,"offset":674},"end":{"line":17,"column":226,"offset":680},"indent":[]}},{"type":"text","value":" of what I do now! How come nobody back then said:","position":{"start":{"line":17,"column":226,"offset":680},"end":{"line":17,"column":276,"offset":730},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":455},"end":{"line":17,"column":276,"offset":730},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Don‚Äôt do this don‚Äôt do this don‚Äôt do this","position":{"start":{"line":19,"column":3,"offset":736},"end":{"line":19,"column":44,"offset":777},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":736},"end":{"line":19,"column":44,"offset":777},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":734},"end":{"line":19,"column":44,"offset":777},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Because being a homely, unkempt, poor graduate student is ","position":{"start":{"line":21,"column":1,"offset":781},"end":{"line":21,"column":59,"offset":839},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"expected","position":{"start":{"line":21,"column":60,"offset":840},"end":{"line":21,"column":68,"offset":848},"indent":[]}}],"position":{"start":{"line":21,"column":59,"offset":839},"end":{"line":21,"column":69,"offset":849},"indent":[]}},{"type":"text","value":" by society, (although graduate school is even looked upon with reverence in some cases - ‚ÄúWow, ","position":{"start":{"line":21,"column":69,"offset":849},"end":{"line":21,"column":165,"offset":945},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Cornell","position":{"start":{"line":21,"column":166,"offset":946},"end":{"line":21,"column":173,"offset":953},"indent":[]}}],"position":{"start":{"line":21,"column":165,"offset":945},"end":{"line":21,"column":174,"offset":954},"indent":[]}},{"type":"text","value":"? Great school, great school.‚Äù). But what the hell are people thinking? In terms of net worth back then, I was totally screwed!","position":{"start":{"line":21,"column":174,"offset":954},"end":{"line":21,"column":301,"offset":1081},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":781},"end":{"line":21,"column":301,"offset":1081},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you are in your mid-20s reading this, you‚Äôre probably in the same situation of a strongly improved financial situation. So, why would I risk going total freelance when I have a house and kids, when ","position":{"start":{"line":23,"column":1,"offset":1085},"end":{"line":23,"column":202,"offset":1286},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"real","position":{"start":{"line":23,"column":203,"offset":1287},"end":{"line":23,"column":207,"offset":1291},"indent":[]}}],"position":{"start":{"line":23,"column":202,"offset":1286},"end":{"line":23,"column":208,"offset":1292},"indent":[]}},{"type":"text","value":" bills need to be paid. You‚Äôre right - I wouldn‚Äôt. ","position":{"start":{"line":23,"column":208,"offset":1292},"end":{"line":23,"column":259,"offset":1343},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1085},"end":{"line":23,"column":259,"offset":1343},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The way I see it, now is not only the ","position":{"start":{"line":25,"column":1,"offset":1347},"end":{"line":25,"column":39,"offset":1385},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"only","position":{"start":{"line":25,"column":40,"offset":1386},"end":{"line":25,"column":44,"offset":1390},"indent":[]}}],"position":{"start":{"line":25,"column":39,"offset":1385},"end":{"line":25,"column":45,"offset":1391},"indent":[]}},{"type":"text","value":" time to try this, it‚Äôs the ","position":{"start":{"line":25,"column":45,"offset":1391},"end":{"line":25,"column":73,"offset":1419},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"perfect","position":{"start":{"line":25,"column":74,"offset":1420},"end":{"line":25,"column":81,"offset":1427},"indent":[]}}],"position":{"start":{"line":25,"column":73,"offset":1419},"end":{"line":25,"column":82,"offset":1428},"indent":[]}},{"type":"text","value":" time: experience and network connections from my first few years at a big industry job, with a bunch of savings as an all-else fails cushion in the bank.","position":{"start":{"line":25,"column":82,"offset":1428},"end":{"line":25,"column":236,"offset":1582},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1347},"end":{"line":25,"column":236,"offset":1582},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Even a lot of well-known ‚Äòcreatives‚Äô these days also say not to do this until you have a self-sustaining (or better yet - profitable) side project, but I just couldn‚Äôt help but writing that notion off - most of them quit their jobs themselves when they were getting started! Yes - they talk about the strife and challenge it was from doing that, which is why they don‚Äôt recommend it to anyone else - but isn‚Äôt that exactly the ingredient required in the recipe of nearly all people who were once nobody and emerged with amazing projects and products? ","position":{"start":{"line":27,"column":1,"offset":1586},"end":{"line":27,"column":552,"offset":2137},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1586},"end":{"line":27,"column":552,"offset":2137},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to create truly nice projects of high quality, that aren‚Äôt just patched together, even if you are hacking away those 4-5 hours a night, ","position":{"start":{"line":29,"column":1,"offset":2141},"end":{"line":29,"column":149,"offset":2289},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"after","position":{"start":{"line":29,"column":150,"offset":2290},"end":{"line":29,"column":155,"offset":2295},"indent":[]}}],"position":{"start":{"line":29,"column":149,"offset":2289},"end":{"line":29,"column":156,"offset":2296},"indent":[]}},{"type":"text","value":" your full-time job, you just can‚Äôt. Well - at least I can‚Äôt. In my case, you need those multiple 12 hour, interrupted days, diving deep and building complex projects. This just isn‚Äôt sustainable with a full-time job - and indeed, perhaps this is exactly the ‚Äòstrife‚Äô and ‚Äòchallenge‚Äô that these creatives refer to in all of their ‚Äòearly days‚Äô. It‚Äôs true - while we all complain about our 9-5 jobs (in my case, 7-5), you can‚Äôt help but admitting there is a lot of comfortability and security in them - weekdays only, and (for most of us) 5PM is 5PM, when the clock hits 5, there‚Äôs no more work for the day. It will be interesting to see how that goes in my freelance life.","position":{"start":{"line":29,"column":156,"offset":2296},"end":{"line":29,"column":827,"offset":2967},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2141},"end":{"line":29,"column":827,"offset":2967},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But hey, it‚Äôs 2018, and ‚Äúquitting your day job‚Äù, especially as a software engineer, doesn‚Äôt really mean you‚Äôre immediately ‚Äòunemployed‚Äô - right? There were a large number of supporting variables and events over the past few months that have led me to my decision:","position":{"start":{"line":31,"column":1,"offset":2971},"end":{"line":31,"column":264,"offset":3234},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2971},"end":{"line":31,"column":264,"offset":3234},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"talking to ","position":{"start":{"line":33,"column":3,"offset":3240},"end":{"line":33,"column":14,"offset":3251},"indent":[]}},{"type":"link","title":null,"url":"torch.io","children":[{"type":"text","value":"torch.io","position":{"start":{"line":33,"column":15,"offset":3252},"end":{"line":33,"column":23,"offset":3260},"indent":[]}}],"position":{"start":{"line":33,"column":14,"offset":3251},"end":{"line":33,"column":34,"offset":3271},"indent":[]}},{"type":"text","value":" over a possible part time frontend consulting work","position":{"start":{"line":33,"column":34,"offset":3271},"end":{"line":33,"column":85,"offset":3322},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":3240},"end":{"line":33,"column":85,"offset":3322},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":3238},"end":{"line":33,"column":85,"offset":3322},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"being added to the ","position":{"start":{"line":34,"column":3,"offset":3326},"end":{"line":34,"column":22,"offset":3345},"indent":[]}},{"type":"link","title":null,"url":"moonlightwork.com","children":[{"type":"text","value":"Moonlight Community","position":{"start":{"line":34,"column":23,"offset":3346},"end":{"line":34,"column":42,"offset":3365},"indent":[]}}],"position":{"start":{"line":34,"column":22,"offset":3345},"end":{"line":34,"column":62,"offset":3385},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":3326},"end":{"line":34,"column":62,"offset":3385},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":3324},"end":{"line":34,"column":62,"offset":3385},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"talking to a colleague about a fixed part-time position at his software company","position":{"start":{"line":35,"column":3,"offset":3389},"end":{"line":35,"column":82,"offset":3468},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":3389},"end":{"line":35,"column":82,"offset":3468},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":3387},"end":{"line":35,"column":82,"offset":3468},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"working with a friend to build a keyboard that charges as you type (I know it sounds like magic but the science and numbers show it can work) ","position":{"start":{"line":36,"column":3,"offset":3472},"end":{"line":36,"column":145,"offset":3614},"indent":[]}},{"type":"link","title":null,"url":"https://charge-keyboard.com","children":[{"type":"text","value":"charge-keyboard.com","position":{"start":{"line":36,"column":146,"offset":3615},"end":{"line":36,"column":165,"offset":3634},"indent":[]}}],"position":{"start":{"line":36,"column":145,"offset":3614},"end":{"line":36,"column":195,"offset":3664},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":3472},"end":{"line":36,"column":195,"offset":3664},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":3470},"end":{"line":36,"column":195,"offset":3664},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"building out and advertising my startup Siren Apparel, and expanding to the EU ","position":{"start":{"line":37,"column":3,"offset":3668},"end":{"line":37,"column":82,"offset":3747},"indent":[]}},{"type":"link","title":null,"url":"https://sirenapparel.us","children":[{"type":"text","value":"https://sirenapparel.us","position":{"start":{"line":37,"column":83,"offset":3748},"end":{"line":37,"column":106,"offset":3771},"indent":[]}}],"position":{"start":{"line":37,"column":82,"offset":3747},"end":{"line":37,"column":132,"offset":3797},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":37,"column":132,"offset":3797},"end":{"line":37,"column":134,"offset":3799},"indent":[]}},{"type":"link","title":null,"url":"https://sirenapparel.eu","children":[{"type":"text","value":"https://sirenapparel.eu","position":{"start":{"line":37,"column":135,"offset":3800},"end":{"line":37,"column":158,"offset":3823},"indent":[]}}],"position":{"start":{"line":37,"column":134,"offset":3799},"end":{"line":37,"column":184,"offset":3849},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":3668},"end":{"line":37,"column":184,"offset":3849},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":3666},"end":{"line":37,"column":184,"offset":3849},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(only knowing after I quit) consulting opportunities at my current company","position":{"start":{"line":38,"column":3,"offset":3853},"end":{"line":38,"column":77,"offset":3927},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":3853},"end":{"line":38,"column":77,"offset":3927},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3851},"end":{"line":38,"column":77,"offset":3927},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":3238},"end":{"line":38,"column":77,"offset":3927},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So yes, any one or a combination of these will pay the bills.","position":{"start":{"line":40,"column":1,"offset":3931},"end":{"line":40,"column":62,"offset":3992},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3931},"end":{"line":40,"column":62,"offset":3992},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I realize, ","position":{"start":{"line":42,"column":1,"offset":3996},"end":{"line":42,"column":12,"offset":4007},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"none","position":{"start":{"line":42,"column":13,"offset":4008},"end":{"line":42,"column":17,"offset":4012},"indent":[]}}],"position":{"start":{"line":42,"column":12,"offset":4007},"end":{"line":42,"column":18,"offset":4013},"indent":[]}},{"type":"text","value":" of these (or probably even a combination) will pay as high as my comfy logistic / warehousing full-time job. But I also realized over the past few months, ","position":{"start":{"line":42,"column":18,"offset":4013},"end":{"line":42,"column":174,"offset":4169},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"I don‚Äôt give a damn about money!","position":{"start":{"line":42,"column":175,"offset":4170},"end":{"line":42,"column":207,"offset":4202},"indent":[]}}],"position":{"start":{"line":42,"column":174,"offset":4169},"end":{"line":42,"column":208,"offset":4203},"indent":[]}},{"type":"text","value":" Sure, I could go the Mr. Money Mustache route and just keep truckin‚Äô away at my current job with a high savings rate, and become financially independent in 7-8 years. But to me, that‚Äôs 7-8 years of sunk cost, working at albeit a decent, but ultimately where-I-don‚Äôt-want-to-be job. If I spent those 7-8 years building out projects that first ","position":{"start":{"line":42,"column":208,"offset":4203},"end":{"line":42,"column":551,"offset":4546},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":3996},"end":{"line":42,"column":551,"offset":4546},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Allow me enough income to survive, and ","position":{"start":{"line":44,"column":4,"offset":4553},"end":{"line":44,"column":43,"offset":4592},"indent":[]}}],"position":{"start":{"line":44,"column":4,"offset":4553},"end":{"line":44,"column":43,"offset":4592},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":4550},"end":{"line":45,"column":1,"offset":4594},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Are valuable projects that I value and believe make a difference in the world","position":{"start":{"line":46,"column":4,"offset":4599},"end":{"line":46,"column":81,"offset":4676},"indent":[]}}],"position":{"start":{"line":46,"column":4,"offset":4599},"end":{"line":46,"column":81,"offset":4676},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":4596},"end":{"line":46,"column":81,"offset":4676},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":4550},"end":{"line":46,"column":81,"offset":4676},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Then I have many many years after that to continue building, instead of after those 7-8 years, starting ‚Äòfresh‚Äô only with the single added confidence that I am financially independent. ","position":{"start":{"line":48,"column":1,"offset":4680},"end":{"line":48,"column":186,"offset":4865},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":4680},"end":{"line":48,"column":186,"offset":4865},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Worst case, I fail and a year from now I run back to the security of a full-time job. (Hopefully not the case!)","position":{"start":{"line":50,"column":1,"offset":4869},"end":{"line":50,"column":112,"offset":4980},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":4869},"end":{"line":50,"column":112,"offset":4980},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It‚Äôs a similar story with options trading, ","position":{"start":{"line":52,"column":1,"offset":4984},"end":{"line":52,"column":44,"offset":5027},"indent":[]}},{"type":"link","title":null,"url":"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-b32bf47db656","children":[{"type":"text","value":"another toy project of mine","position":{"start":{"line":52,"column":45,"offset":5028},"end":{"line":52,"column":72,"offset":5055},"indent":[]}}],"position":{"start":{"line":52,"column":44,"offset":5027},"end":{"line":52,"column":168,"offset":5151},"indent":[]}},{"type":"text","value":". A lot of people say you can learn a lot from paper trading, but people with real trading experience say you can never really learn unless real money is on the line. If I springboard into the abyss that is freelance / maker / creative / digital nomad, I‚Äôm ","position":{"start":{"line":52,"column":168,"offset":5151},"end":{"line":52,"column":425,"offset":5408},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"forced","position":{"start":{"line":52,"column":426,"offset":5409},"end":{"line":52,"column":432,"offset":5415},"indent":[]}}],"position":{"start":{"line":52,"column":425,"offset":5408},"end":{"line":52,"column":433,"offset":5416},"indent":[]}},{"type":"text","value":" to do my best work, and a lot of it, because it‚Äôs the only chance I have to pay my bills. Quotes that ring to this tune can be seen all over by (now) extremely successful people:","position":{"start":{"line":52,"column":433,"offset":5416},"end":{"line":52,"column":612,"offset":5595},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":4984},"end":{"line":52,"column":612,"offset":5595},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"I was in the zone, trying to make a living","position":{"start":{"line":54,"column":3,"offset":5601},"end":{"line":54,"column":45,"offset":5643},"indent":[]}},{"type":"html","value":"<br/>","position":{"start":{"line":54,"column":45,"offset":5643},"end":{"line":54,"column":50,"offset":5648},"indent":[]}},{"type":"text","value":"\nHeading to work in the morning","position":{"start":{"line":54,"column":50,"offset":5648},"end":{"line":55,"column":31,"offset":5680},"indent":[1]}},{"type":"html","value":"<br/>","position":{"start":{"line":55,"column":31,"offset":5680},"end":{"line":55,"column":36,"offset":5685},"indent":[]}},{"type":"text","value":"\nNobody felt like I was mourning, as my dream was deceased","position":{"start":{"line":55,"column":36,"offset":5685},"end":{"line":56,"column":58,"offset":5744},"indent":[1]}},{"type":"html","value":"<br/>","position":{"start":{"line":56,"column":58,"offset":5744},"end":{"line":56,"column":63,"offset":5749},"indent":[]}},{"type":"text","value":"\nUntil I quit my job, then my work ethic increased","position":{"start":{"line":56,"column":63,"offset":5749},"end":{"line":57,"column":50,"offset":5800},"indent":[1]}},{"type":"html","value":"<br/>","position":{"start":{"line":57,"column":50,"offset":5800},"end":{"line":57,"column":55,"offset":5805},"indent":[]}},{"type":"text","value":"\nElevated to levels I ain‚Äôt ever seen","position":{"start":{"line":57,"column":55,"offset":5805},"end":{"line":58,"column":37,"offset":5843},"indent":[1]}}],"position":{"start":{"line":54,"column":3,"offset":5601},"end":{"line":58,"column":37,"offset":5843},"indent":[1,1,1,1]}}],"position":{"start":{"line":54,"column":1,"offset":5599},"end":{"line":58,"column":37,"offset":5843},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"-Logic","position":{"start":{"line":60,"column":1,"offset":5847},"end":{"line":60,"column":7,"offset":5853},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":5847},"end":{"line":60,"column":7,"offset":5853},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Everything that you want is on the other side of fear","position":{"start":{"line":62,"column":3,"offset":5859},"end":{"line":62,"column":56,"offset":5912},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":5859},"end":{"line":62,"column":56,"offset":5912},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":5857},"end":{"line":62,"column":56,"offset":5912},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-George Addair","position":{"start":{"line":64,"column":1,"offset":5916},"end":{"line":64,"column":15,"offset":5930},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":5916},"end":{"line":64,"column":15,"offset":5930},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"People will choose unhappiness over uncertainty","position":{"start":{"line":66,"column":3,"offset":5936},"end":{"line":66,"column":50,"offset":5983},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":5936},"end":{"line":66,"column":50,"offset":5983},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":5934},"end":{"line":66,"column":50,"offset":5983},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Tim Ferriss","position":{"start":{"line":68,"column":1,"offset":5987},"end":{"line":68,"column":13,"offset":5999},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":5987},"end":{"line":68,"column":13,"offset":5999},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The bottom line is that in this information age, there are so many lines to connect, so many beautiful projects that can be made, so many companies and services that will flourish that we couldn‚Äôt even think of existing yet, even if we tried - but each of those requires time and hard critical thinking and problem solving. ","position":{"start":{"line":70,"column":1,"offset":6003},"end":{"line":70,"column":325,"offset":6327},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":6003},"end":{"line":70,"column":325,"offset":6327},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Have I accomplished something when a pallet comes out of the warehouse 5 seconds faster? In my book, not really. ","position":{"start":{"line":72,"column":1,"offset":6331},"end":{"line":72,"column":114,"offset":6444},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":6331},"end":{"line":72,"column":114,"offset":6444},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What if I build, with old friends from university, a revolutionary, first-of-its-kind, self-charging wireless keyboard that lasts a lifetime, and then some? I think yes. ","position":{"start":{"line":74,"column":1,"offset":6448},"end":{"line":74,"column":171,"offset":6618},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":6448},"end":{"line":74,"column":171,"offset":6618},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What about creating amazing designs for the 28 fire departments of each of the EU‚Äôs capital cities, monetizing it, and giving all the profits back to those departments? Yes.","position":{"start":{"line":76,"column":1,"offset":6622},"end":{"line":76,"column":174,"offset":6795},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":6622},"end":{"line":76,"column":174,"offset":6795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What about an art display: computer-assisted, colorized vector generated images of all 486 mountain lodges in the Austrian Alpine Club? Yep.","position":{"start":{"line":78,"column":1,"offset":6799},"end":{"line":78,"column":141,"offset":6939},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":6799},"end":{"line":78,"column":141,"offset":6939},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And so I‚Äôm doing it - Its time for me to spread my wings and fly. I‚Äôll check back in a year on this post - a post-mortem if you will. ","position":{"start":{"line":80,"column":1,"offset":6943},"end":{"line":80,"column":135,"offset":7077},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":6943},"end":{"line":80,"column":135,"offset":7077},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Hopefully it won‚Äôt be me that the post-mortem is written about.","position":{"start":{"line":82,"column":1,"offset":7081},"end":{"line":82,"column":64,"offset":7144},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":7081},"end":{"line":82,"column":64,"offset":7144},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Cheers! üç∫","position":{"start":{"line":84,"column":1,"offset":7148},"end":{"line":84,"column":12,"offset":7159},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":7148},"end":{"line":84,"column":12,"offset":7159},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Chris","position":{"start":{"line":86,"column":1,"offset":7163},"end":{"line":86,"column":6,"offset":7168},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":7163},"end":{"line":86,"column":6,"offset":7168},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":90,"column":1,"offset":7176}}}},{"id":"transformer-remark-markdown-ast-823b5089fed7ebae9060365686f0d999-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Fully Automating Chrisfrew.in Productions - Part 1 of ??? - Roadmap and Links to Entire Process\ndate: \"2018-05-10\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":146},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Links to All Parts of the Process","position":{"start":{"line":7,"column":3,"offset":152},"end":{"line":7,"column":36,"offset":185},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":150},"end":{"line":7,"column":36,"offset":185},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before I get into the description, you may be here just to get the links. Well, scroll no further:","position":{"start":{"line":9,"column":1,"offset":189},"end":{"line":9,"column":99,"offset":287},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":189},"end":{"line":9,"column":99,"offset":287},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":true,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Part 1 of ???: This post. üòÇ","position":{"start":{"line":11,"column":3,"offset":293},"end":{"line":11,"column":31,"offset":321},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":293},"end":{"line":11,"column":31,"offset":321},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":291},"end":{"line":11,"column":31,"offset":321},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-2-of-building-a-node-js-server-monitor/","children":[{"type":"text","value":"Part 2 of ???: Building a Node.js Server Monitor","position":{"start":{"line":12,"column":4,"offset":326},"end":{"line":12,"column":52,"offset":374},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":325},"end":{"line":12,"column":162,"offset":484},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":325},"end":{"line":12,"column":162,"offset":484},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":323},"end":{"line":12,"column":162,"offset":484},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/","children":[{"type":"text","value":"Part 3 of ???: Building a central webhook subdomain on (webhooks.chrisfrew.in)[https://webhooks.chrisfrew.in] to catch external events (GitHub, Bitbucket, push notifications)","position":{"start":{"line":13,"column":4,"offset":489},"end":{"line":13,"column":178,"offset":663},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":488},"end":{"line":13,"column":277,"offset":762},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":488},"end":{"line":13,"column":277,"offset":762},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":486},"end":{"line":13,"column":277,"offset":762},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-4-of-building-a-slack-bot/","children":[{"type":"text","value":"Part 4 of ???: Building a Slack Bot to create a human friendly interface for all those notifications from part 3","position":{"start":{"line":14,"column":4,"offset":767},"end":{"line":14,"column":116,"offset":879},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":766},"end":{"line":14,"column":213,"offset":976},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":766},"end":{"line":14,"column":213,"offset":976},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":764},"end":{"line":14,"column":213,"offset":976},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Part 5 of ???: Building a Site Differential Sensing Twitter Bot (in the works, not yet published)","position":{"start":{"line":15,"column":3,"offset":980},"end":{"line":15,"column":100,"offset":1077},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":980},"end":{"line":15,"column":100,"offset":1077},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":978},"end":{"line":15,"column":100,"offset":1077},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Part 6 of ???: Building a Central Logging System","position":{"start":{"line":16,"column":3,"offset":1081},"end":{"line":16,"column":51,"offset":1129},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":1081},"end":{"line":16,"column":51,"offset":1129},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1079},"end":{"line":16,"column":51,"offset":1129},"indent":[]}},{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Part 6 of ???: Building a JARVIS like Raspberry Pi (Home Automation, News, Chrisfrew.in Productions Report) (also tidbits working, not yet published)","position":{"start":{"line":17,"column":3,"offset":1133},"end":{"line":17,"column":152,"offset":1282},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":1133},"end":{"line":17,"column":152,"offset":1282},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1131},"end":{"line":18,"column":1,"offset":1284},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"??? (more coming soon)","position":{"start":{"line":19,"column":3,"offset":1288},"end":{"line":19,"column":25,"offset":1310},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":1288},"end":{"line":19,"column":25,"offset":1310},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1286},"end":{"line":19,"column":25,"offset":1310},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":291},"end":{"line":19,"column":25,"offset":1310},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Automation To The Moon üöÄ","position":{"start":{"line":21,"column":3,"offset":1316},"end":{"line":21,"column":28,"offset":1341},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1314},"end":{"line":21,"column":28,"offset":1341},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As an attempt to make my ","position":{"start":{"line":23,"column":1,"offset":1345},"end":{"line":23,"column":26,"offset":1370},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/introducing-chrisfrewin-productions/","children":[{"type":"text","value":"doing business as (DBA) company","position":{"start":{"line":23,"column":27,"offset":1371},"end":{"line":23,"column":58,"offset":1402},"indent":[]}}],"position":{"start":{"line":23,"column":26,"offset":1370},"end":{"line":23,"column":118,"offset":1462},"indent":[]}},{"type":"text","value":" more automated, and to make myself a better developer, I‚Äôve decided to take steps to automate as many technical processes as possible, as well as build out a few automated things that could support the business, such as a twitter bot and analytics that will be on public display.","position":{"start":{"line":23,"column":118,"offset":1462},"end":{"line":23,"column":398,"offset":1742},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1345},"end":{"line":23,"column":398,"offset":1742},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Current Full Stack Map (Will Change As I update it!)","position":{"start":{"line":25,"column":3,"offset":1748},"end":{"line":25,"column":55,"offset":1800},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1746},"end":{"line":25,"column":55,"offset":1800},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The current stack of my suite of applications and sites looks as follows (sorry, you‚Äôre going to have to zoom in, but it‚Äôs an SVG, so no loss!):","position":{"start":{"line":27,"column":1,"offset":1804},"end":{"line":27,"column":145,"offset":1948},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1804},"end":{"line":27,"column":145,"offset":1948},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/full-stack-map-5a365c21d9b131791e833a84d003e595.svg","alt":"The Chrisfrew.in Productions Full Stack Map","position":{"start":{"line":29,"column":1,"offset":1952},"end":{"line":29,"column":67,"offset":2018},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1952},"end":{"line":29,"column":67,"offset":2018},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that not all of these boxes are fully productive and live yet, and there are many more projects that haven‚Äôt even made the map yet!","position":{"start":{"line":31,"column":1,"offset":2022},"end":{"line":31,"column":137,"offset":2158},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2022},"end":{"line":31,"column":137,"offset":2158},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Improvements and Roadmap","position":{"start":{"line":33,"column":3,"offset":2164},"end":{"line":33,"column":27,"offset":2188},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2162},"end":{"line":33,"column":27,"offset":2188},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Near future (before end of June) A global log class that creates logs of activity and errors across all sites. Such a class could be used in my Twitter bot as well, at least shared across Chrisfrew.in Productions","position":{"start":{"line":35,"column":3,"offset":2194},"end":{"line":35,"column":215,"offset":2406},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":2194},"end":{"line":35,"column":215,"offset":2406},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2192},"end":{"line":35,"column":215,"offset":2406},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Mid to late summer: most paper based business processesed fully automated","position":{"start":{"line":36,"column":3,"offset":2410},"end":{"line":36,"column":76,"offset":2483},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":2410},"end":{"line":36,"column":76,"offset":2483},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":2408},"end":{"line":36,"column":76,"offset":2483},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Before New Year 2018: Chrisfrew.in Productions is able to attempt multiple solutions in fixing broken processes, which it also has found by itself. When it exhausts all methods it ‚Äúknows‚Äù to repair itself, THEN it would finally send me an email","position":{"start":{"line":37,"column":3,"offset":2487},"end":{"line":37,"column":247,"offset":2731},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":2487},"end":{"line":37,"column":247,"offset":2731},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2485},"end":{"line":37,"column":247,"offset":2731},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2192},"end":{"line":37,"column":247,"offset":2731},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Yes, if this sounds like science fiction, I was inspired by that totally cool space ship from Passengers that can repair itself:","position":{"start":{"line":39,"column":1,"offset":2735},"end":{"line":39,"column":129,"offset":2863},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":2735},"end":{"line":39,"column":129,"offset":2863},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/passengers-ship-bb6a638030184734ce20de51526ff918.gif","alt":"Yeah, that cool ship.","position":{"start":{"line":41,"column":1,"offset":2867},"end":{"line":41,"column":46,"offset":2912},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2867},"end":{"line":41,"column":46,"offset":2912},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":42,"column":1,"offset":2914}}}},{"id":"transformer-remark-markdown-html-e670bdd127232c63e6d23575186e8b1d-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Add some spice to your SAPUI5 apps!</h1>\n<h2>(Or even normal webapps, for that matter)</h2>\n<p>I was a noob. I wrote in my SAPUI5 some warehouse task code that would have a real time. How did I do it?</p>\n<p>I wrote a <code>window.setInterval()</code> function that would ping table <code>/SCWM/WT</code> üòä and check for any new lines - with an OData <code>GET_ENTITY_SET</code> server request. üòä üòä</p>\n<p>Yeah.</p>\n<p>Well, I was lucky to learn about websockets from one of our EWM. Then I was even luckier to learn a bit more about the technical aspects (when to subscribe, unsubscribe, destroy, and create websockets instances from actions on the front end).</p>\n<p>So here‚Äôs how to add websockets to your SAPUI5 app<sup><a href=\"#footnote-1\">1</a></sup>.</p>\n<h2>Transactions</h2>\n<p>All backend push and messaging channels can be managed with just two transactions:  <code>SAMC</code>, for message channels and <code>SAPC</code>, for push channels. Easy enough.</p>\n<h2>Creating a Message Channel</h2>\n<p>As we will see, to create a proper push channel, we will first need a message channel, so that is where we start off. An ABAP message channel is a way of subscribing current programs to any - the best thing about push channels is that if the push channel <em>isn‚Äôt</em> listening, there is no error and nothing else negative happens anywhere else in the system - that is, granted you <code>TRY</code> and <code>CATCH</code> your push channel messaging properly.</p>\n<p>So let‚Äôs get started in transaction <code>SAMC</code>:</p>\n<p></p>\n<p>We define the message channel name, and, most importantly, define what programs can use this message channel and what type of message this channel will handle (there are only 2 - numeric and string)</p>\n<p>Now, as I mention before, we use these channels to hook into any ABAP program, so that any time they are executed by anyone (or anything) in the system, the channel will be messages. A safe way to hook into an existing program (using our newly created <code>Z_AWESOME_CHANNEL</code>) looks as follows:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> my_super_cool_existing_report\n</code></pre>\n      </div>\n<h2>Creating a Push Channel</h2>\n<p>Ok, now we head to transaction <code>SAPC</code> - we are no going to define a websocket that will be hooked up to our push channel. That way, when something happens in our program, it will message to all subscribed channels, which will be forwarded , and then ultimately, to the most important part, the frontend for our user to see!</p>\n<h2>Frontend</h2>\n<p>On the frontend I create a general websocket function that creates a websocket instance. In order to have the correct service for each view, upon each view change I call this function, which always creates a new instance if there exists a websocket instance already. This way we are sure that on any view change, we have a fresh running instance of the websocket doing the correct task for this view.</p>\n<p>That function looks like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code></code></pre>\n      </div>\n<p>Note that you of course have to us <code>ws://</code> as the protocol in the link name!</p>\n<p>On the backend, that ends up looking like a <code>CASE</code> statement:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CASE</span>\n</code></pre>\n      </div>\n<h2>Code</h2>\n<p>Yep, you‚Äôre going to have to write some ABAP code too. Luckily for us, when we create a push channel in transaction SAPC, SAP generates a class skeleton with 4 methods:</p>\n<p><code></code>\n<code></code>\n<code></code></p>\n<hr/>\n<h1>Footnotes</h1>\n<div id=\"footnote-1\">\n1. Note that unfortunately the SAP Web IDE does not yet support websockets, that is, without network wizardry. I haven't managed to get it to work. I've left  long ago a message with the person who was the lead on Cloud Connector asking if websocket (`ws` protocol) would eventually something to be supported, but haven't heard anything.\n</div>"},{"id":"transformer-remark-markdown-html-1b59827698279a172b2e995377043951-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>Warning everyone - this is a bit of rant post - but I hope some of you will agree and we can turn the tables of a stubborn community a bit.</p>\n<h1>The Full Stack Myth?</h1>\n<p>Much to my surprise, throughout my various software engineering media consumption adventures - I‚Äôve discovered there is a general consensus that the idea of ‚Äòfull stack‚Äô is FAKE NEWS. Lots of people on podcasts say it I say screw that. That is a lot like saying, ‚Äúoh hey, did you know it‚Äôs impossible to write great apps or games if you‚Äôre a solo developer?‚Äù or, ‚ÄúWhat?!?! A nice dynamic UI, <em>with</em> a relational database backend <em>and</em> a websocket to send messages between the two!?!? You‚Äôre a madman!!!‚Äú.</p>\n<p>Wait a second - isn‚Äôt that what this whole Web 3.0 stuff is supposed to do? Empower developers to make great apps all by themselves? I mean jeez, I know us, we‚Äôve spent hours on hours learning python, backend databases, container deploys, dabbled in numerous backend frameworks, not even getting started with your favorite modern front end framework of choice (yeah, there‚Äôs a lot of those too!) like Vue, React, Ember or more.</p>\n<p>Of course full stack developers know they are more a less a jack of all trades, master of none. I know there are people who could kick my ass at both Postgresql database maintenance, and there are just as many frontend people who could totally kick my ass with a badass UI in React.</p>\n<p>For me, full stack has always been about the adventure of software itself - its the nature of the discipline in fact - there are new tools being rolled out literally every day. I mean, really, if you‚Äôve written backend code for databases but have also built websites (I know there are many of us out there!)- how are you supposed to write that succinctly on a resume or CV? ‚ÄúHi, I‚Äôm Chris, part-time-database-program-writer-and-part-time-front-end-engineer‚Äù? I do concede that the moniker ‚Äòfull stack‚Äô is not really a good enough description by itself. In my case, I could say ‚Äòfull stack <em>web developer</em>‚Äô. With more practice, maybe someday a full stack <em>android developer</em> - but I need to run through a lot more projects before that happens :)</p>\n<h1>:wine: A Toast to Full Stack Developers :wine:</h1>\n<p>Just because we‚Äôre not the greatest, most amazing expert in a certain language, just because we don‚Äôt know certain frameworks, just because we haven‚Äôt focused in one software engineering discipline our entire careers‚Ä¶</p>\n<p><em>Shouldn‚Äôt we still be able to call ourselves full stack developers?</em></p>\n<p><strong>Of course.</strong></p>"},{"id":"transformer-remark-markdown-html-5b982895d5d9d3a3ef6b6886af65fb2b-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Node.js Server Monitor</h1>\n<p>In <a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-1-of-roadmap-and-links-to-process/\">my attempt to automate my suite of websites</a>, I wanted to build a simple Node.js server that monitors all my live sites, and sends me an email. Basically the process is simply:</p>\n<ol>\n<li>‚Äòcron‚Äô job that every 30 seconds to ping all my websites</li>\n<li>Check for 200 response from each, if not send email</li>\n<li>If an even greater problem is found, i.e., the site doesn‚Äôt even return a 4** code, also send an email</li>\n<li>A ‚Äòreactive‚Äô monitor - that is, don‚Äôt just send a mail when there are problems, try to spool up the server again and log if there is a failure!</li>\n</ol>\n<p>To accomplish this I utilized just three Node.js libraries:</p>\n<ul>\n<li><code>http</code>, to request the various sites I control</li>\n<li><code>node-schedule</code>, to create a cron-like check</li>\n<li><code>nodemailer</code>, a fantastic easy-to-use bare bones emailer, we‚Äôll send an email when there is a non 2** HTTP response or simple a non-response error (see code below) (<a href=\"https://medium.com/@manojsinghnegi/sending-an-email-using-nodemailer-gmail-7cfa0712a799\">there is a great medium post on an about 20ish liner in Node.js to get started</a>, and the setting in gmail you have to change)</li>\n</ul>\n<p>Obviously this can be developed into a much more complex monitor, but for now I am happy as to how it runs.</p>\n<h1>Improvements</h1>\n<p>A few things I would like to improve with this Server:</p>\n<ul>\n<li>Control the <code>const</code> array from somwehere else, perhaps a management GUI where I can maintain sites</li>\n<li>A global log class that could also be used in my Chrisfrew.in Productions Twitter Bot (coming soon in another post)</li>\n<li>Increasing the information and complexity of what is sent in the emails?</li>\n</ul>\n<h1>Code</h1>\n<p>As always, the most <a href=\"https://github.com/frewinchristopher/chrisfrew.in-productions-monitor\">up-to-date code will be on GitHub</a>, but as of this post, the full <code>index.js</code> code is as follows:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> schedule <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-schedule'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> nodemailer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nodemailer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> aSitesToTrack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"http://chrisfrew.in\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://nlp-champs.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://sirenapparel.us\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://chrisfrewin.design\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://seelengefluester-tirol.com\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://xn--seelengeflster-tirol-yec.com\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> transporter <span class=\"token operator\">=</span> nodemailer<span class=\"token punctuation\">.</span><span class=\"token function\">createTransport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n service<span class=\"token punctuation\">:</span> <span class=\"token string\">'gmail'</span><span class=\"token punctuation\">,</span>\n auth<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        user<span class=\"token punctuation\">:</span> <span class=\"token string\">'chrisfrew.in.productions@gmail.com'</span><span class=\"token punctuation\">,</span>\n        pass<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_PRODUCTIONS_GMAIL_PASSWORD\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> mailOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'chrisfrew.in.productions@gmail.com'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// sender address</span>\n  to<span class=\"token punctuation\">:</span> <span class=\"token string\">'frewin.christopher@gmail.com'</span> <span class=\"token comment\">// list of receivers</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 1. cron this program every 30 seconds</span>\n<span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> schedule<span class=\"token punctuation\">.</span><span class=\"token function\">scheduleJob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'30 * * * * *'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">pingSites</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 2. loop through all sites</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">pingSites</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  aSitesToTrack<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>sSite<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    http<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span>sSite<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// make sure response is 200</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> statusCode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> res<span class=\"token punctuation\">;</span> <span class=\"token comment\">// destructure responsE integer</span>\n      <span class=\"token keyword\">const</span> sStatusCode <span class=\"token operator\">=</span> statusCode<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// convert to string</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>sStatusCode<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// first digit should be a 2</span>\n        mailOptions<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> <span class=\"token string\">'Site Monitor Chrisfrew.in Productions: Non 2** HTTP Status code'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Subject line</span>\n        mailOptions<span class=\"token punctuation\">.</span>html <span class=\"token operator\">=</span> <span class=\"token string\">\"The site &lt;b>\"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/b> is returning a 404 HTTP error!\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// plain text body</span>\n        <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"404 email sent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// major error</span>\n      mailOptions<span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> <span class=\"token string\">'Site Monitor Chrisfrew.in Productions: Site non-responsive'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Subject line</span>\n      mailOptions<span class=\"token punctuation\">.</span>html <span class=\"token operator\">=</span> <span class=\"token string\">\"The site &lt;b>\"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/b> is non responsive! (Not even a 404 response was found!)\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// plain text body</span>\n      <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error email sent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Site ping of \"</span> <span class=\"token operator\">+</span> sSite <span class=\"token operator\">+</span> <span class=\"token string\">\" complete.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 3. send email if there was error</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  transporter<span class=\"token punctuation\">.</span><span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span>mailOptions<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n         console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n       <span class=\"token keyword\">else</span>\n         console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>"},{"id":"transformer-remark-markdown-html-15e231b7898cd5afb485cd587c9829bd-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>Lots of words have been thrown around Bitcoin recently. Tulip Madness. Silk Road. Ponzi Scheme. While this blog will (rest assured) remain about software development and programming, I had to give my final say (barring whatever crap I may spew on reddit from time to time üòÑ) SOMEWHERE about Bitcoin. I decided that somewhere was here.</p>\n<h1>My Promise to You</h1>\n<p>Let me promise you, I won‚Äôt post about Bitcoin speculation on this blog ever again. (At least in relation to any sort of price speculation, maybe one day later I will post on some tech stuff)</p>\n<h1>The Numbers</h1>\n<p>The most basic key economics of Bitcoin for determining it‚Äôs price are: 1. there will only be 21 million of them, and 2. The demand for the holy coin is ever increasing, and at least all of 2018, it looks as though that trend will hold. As long as these two key economic ingredients hold true (the 21 million I am 100% sure of, it‚Äôs <a href=\"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L1361\">baked intp Bitcoin‚Äôs code</a>), the inarguable bottom line is that the price will go up, no exceptions. We don‚Äôt even need any technical analysis! There are millions of examples throughout history: something with a limited supply and increasing demand, the ‚Äúthings‚Äù price goes up. No exceptions.</p>\n<h1>First to Market</h1>\n<p>It‚Äôs important to remember, Bitcoin was the first of its kind (certainly not the best - many improvements in other coins and blockchain protocols exist - more on that below), Bitcoin has both the largest <em>and</em> majority of the market caps among all the other cryptocurrencies. (Edit: December 19th! Bitcoin dipped just below 49.9% market capitilization in crypto! <a href=\"frewinchristopher.github.io/markcap\">I built a small bookmarklet called MarkCap</a> for <a href=\"coinmarketcap.com\">coinmarketcap.com</a> that puts the percent market cap next to the market cap number.)</p>\n<p></p>\n<p>A comic I thought up about Bitcoin  üòÇüòÇüòÇ (<em>comic is still not done, but it will show up here soon</em>).</p>\n<p>As cash flows from standard gold to Bitcoin, the market cap could approach the <em>trillions</em> range. With that order of magnitude of market cap, 1 Bitcoin would have:</p>\n<table>\n<thead>\n<tr>\n<th>Market Capitalization</th>\n<th>Bitcoin price*</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1 Trillion</td>\n<td>~$55,500</td>\n</tr>\n<tr>\n<td>2 Trillion</td>\n<td>~$111,000</td>\n</tr>\n<tr>\n<td>3 Trillion</td>\n<td>~$167,000</td>\n</tr>\n<tr>\n<td>‚Ä¶</td>\n<td>‚Ä¶</td>\n</tr>\n<tr>\n<td>7 Trillion (market cap of gold)</td>\n<td>~$389,000</td>\n</tr>\n</tbody>\n</table>\n<p>*(assuming around 18 million Bitcoins - currently 16.7 as of writing this entry - it‚Äôs accurate enough as of this posting in late 2017; the 18th millionth Bitcoin isn‚Äôt expected to be mined until October 9th, 2019 - check out <a href=\"https://medium.com/@frewin.christopher/the-bitcoin-mining-schedule-from-december-18-2017-to-june-8-2020-407db59e69f4\">my post on medium about the mining schedule until the next halving</a>)</p>\n<p>I predict:</p>\n<ul>\n<li>$20,000 by January 1st 2018 (update: we already made it for a short period of time on December 17th!)</li>\n<li>$50,000 by end of Q2 2018 (i.e. end of June 2018)</li>\n<li>$100,000 by end of Q4 2018 (i.e. end of December 2018)</li>\n</ul>\n<h1>But‚Ä¶ 5 Years Out? 10 Years?</h1>\n<p>So I have a somewhat non-average view of Bitcoin in the long run (5-10 year) time range (yes, things like <a href=\"http://blog.flippening.watch/what-is-the-flippening/\">THE FLIPPENING</a> I think could happen). The world is still getting used to cryptocurrency. However, as soon as that honeymoon period is <em>over</em>, the world should (not as it always does, I know), realize a few things:</p>\n<ul>\n<li>Bitcoin, while first to the cryptocurrency market, is undoubtedly <em>not</em> the best cryptocurrency on the market. Even as I write this post, transaction times are stacking up, and a single transaction costs over $3. And what happens to the miners once mining stop? <a href=\"https://news.bitcoin.com/what-happens-bitcoin-miners-all-coins-mined/\">That‚Äôs still a question where I‚Äôm not totally satisfied what some of the answers are.</a></li>\n<li>Litecoin is a copy of (suprised? look at this <a href=\"https://github.com/litecoin-project/litecoin/commit/4405b78d6059e536c36974088a8ed4d9f0f29898\">fork to litecoin from the bitcoin repository by Charlie Lee, the founder of Litecoin</a>) sorry, but I don‚Äôt see much innovation there</li>\n<li>\n<p>Other blockchain technologies, like Ethereum, Cosmos, and many more (I have a few personal favorites) have numerous advantages, not limited to:</p>\n<ul>\n<li>a much larger development team</li>\n<li>a much stronger and active code base</li>\n<li>MUCH faster transaction times (Ether, the next closes coin in market cap, processes about <em>2.5x</em> as many transactions as Bitcoin per day)</li>\n</ul>\n</li>\n</ul>\n<p>Once these aspects of the market are noticed, I believe wealth will slowly transfer out of Bitcoin - when and if enough people will decide that Bitcoin‚Äôs ‚Äòstore of wealth‚Äô could in fact be invested in the next best thing (i.e. coin/token). Perhaps once Bitcoin does reach such towering numbers of 50 - 100K, it‚Äôs purpose as a store of global wealth (note NOT the original purpose of Bitcoin) will be met, and perhaps the demand for transactions will taper off. On the other hand, perhaps even a better option for storing wealth in a blockchain could appear. With the rate of speed the tech is moving, its impossible to say, again, only time will tell.</p>\n<p>But, for the present, let the following stand:</p>\n<p><strong>As of 16:08 UTC, Tuesday December 12, 2017 the mid-market price on GDAX for 1 Bitcoin was $17,450.</strong></p>\n<h1>My Conclusions</h1>\n<p>My overall thoughts are this: Bitcoin will continue to see a run up into very large numbers in the 50K-100K region, then stabilize as buying rates finally settle down to match that of selling rates. Then, at some point along this stagnation, there will be a slow starting decrease downtrend in Bitcoin‚Äôs price, then accelerating, bringing the price of Bitcoin back to its pre-boom levels (think: $5 - $10 range). When will this happen? I would say not within the next 5-10 years. But it‚Äôs my long term feeling.</p>\n<p>Cheers! üç∫</p>"},{"id":"transformer-remark-markdown-html-075fc05d45f1d2f3f3ae04b154a2d3b4-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>This is a Must-Have Tool for any ABAP Developer!</h2>\n<p>Did you ever find you wanted to debug something in SAP GUI right on a certain command or action, but it was in a popup? You can‚Äôt access the command line to enter <code>\\h</code>! Well, now you can with this amazing SAP shortcut!</p>\n<p>Open any text editor and add the following:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-txt\"><code>[System]\nName=ERP\nDescription=My company's super awesome ERP system name\nClient=100\n[User]\nName=CHRIS_IS_AWESOME\nLanguage=EN\n[Function]\nTitle=Debugging\nCommand=/h\nType=SystemCommand\n[Configuration]\nWorkDir=\\\\SomePath\\To_a_working_directory\n[Options]\nReuse=0</code></pre>\n      </div>\n<p>Note that the <code>Name</code> (under <code>[System]</code>), <code>Client</code>, <code>Name</code> (under <code>[User]</code>), and <code>WorkDir</code> should all be set to your specific setup. (That‚Äôs why I‚Äôve put obvious bogus names for each of them üòÑ ).</p>\n<p>I keep a copy of mine on my desktop and in my documents directory, as <code>debugging.sap</code>, so it‚Äôs always close at hand.</p>\n<p>Whenever you need to debug something running from a popup, just drag and drop this shortcut into the window you want to debug! (either pressing enter in a field or pressing a button to continue the process in the GUI.)</p>\n<p>*** Common gotchya: Things like pressing F4 or clicking the entry help button on any fields will also bring up the debugger after you have dragged and dropped this GUI shortcut - so, make sure you press the button/do the action of exactly what you want to debug!</p>"},{"id":"transformer-remark-markdown-html-95fb7a818efed61d9dcc37f3fd90eced-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>And some common gotchyas, too</h2>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">*                          S A P M S S Y 0</span>\n<span class=\"token comment\">*                  system routines for ABAP processing</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">*                  (must be declared as FUNCTION-POOL)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">function-pool</span> sapmssy0  <span class=\"token keyword\">message-id</span> <span class=\"token number\">02</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> &lt;%_list><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> &lt;sys000><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">include</span> tskhincl<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">tables</span><span class=\"token punctuation\">:</span> tfdir<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  orders          <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"ON COMMIT orders</span>\n       rb_orders       <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"ON ROLLBACK orders</span>\n       imode_orders    <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token eol-comment comment\">\"POC in CALL DIALOG</span>\n       imode_rb_orders <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders<span class=\"token punctuation\">.</span>\n<span class=\"token eol-comment comment\">\"POR in CALL DIALOG</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS event handling</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> os_orders        <span class=\"token keyword\">type</span> <span class=\"token keyword\">hashed</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_commit_orders\n                            <span class=\"token keyword\">with</span> <span class=\"token keyword\">unique</span> <span class=\"token keyword\">key</span> prog rout<span class=\"token punctuation\">.</span>      <span class=\"token eol-comment comment\">\"#EC NEEDED</span>\n<span class=\"token eol-comment comment\">\"OS ON COMMIT orders</span>\n<span class=\"token comment\">* end RTM</span>\n\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  %_vbkey <span class=\"token keyword\">type</span> %_vbkey <span class=\"token keyword\">value</span> <span class=\"token string\">'%_'</span><span class=\"token punctuation\">,</span>                     <span class=\"token eol-comment comment\">\"#EC *</span>\n       %%vbkey <span class=\"token keyword\">type</span> %_vbkey <span class=\"token keyword\">value</span> <span class=\"token string\">'%%'</span><span class=\"token punctuation\">,</span>\n       %_vb_calls <span class=\"token keyword\">type</span> %_vb_calls <span class=\"token keyword\">occurs</span> <span class=\"token number\">50</span> <span class=\"token keyword\">with</span> <span class=\"token keyword\">header</span> <span class=\"token keyword\">line</span><span class=\"token punctuation\">.</span>\"#EC <span class=\"token operator\">*</span>\n<span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span>  i_level <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span> <span class=\"token keyword\">value</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> arfc_pending <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">,</span>\n       trfc_nowait_for_update <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* bgRFC: something todo at COMMIT / ROLLBACK</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> bgrfc_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* LDQ: something todo at COMMIT / ROLLBACK</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> ldq_writer_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">data</span> <span class=\"token punctuation\">:</span> ldq_reader_eot_action <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* O R D E R _ F O R M _ L E V E L</span>\n<span class=\"token comment\">* order given form to be run when work is committed</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Input : program name, form name, execution level</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_order_form_level <span class=\"token keyword\">using</span> prog rout u_level<span class=\"token punctuation\">.</span>            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> allow_nested_poc<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">,</span>\n        caller <span class=\"token keyword\">type</span> sy<span class=\"token token-operator punctuation\">-</span>repid<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> mpar1<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar2<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar3<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar4<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> imode_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                    <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">import</span> imode_orders imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> imode_orders\n      <span class=\"token keyword\">into</span> imode_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> imode_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      imode_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> u_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> imode_orders_wa <span class=\"token keyword\">into</span> imode_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">export</span> imode_orders imode_rb_orders <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     already in PERFORM ON COMMIT</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'C_SAPGPARAM'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'NAME'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'abap/allow_nested_poc'</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                         <span class=\"token keyword\">id</span> <span class=\"token string\">'VALUE'</span> <span class=\"token keyword\">field</span> allow_nested_poc<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> allow_nested_poc <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       nested PERFORM ON COMMIT not allowed</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'AB_GET_CALLER'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'PROGRAM'</span> <span class=\"token keyword\">field</span> caller<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n        <span class=\"token keyword\">if</span> caller <span class=\"token operator\">&lt;></span> <span class=\"token string\">'SAPMSSY0'</span><span class=\"token punctuation\">.</span>\n          mpar1 <span class=\"token operator\">=</span> <span class=\"token string\">'NESTED_PERFORM_ON_COMMIT'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'caller:'</span>  caller <span class=\"token keyword\">into</span> mpar2 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'program:'</span> prog   <span class=\"token keyword\">into</span> mpar3 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'form:'</span>    rout   <span class=\"token keyword\">into</span> mpar4 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*         switch back kernel flag: just for sure.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n<span class=\"token comment\">*         issue short dump</span>\n          <span class=\"token keyword\">message</span> x081<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">with</span> mpar1 mpar2 mpar3 mpar4<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> orders\n      <span class=\"token keyword\">into</span> orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> u_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> orders_wa <span class=\"token keyword\">into</span> orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   for RTM test concerning POC during OS event handling</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> orders_wa <span class=\"token keyword\">into</span> <span class=\"token keyword\">table</span> os_orders<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   end RTM</span>\n\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_order_form_level</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* O R D E R _ F O R M _ F O R _ R O L L B A C K</span>\n<span class=\"token comment\">* order given form to be run when work is rolled back</span>\n<span class=\"token comment\">* Input : program name, form name</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_order_form_for_rollback <span class=\"token keyword\">using</span> prog rout<span class=\"token punctuation\">.</span>             <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> mpar1<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar2<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar3<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> mpar4<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        caller <span class=\"token keyword\">type</span> sy<span class=\"token token-operator punctuation\">-</span>repid<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> rb_orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        imode_rb_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n                    <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">import</span> imode_orders imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> imode_rb_orders\n      <span class=\"token keyword\">into</span> imode_rb_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n           rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> imode_rb_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> imode_rb_orders_wa <span class=\"token keyword\">into</span> imode_rb_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">export</span> imode_orders imode_rb_orders <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'AB_GET_CALLER'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'PROGRAM'</span> <span class=\"token keyword\">field</span> caller<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC CI_CCALL</span>\n      mpar1 <span class=\"token operator\">=</span> <span class=\"token string\">'NESTED_PERFORM_ON_ROLLBACK'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'caller:'</span>  caller <span class=\"token keyword\">into</span> mpar2 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'program:'</span> prog   <span class=\"token keyword\">into</span> mpar3 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">concatenate</span> <span class=\"token string\">'form:'</span>    rout   <span class=\"token keyword\">into</span> mpar4 <span class=\"token keyword\">separated</span> <span class=\"token keyword\">by</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     switch back kernel flag: just for sure.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     already in PERFORM ON ROLLBACK issue short dump</span>\n      <span class=\"token keyword\">message</span> x081<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">with</span> mpar1 mpar2 mpar3 mpar4<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> rb_orders <span class=\"token keyword\">into</span> rb_orders_wa\n      <span class=\"token keyword\">with</span> <span class=\"token keyword\">key</span> prog <span class=\"token operator\">=</span> prog\n               rout <span class=\"token operator\">=</span> rout\n      <span class=\"token keyword\">binary</span> <span class=\"token keyword\">search</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> rb_orders <span class=\"token keyword\">lines</span> i_level<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog <span class=\"token operator\">=</span> prog<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout <span class=\"token operator\">=</span> rout<span class=\"token punctuation\">.</span>\n      rb_orders_wa<span class=\"token token-operator punctuation\">-</span>i_level <span class=\"token operator\">=</span> i_level<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">insert</span> rb_orders_wa <span class=\"token keyword\">into</span> rb_orders <span class=\"token keyword\">index</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_order_form_for_rollback</span>\n\n\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*  %_COMMIT_PREPARE                                                   *</span>\n<span class=\"token comment\">*  Set date and time for aRFC</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">form</span> %_commit_prepare <span class=\"token keyword\">using</span> <span class=\"token keyword\">date</span> <span class=\"token keyword\">time</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"#EC *</span>\n\n  %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time <span class=\"token operator\">=</span> <span class=\"token keyword\">time</span><span class=\"token punctuation\">.</span>\n  %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date <span class=\"token operator\">=</span> <span class=\"token keyword\">date</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_commit_prepare</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_BEFORE_COMMIT</span>\n<span class=\"token comment\">* called from RSYN commit.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_before_commit<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> txend <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* forbid COMMIT if already in ON ROLLBACK handling</span>\n<span class=\"token comment\">* allow COMMIT during ON COMMIT for backward compatibilty</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> txend<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">message</span> x085<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during CALL DIALOG/SUBMIT, POC, Update task</span>\n<span class=\"token comment\">* or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Hook for Process Information Infrastructure</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'SPI_AGENT_COMMIT'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Raise event 'Commit Requested' for Object Manager</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_commit_requested<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_before_commit</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* C O M M I T</span>\n<span class=\"token comment\">* commit work</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_commit<span class=\"token punctuation\">.</span>                                              <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_state<span class=\"token punctuation\">,</span> %_direct_utask_active<span class=\"token punctuation\">.</span>                     <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_lines   <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_enqkey  <span class=\"token keyword\">type</span> eqeusrvb<span class=\"token punctuation\">.</span>                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_enqdone <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>                                   <span class=\"token eol-comment comment\">\"#EC *</span>\n\n<span class=\"token comment\">* status processing of set update task local</span>\n<span class=\"token comment\">* value 'E': local update is active. Export tRFC/qRFC to memory!</span>\n<span class=\"token comment\">* value 'S': local update is active. Map the dialog tRFC/qRFC to called update trfc/qRFC.</span>\n<span class=\"token comment\">*            Import tRFC/qRFC form memory! Save it to the Database.</span>\n<span class=\"token comment\">* value 'X': local update is active. Execute the tRFC/qRFC within the Dialog workprocess.</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_local_vb_status <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during POC, Update task or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                  <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>   <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   Not in CALL DIALOG</span>\n    %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_process_p_o_c<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*   Check if local update task is switched on?</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'S'</span>\n                            <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> %_state<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> %_state <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">lines</span> l_lines<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> l_lines <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       Local update task is active,</span>\n<span class=\"token comment\">*       export the called tRFC/qRFCs from dialog to memory within arfc_end_transaction.</span>\n        l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     Within sapmssy4 (commit work) we have to import and save all dia tRFC/qRFC</span>\n<span class=\"token comment\">*     in arfc_end_transaction</span>\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>cprog <span class=\"token operator\">=</span> <span class=\"token string\">'SAPMSSY4'</span><span class=\"token punctuation\">.</span>\n        l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n        arfc_pending <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n\n    <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum<span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit <span class=\"token operator\">+</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">mode</span>              <span class=\"token operator\">=</span> <span class=\"token string\">'COMMIT'</span>\n          starttime         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time\n          startdate         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date\n          utask_local_state <span class=\"token operator\">=</span> l_local_vb_status\n          vbkey             <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n          bgrfc_active      <span class=\"token operator\">=</span> bgrfc_eot_action<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_time.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_date.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-dontsend.</span>\n\n<span class=\"token comment\">***************</span>\n<span class=\"token comment\">*   bgRFC</span>\n<span class=\"token comment\">***************</span>\n<span class=\"token comment\">*     Update task in Asynchronous mode!</span>\n<span class=\"token comment\">*     Wenn arfc_pending &lt;> SPACE dann wurde bereits durch classic qRFC der arfc_end_vb</span>\n<span class=\"token comment\">*     getriggert, falls lokale Verbuchung nicht aktiv ist.</span>\n<span class=\"token comment\">*     N = asynch. update task switched off: direct updates</span>\n      <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n<span class=\"token comment\">*       In current LUW classic t/qRFC and bgRFC was called</span>\n\n        <span class=\"token keyword\">if</span> trfc_nowait_for_update <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span> <span class=\"token keyword\">OR</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">initial</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"ARFC_END_VB wurde nicht im tRFC/qRFC gerufen</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n            <span class=\"token keyword\">exporting</span>\n              arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" ARFC_END_VB wurde bereits im tRFC/qrfc gerufen.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n            <span class=\"token keyword\">exporting</span>\n              arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_time.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-send_date.</span>\n<span class=\"token comment\">*      clear %_sys000-arfc-dontsend.</span>\n\n<span class=\"token comment\">*   Wenn kein classic qRFC getriggert und keine lokale Verbuchung, dann</span>\n<span class=\"token comment\">*   muss ARFC_END_VB von bgRFC getriggert werden.</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n<span class=\"token comment\">*       In current LUW only bgRFC was called</span>\n        <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>on_commit\n          <span class=\"token keyword\">exporting</span>\n            arfc_end_vb_already_called <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">***************************</span>\n<span class=\"token comment\">*   Local Data Queue (LDQ)</span>\n<span class=\"token comment\">***************************</span>\n    <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>on_commit<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Reader</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>on_commit<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">if</span> %_state <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     N = asynch. update task switched off: direct updates</span>\n<span class=\"token comment\">*     free %_vb_calls.</span>\n<span class=\"token comment\">*     import %_vb_calls from memory id %%vbkey.</span>\n<span class=\"token comment\">*     describe table %_vb_calls lines l_lines.</span>\n      <span class=\"token keyword\">if</span> l_lines <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       process direct updates (with the same vbkey)</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>   <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'ENQKEY'</span>  <span class=\"token keyword\">field</span> %_enqkey\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'ENQDONE'</span> <span class=\"token keyword\">field</span> %_enqdone<span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">submit</span> sapmssy4 <span class=\"token keyword\">with</span> vbkey_id <span class=\"token operator\">=</span> %%vbkey\n                        <span class=\"token keyword\">with</span> enqkey   <span class=\"token operator\">=</span> %_enqkey\n                        <span class=\"token keyword\">with</span> enqdone  <span class=\"token operator\">=</span> %_enqdone <span class=\"token keyword\">and</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       Start new LUW, release locks that were acquired during dialog part</span>\n        <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>       <span class=\"token keyword\">field</span> reset_vb_enq_key\n                        <span class=\"token keyword\">id</span> <span class=\"token string\">'SYNC_DEQUEUE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Call Dialog wurde gerufen; gerufene tRFC/qRFC Verarbeitung wie gehabt.</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">or</span> l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     Lokale Verbuchung ist aktiv Ausf√ºhrung im Dialog und UPD.</span>\n      l_local_vb_status <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>     <span class=\"token eol-comment comment\">\"Umsetzen auf Ausf√ºhrung der trfc/qRFC im Dialog.</span>\n      arfc_pending      <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">if</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum<span class=\"token punctuation\">.</span>\n        %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit <span class=\"token operator\">+</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">mode</span>              <span class=\"token operator\">=</span> <span class=\"token string\">'COMMIT'</span>\n          starttime         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time\n          startdate         <span class=\"token operator\">=</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date\n          utask_local_state <span class=\"token operator\">=</span> l_local_vb_status\n          vbkey             <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey\n          bgrfc_active      <span class=\"token operator\">=</span> bgrfc_eot_action<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_time<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>send_date<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_sys000<span class=\"token token-operator punctuation\">-</span>arfc<span class=\"token token-operator punctuation\">-</span>dontsend<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>binpt <span class=\"token keyword\">eq</span> <span class=\"token string\">'X'</span> <span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'BDC_END_TRANSACTION'</span><span class=\"token punctuation\">.</span>       <span class=\"token eol-comment comment\">\"ende einer trans in BI</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* clear memory containing registrations for PERFORM ON ROLLBACK.</span>\n<span class=\"token comment\">* delete imode_orders and imode_rb_orders only if not in CALL DIALOG</span>\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_commit</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_AFTER_COMMIT</span>\n<span class=\"token comment\">* called from RSYN commit.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_after_commit<span class=\"token punctuation\">.</span>                                        <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_direct_utask_active<span class=\"token punctuation\">,</span> %_task_state<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">.</span>      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">i</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">,</span> j <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">,</span> x4<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_update_task <span class=\"token keyword\">type</span> boolean <span class=\"token keyword\">value</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_subrc <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT during CALL DIALOG/SUBMIT, POC, Update task</span>\n<span class=\"token comment\">* or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n  l_subrc <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* bgRFC</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>AFTER_COMMIT<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Local DATA Queue (LDQ)</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with LDW-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>after_commit<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with LDW-Reader</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>after_commit<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Raise event 'Commit Finished' for Object Manager</span>\n<span class=\"token comment\">* for synchronous update task this is after all database changes.</span>\n<span class=\"token comment\">* for asynchronous update task this is after triggering the updates.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_commit_finished<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* COMMIT in (classic) update task?</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'TH_USER_INFO'</span>\n    <span class=\"token keyword\">importing</span>\n      task_state <span class=\"token operator\">=</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n  %_task_state <span class=\"token operator\">=</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n  j <span class=\"token operator\">=</span> task_vb<span class=\"token punctuation\">.</span> x4 <span class=\"token operator\">=</span> j<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> %_task_state <span class=\"token keyword\">z</span> x4<span class=\"token punctuation\">.</span>            <span class=\"token eol-comment comment\">\"update task must not be active</span>\n    l_update_task <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> l_update_task <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   COMMIT in local update task?</span>\n    <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'A'</span>          <span class=\"token eol-comment comment\">\"A = active?</span>\n                            <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> %_direct_utask_active<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> %_direct_utask_active <span class=\"token operator\">=</span> <span class=\"token string\">'Y'</span> <span class=\"token keyword\">or</span> sy<span class=\"token token-operator punctuation\">-</span>cprog <span class=\"token operator\">=</span> <span class=\"token string\">'SAPMSSY4'</span><span class=\"token punctuation\">.</span>\n      l_update_task <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* raise event 'transaction_finished' only if not in update task.</span>\n  <span class=\"token keyword\">if</span> l_update_task <span class=\"token operator\">&lt;></span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span>\n      cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>raise_transaction_finished\n      <span class=\"token keyword\">exporting</span>\n        <span class=\"token keyword\">kind</span> <span class=\"token operator\">=</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>commit_work<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> l_subrc<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                                                <span class=\"token eol-comment comment\">\"%_after_commit</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_PROCESS_P_O_C</span>\n<span class=\"token comment\">* Process PERFORM ON COMMIT orders</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_process_p_o_c<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> last_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> imode_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  last_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> imode_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> imode_orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> imode_orders <span class=\"token keyword\">into</span> imode_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_order_form_level <span class=\"token keyword\">using</span> imode_orders_wa<span class=\"token token-operator punctuation\">-</span>prog\n                                     imode_orders_wa<span class=\"token token-operator punctuation\">-</span>rout\n                                     imode_orders_wa<span class=\"token token-operator punctuation\">-</span>u_level<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal begin of ON COMMIT handling</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'C'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> orders <span class=\"token keyword\">into</span> orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> <span class=\"token punctuation\">(</span>orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> <span class=\"token punctuation\">(</span>orders_wa<span class=\"token token-operator punctuation\">-</span>prog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS events</span>\n  <span class=\"token keyword\">free</span> os_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* end RTM</span>\n\n<span class=\"token comment\">* signal end of ON COMMIT</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> last_oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_process_p_o_c</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_GET_VB_KEY</span>\n<span class=\"token comment\">* Update task without update task</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_get_vb_key <span class=\"token keyword\">using</span> vb_func_name <span class=\"token keyword\">changing</span> vb_data_key<span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"#EC *</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> %_vb_calls    <span class=\"token keyword\">type</span> <span class=\"token keyword\">standard</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">of</span> %_vb_calls<span class=\"token punctuation\">,</span>       <span class=\"token eol-comment comment\">\"#EC *</span>\n        %_vb_calls_wa <span class=\"token keyword\">type</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> utask_on<span class=\"token punctuation\">,</span>                  <span class=\"token eol-comment comment\">\"flag: asynchronous update task on?</span>\n        direct_utask_active<span class=\"token punctuation\">.</span>       <span class=\"token eol-comment comment\">\"flag: already in local update task?</span>\n\n  <span class=\"token keyword\">clear</span> vb_data_key<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'S'</span>\n                          <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> utask_on<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_UTASK'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'MODE'</span>  <span class=\"token keyword\">field</span> <span class=\"token string\">'A'</span>\n                          <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> direct_utask_active<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> utask_on <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> direct_utask_active <span class=\"token keyword\">eq</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*   update task switched to \"local\", but not yet inside update task.</span>\n    <span class=\"token keyword\">select</span> <span class=\"token keyword\">single</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> tfdir <span class=\"token keyword\">where</span> funcname <span class=\"token operator\">=</span> vb_func_name<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">message</span> a400 <span class=\"token keyword\">with</span> vb_func_name<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n    cl_abap_restrmode_utils<span class=\"token token-operator punctuation\">=></span>check_in_restr_mode_updtask<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">if</span> tfdir<span class=\"token token-operator punctuation\">-</span>utask <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>     <span class=\"token eol-comment comment\">\"direct update task call</span>\n       <span class=\"token keyword\">or</span> tfdir<span class=\"token token-operator punctuation\">-</span>utask <span class=\"token operator\">=</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"direct update task call, no later update</span>\n\n<span class=\"token comment\">*     get identifier for current LUW</span>\n      <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">field</span> get_vb_key\n                      <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> %_vb_calls_wa<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     import table with already registered function modules</span>\n      <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       already got UUID for the parameters of the function module</span>\n        <span class=\"token keyword\">read</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">index</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">into</span> %_vb_calls_wa <span class=\"token keyword\">transporting</span> daten_id<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">message</span> x675<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*       get new UUID as key for the parameters of the function module</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">.</span>\n          %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> cl_system_uuid<span class=\"token token-operator punctuation\">=></span>create_uuid_c22_static<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">catch</span> cx_uuid_error<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">message</span> x675<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">endtry</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     fill in name of function module</span>\n      %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>func_name <span class=\"token operator\">=</span> vb_func_name<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     identify the function call by consecutive number</span>\n      <span class=\"token keyword\">describe</span> <span class=\"token keyword\">table</span> %_vb_calls <span class=\"token keyword\">lines</span> %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token token-operator punctuation\">-</span>vbkey+<span class=\"token number\">22</span><span class=\"token punctuation\">.</span>\n      %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>data_temperature <span class=\"token operator\">=</span> cl_abap_stack_temperature<span class=\"token token-operator punctuation\">=></span>get_temperature<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">append</span> %_vb_calls_wa <span class=\"token keyword\">to</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*     (re-) export the table to memory</span>\n      <span class=\"token keyword\">export</span> %_vb_calls <span class=\"token keyword\">to</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*     return the identifier of this function call to call.rs1 to export</span>\n<span class=\"token comment\">*     the corresponding parameters with the same identifier.</span>\n      vb_data_key <span class=\"token operator\">=</span> %_vb_calls_wa<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_get_vb_key</span>\n\n<span class=\"token comment\">*----------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_CALL_ROLLBACK</span>\n<span class=\"token comment\">* Call ROLLBACK-Handling</span>\n<span class=\"token comment\">* To be called by kernel code to perform rollback handling in ABAP</span>\n<span class=\"token comment\">*----------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_call_rollback<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n<span class=\"token comment\">* Save SUBRC for returncode after EXCEPTION ERROR_MESSAGE</span>\n  <span class=\"token keyword\">local</span><span class=\"token punctuation\">:</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgty<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgid<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgno<span class=\"token punctuation\">,</span>\n         sy<span class=\"token token-operator punctuation\">-</span>msgv1<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv2<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv3<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>msgv4<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Perform ROLLBACK with all registered rollback hooks</span>\n  <span class=\"token keyword\">rollback</span> <span class=\"token keyword\">work</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_call_rollback</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R O L L B A C K</span>\n<span class=\"token comment\">* rollback work</span>\n<span class=\"token comment\">* when called within CALL DIALOG --> no effect i.e. symmetrical to</span>\n<span class=\"token comment\">* COMMIT WORK</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_rollback<span class=\"token punctuation\">.</span>                                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> txend <span class=\"token keyword\">type</span> <span class=\"token keyword\">c</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* forbid ROLLBACK if already in ON COMMIT/ROLLBACK handling</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'GET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> txend<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'C'</span> <span class=\"token keyword\">or</span> txend <span class=\"token operator\">=</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">message</span> x086<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* Hook for Process Information Infrastructure</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'SPI_AGENT_ROLLBACK'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'ThVBCall'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'OPCODE'</span>  <span class=\"token keyword\">field</span> get_vb_key\n                  <span class=\"token keyword\">id</span> <span class=\"token string\">'VBKEY'</span>  <span class=\"token keyword\">field</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* perform ON ROLLBACK orders</span>\n  <span class=\"token keyword\">perform</span> %_process_p_o_r<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* free contents of memory and tables for update task</span>\n  <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> %_vb_calls <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> %_vb_calls<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vb_calls<span class=\"token token-operator punctuation\">-</span>daten_id<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %%vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> %_vb_calls<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* free contents of memory and tables</span>\n  %_vbkey<span class=\"token token-operator punctuation\">-</span>vbkey <span class=\"token operator\">=</span> %%vbkey<span class=\"token token-operator punctuation\">-</span>vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_rb_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* for RTM test concerning POC during OS events</span>\n  <span class=\"token keyword\">free</span> os_orders<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* end RTM</span>\n\n  <span class=\"token keyword\">if</span> arfc_pending <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    arfc_pending <span class=\"token operator\">=</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'ARFC_END_TRANSACTION'</span>\n      <span class=\"token keyword\">exporting</span>\n        <span class=\"token keyword\">mode</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ROLLBACK'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* bgRFC</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> bgrfc_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\"something happened with bgRFC</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_BGRFC_DB_HELPER'</span><span class=\"token punctuation\">)</span>=>ON_ROLLBACK<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*</span>\n<span class=\"token comment\">* Local DATA Queue (LDQ)</span>\n<span class=\"token comment\">*</span>\n  <span class=\"token keyword\">if</span> ldq_writer_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_WRITER'</span><span class=\"token punctuation\">)</span>=>on_rollback<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">if</span> ldq_reader_eot_action  <span class=\"token keyword\">ne</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>  <span class=\"token eol-comment comment\">\"something happened with LDQ-Writer</span>\n    <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'CL_LDQ_UNIT_READER'</span><span class=\"token punctuation\">)</span>=>on_rollback<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_rollback</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_AFTER_ROLLBACK</span>\n<span class=\"token comment\">* called from RSYN rollback.rs1</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_after_rollback<span class=\"token punctuation\">.</span>                                      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> l_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* ROLLBACK during POC, Update task or End Transaction event?</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'P'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'E'</span> <span class=\"token keyword\">and</span>\n        sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">and</span> sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">&lt;></span> <span class=\"token string\">'V'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* change sy-oncom to avoid recursion</span>\n  l_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>                      <span class=\"token eol-comment comment\">\"E = Event Handling</span>\n<span class=\"token comment\">* no escape out off this form other than ENDFORM</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_os_transaction_end_notifier<span class=\"token token-operator punctuation\">=></span>raise_rollback_finished<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">method</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>raise_transaction_finished\n    <span class=\"token keyword\">exporting</span>\n      <span class=\"token keyword\">kind</span> <span class=\"token operator\">=</span> cl_system_transaction_state<span class=\"token token-operator punctuation\">=></span>rollback_work<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* switch local update task to 'inactive'</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_UTASK_OFF'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'N'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* restore sy-oncom</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> l_oncom<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* reset marker on call stack.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_after_rollback</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM %_PROCESS_P_O_R</span>\n<span class=\"token comment\">* Process PERFORM ON ROLLBACK orders</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_process_p_o_r<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> last_oncom <span class=\"token keyword\">like</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> rb_orders_wa       <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">,</span>\n        imode_rb_orders_wa <span class=\"token keyword\">type</span> %_commit_orders<span class=\"token punctuation\">.</span>\n\n  last_oncom <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">import</span> imode_rb_orders <span class=\"token keyword\">from</span> <span class=\"token keyword\">memory</span> <span class=\"token keyword\">id</span> %_vbkey<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> imode_rb_orders <span class=\"token keyword\">into</span> imode_rb_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> %_order_form_for_rollback\n      <span class=\"token keyword\">using</span> imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog\n            imode_rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> imode_rb_orders<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">sort</span> rb_orders <span class=\"token keyword\">by</span> u_level i_level<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal begin of ON ROLLBACK handling</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> <span class=\"token string\">'P'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">'R'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">loop</span> <span class=\"token keyword\">at</span> rb_orders <span class=\"token keyword\">into</span> rb_orders_wa<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">perform</span> <span class=\"token punctuation\">(</span>rb_orders_wa<span class=\"token token-operator punctuation\">-</span>rout<span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> <span class=\"token punctuation\">(</span>rb_orders_wa<span class=\"token token-operator punctuation\">-</span>prog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endloop</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">system-call</span> state_limit <span class=\"token keyword\">reset</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">free</span> rb_orders<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* signal end of ON ROLLBACK</span>\n  sy<span class=\"token token-operator punctuation\">-</span>oncom <span class=\"token operator\">=</span> last_oncom<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'SET_SWITCH_TXEND'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'STATE'</span> <span class=\"token keyword\">field</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_process_p_o_r</span>\n\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token comment\">* FORM SYSTEM_HOOK</span>\n<span class=\"token comment\">* ---------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> system_hook<span class=\"token punctuation\">.</span>                                           <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n  sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"system_hook</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R E G I S T E R _ A F R C</span>\n<span class=\"token comment\">* register ARFC call</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_arfc<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  arfc_pending <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_arfc</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* R E G I S T E R _ t R F C / q R F C independent from Update TASK</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_trfc_no_wait_for_update<span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"#EC PREFIX_OK</span>\n  trfc_nowait_for_update <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token comment\">* register bgRFC actions</span>\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_bgrfc<span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  bgrfc_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_bgrfc</span>\n\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token comment\">* register Local Data Queue (ldq) actions</span>\n<span class=\"token comment\">*-------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_register_ldq_writer<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC *</span>\n  ldq_writer_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_ldq_writer</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  %_register_ldq_reader</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">form</span> %_register_ldq_reader<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC *</span>\n  ldq_reader_eot_action <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_register_ldq_reader</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ C O M M A N D</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> list_command <span class=\"token keyword\">input</span><span class=\"token punctuation\">.</span>                                  <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">result</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">i</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*  IF sy-xcode(5) EQ 'PFILE'.</span>\n<span class=\"token comment\">*    MESSAGE ID '02' TYPE 'I' NUMBER '016'.</span>\n<span class=\"token comment\">*    CLEAR sy-xcode.</span>\n<span class=\"token comment\">*  ENDIF.</span>\n  <span class=\"token keyword\">result</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">call</span> <span class=\"token string\">'QUERY_LIST_TO_MEMORY'</span> <span class=\"token keyword\">id</span> <span class=\"token string\">'RESULT'</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">result</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token keyword\">result</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%SMEX'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token string\">'%'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'LIST_COMMAND'</span>\n    <span class=\"token keyword\">exporting</span>\n      command         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>xcode\n    <span class=\"token keyword\">exceptions</span>\n      unknown_command <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n      <span class=\"token keyword\">others</span>          <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">check</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">clear</span><span class=\"token punctuation\">:</span> sy<span class=\"token token-operator punctuation\">-</span>ucomm<span class=\"token punctuation\">,</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"list_command INPUT</span>\n\n<span class=\"token comment\">* R/3-Drucken Anfang</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* P R I N T _ S T A R T</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> print_start <span class=\"token keyword\">input</span><span class=\"token punctuation\">.</span>                                   <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> hex02 <span class=\"token keyword\">type</span> <span class=\"token keyword\">x</span> <span class=\"token keyword\">value</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">data</span><span class=\"token punctuation\">:</span> display_mode<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* Korrektur Ralf Wendelga√ü 20.5.98</span>\n\n  <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRI'</span>   <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRINT'</span> <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRI'</span> <span class=\"token keyword\">or</span>\n     sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRN'</span><span class=\"token punctuation\">.</span>\n\n    display_mode <span class=\"token operator\">=</span> cl_abap_list_layout<span class=\"token token-operator punctuation\">=></span>get_display_mode<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n    sy<span class=\"token token-operator punctuation\">-</span>callr <span class=\"token operator\">=</span> <span class=\"token string\">'OKPRI'</span><span class=\"token punctuation\">.</span>\n<span class=\"token comment\">* no print dialog if print icon was pressed</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'%PRN'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'PRINT_REPORT_DEFAULT'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">report</span> <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>cprog\n          uc_display_mode <span class=\"token operator\">=</span> display_mode\n        <span class=\"token keyword\">exceptions</span>\n          <span class=\"token keyword\">others</span> <span class=\"token operator\">=</span> <span class=\"token number\">99</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">call</span> <span class=\"token keyword\">function</span> <span class=\"token string\">'PRINT_REPORT'</span>\n        <span class=\"token keyword\">exporting</span>\n          <span class=\"token keyword\">report</span> <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>cprog\n          uc_display_mode <span class=\"token operator\">=</span> display_mode\n        <span class=\"token keyword\">exceptions</span>\n          <span class=\"token keyword\">others</span> <span class=\"token operator\">=</span> <span class=\"token number\">99</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* printing ok</span>\n    <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* cover page</span>\n      <span class=\"token keyword\">if</span> sy<span class=\"token token-operator punctuation\">-</span>subty <span class=\"token keyword\">o</span> hex02 <span class=\"token keyword\">and</span> %_print<span class=\"token token-operator punctuation\">-</span>prbig <span class=\"token operator\">&lt;></span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">perform</span> %_%_cover_page<span class=\"token punctuation\">(</span>rsdbrunt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n      sy<span class=\"token token-operator punctuation\">-</span>xcode <span class=\"token operator\">=</span> <span class=\"token string\">'PRI'</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* errors occured or printout cancelled</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">clear</span> sy<span class=\"token token-operator punctuation\">-</span>xcode<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">message</span> s015<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">endif</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"print_start INPUT</span>\n<span class=\"token comment\">* R/3-Drucken Ende</span>\n\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* S Y N T A X C H E C K - Popup (143)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">module</span> sc_init <span class=\"token keyword\">output</span><span class=\"token punctuation\">.</span>                                      <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">tables</span><span class=\"token punctuation\">:</span> trdir<span class=\"token punctuation\">,</span> abmsg<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">set</span> <span class=\"token keyword\">titlebar</span> <span class=\"token string\">'001'</span><span class=\"token punctuation\">.</span>                                       <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">set</span> <span class=\"token keyword\">pf-status</span> <span class=\"token string\">'SCMS'</span> <span class=\"token keyword\">immediately</span><span class=\"token punctuation\">.</span>                         <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">select</span> <span class=\"token keyword\">single</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> trdir <span class=\"token keyword\">where</span> <span class=\"token keyword\">name</span> <span class=\"token operator\">=</span> abmsg<span class=\"token token-operator punctuation\">-</span>irepid<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"sc_init OUTPUT</span>\n\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       MODULE SC_RESET                                               *</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       ........                                                      *</span>\n<span class=\"token comment\">*---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">module</span> sc_reset<span class=\"token punctuation\">.</span>                                            <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">leave</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">transaction</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"sc_reset</span>\n\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ E X I T</span>\n<span class=\"token comment\">* return from \"Listprocessing\" (main list of report -> LIST_RETURN)</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_list_exit<span class=\"token punctuation\">.</span>                                           <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">leave</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_list_exit</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* L I S T _ R E T U R N</span>\n<span class=\"token comment\">* return from main list of report -> selection screen</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> %_list_return<span class=\"token punctuation\">.</span>                                         <span class=\"token eol-comment comment\">\"#EC *</span>\n  <span class=\"token keyword\">perform</span> %_return_to_selscreen <span class=\"token keyword\">in</span> <span class=\"token keyword\">program</span> rsdbrunt <span class=\"token keyword\">if</span> <span class=\"token keyword\">found</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>                    <span class=\"token eol-comment comment\">\"%_list_return</span>\n\n<span class=\"token comment\">*???????????????????????????????????????????????????????????????????????</span>\n<span class=\"token keyword\">form</span> list_command ##NEEDED<span class=\"token punctuation\">.</span>                                 <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token comment\">* N E W - L I N E</span>\n<span class=\"token comment\">* called by ab_trigg to force a line-skip after GET processing</span>\n<span class=\"token comment\">* -------------------------------------------------------------------</span>\n<span class=\"token keyword\">form</span> <span class=\"token keyword\">new-line</span> ##FIELD_HYPHEN<span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\"#EC CALLED</span>\n  <span class=\"token keyword\">new-line</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endform</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Module  LEAVE_LIST  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text                                                           *</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token comment\">*odule %_list_return output.</span>\n<span class=\"token comment\">* perform %_return_to_selscreen in program rsdbrunt if found.</span>\n<span class=\"token comment\">* leave screen.</span>\n<span class=\"token comment\">*ndmodule.                             \" LEAVE_LIST  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Module  LIST_STRUCTURE_RECOGNIZER  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">module</span> list_structure_recognizer <span class=\"token keyword\">output</span><span class=\"token punctuation\">.</span>\n   cl_abap_list_parser<span class=\"token token-operator punctuation\">=></span>refresh_lsr_container<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">endmodule</span><span class=\"token punctuation\">.</span>                 <span class=\"token eol-comment comment\">\" LIST_STRUCTURE_RECOGNIZER  OUTPUT</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  thew_list_masking</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token comment\">*  -->  p1        text</span>\n<span class=\"token comment\">*  &lt;--  p2        text</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> thew_list_masking <span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span>\n    lv_func       <span class=\"token keyword\">TYPE</span> rs38l_fnam <span class=\"token keyword\">VALUE</span> <span class=\"token string\">'/UIM/PBO_120_HOOK_LIST'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">TRY</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'FUNCTION_EXISTS'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          funcname           <span class=\"token operator\">=</span> lv_func\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          function_not_exist <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">OTHERS</span>             <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> lv_func<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CATCH</span> cx_root<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDTRY</span><span class=\"token punctuation\">.</span>\n\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  thew_list_masking2</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*       advanced UI masking of special fields with helpid</span>\n<span class=\"token comment\">*       called from kernel by ab_rperf from abwrite</span>\n<span class=\"token comment\">*----------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> thew_list_masking2<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span>\n    lv_func       <span class=\"token keyword\">TYPE</span> rs38l_fnam <span class=\"token keyword\">VALUE</span> <span class=\"token string\">'/UIM/PBO_WRITE_HOOK'</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">TRY</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'FUNCTION_EXISTS'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          funcname           <span class=\"token operator\">=</span> lv_func\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          function_not_exist <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">OTHERS</span>             <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">FIELD-SYMBOLS</span><span class=\"token punctuation\">:</span>\n          &lt;in_p1>    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;in_p2>    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;inout_p3> <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">,</span>\n          &lt;out_p4>   <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">any</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'AB_GET_C_PARMS'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'P1'</span> <span class=\"token keyword\">FIELD</span> &lt;in_p1>    <span class=\"token eol-comment comment\">\"field name</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P2'</span> <span class=\"token keyword\">FIELD</span> &lt;in_p2>    <span class=\"token eol-comment comment\">\"ddic name</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P3'</span> <span class=\"token keyword\">FIELD</span> &lt;inout_p3>    <span class=\"token eol-comment comment\">\"field value</span>\n                              <span class=\"token keyword\">ID</span> <span class=\"token string\">'P4'</span> <span class=\"token keyword\">FIELD</span> &lt;out_p4><span class=\"token punctuation\">.</span>    <span class=\"token eol-comment comment\">\"flag is list masking</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> lv_func\n          <span class=\"token keyword\">EXPORTING</span>\n            fieldname       <span class=\"token operator\">=</span> &lt;in_p1>\n            ddicname        <span class=\"token operator\">=</span> &lt;in_p2>\n          <span class=\"token keyword\">IMPORTING</span>\n            is_list_masking <span class=\"token operator\">=</span> &lt;out_p4>\n          <span class=\"token keyword\">CHANGING</span>\n            fieldvalue      <span class=\"token operator\">=</span> &lt;inout_p3><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'AB_SET_C_PARMS'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'P3'</span> <span class=\"token keyword\">FIELD</span> &lt;inout_p3>\n                      <span class=\"token keyword\">ID</span> <span class=\"token string\">'P4'</span> <span class=\"token keyword\">FIELD</span> &lt;out_p4><span class=\"token punctuation\">.</span>    <span class=\"token eol-comment comment\">\"#EC CI_CCALL CI_CCALL</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CATCH</span> cx_root<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDTRY</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>"},{"id":"transformer-remark-markdown-html-0efb3e5b7e6e322fb363bc50dccc2fab-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>I‚Äôll be writing here for sometime into the future now, though I‚Äôm not sure how often, as I‚Äôm rather busy with the work for <a href=\"nlp-champs.com\">nlp-champs.com</a> and <a href=\"skillscout.herokuapp.com\">SkillScout</a> (the original thing that brought on the need case for <a href=\"nlp-champs.com\">nlp-champs.com</a>. Plus, it <em>really</em> doesn‚Äôt help that I recently fell down the rabbit hole that is blockchain. That stuff makes my head üí• üí• üí• daily.</p>"},{"id":"transformer-remark-markdown-html-a5be71f6aa8a7c68ad640f238f411571-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Data analysis</h1>\n<h1>Evidence of State Actors?</h1>\n<p>I looked at the. Indeed, seeing as , this would be of interest. I was surprised to find that there was no strong - except for one peculiarity. In 2015, over the last week of May and the first week of June, someone or (something) <em>registered nearly all the remaining 3 letter usernames left on reddit!</em> Even more scary is the number of accounts that have a verified email</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>False    12277\nTrue        26</code></pre>\n      </div>\n<p>So, of those 12000+ users that were registered in those two weeks, <em>only 26 of them have a registered email!</em></p>\n<p>As an interesting side note, this spike of user registration missed a few usernames, 8 to be exact (likely users had trouble finding these remaining):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>name      created_utc_date\nuzi       2016-03-16\ntnw       2017-08-07\nvox       2017-08-24\nwsj       2017-11-14\nkfc       2018-02-06\nnbc       2018-03-06\nnpr       2018-03-06\nmls       2018-03-27</code></pre>\n      </div>\n<p>Interestingly, while the majority of these are alliterations for big organzations, only <code>vox</code> and <code>npr</code> appear to be used. <code>uzi</code> has quite a bit of karma, but appears to be a normal user, while all remaining have only their email verified and their initial single link karma.</p>"},{"id":"transformer-remark-markdown-html-e0e05b5e52e11f07485e0eadc3a190c1-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>HTML in Markdown!?</h2>\n<p>Well, it‚Äôs a little known fact (at least it was for me) that you can use native HTML tags are supported in Markdown, though the support over different sites is varying. I would say the code presented here should work on about 99% of pages - let me know if that‚Äôs not the case</p>\n<h2>Code</h2>\n<p>To get this to work in most environments<sup>1</sup> all we have to do is to make use of the <code>&#x3C;details></code> tag. Since you probably want your dropdown to have a title, we also need to use the <code>&#x3C;summary></code> tag. So a cool markdown dropdown could look as simple as this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-markdown\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\nblah blah blah blah you found me!\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>Or, rendered (go on and give the arrow a click!):</p>\n<details><summary>Cool Dropdown</summary><br>\nblah blah blah blah you found me!\n</details>\n<p>Of course, all goodies of markdown will work inside of this dropdown - lists, links, etc.</p>\n<h2>Longer Example</h2>\n<p>Here‚Äôs a bigger example for your copypasta pleasure:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-markdown\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\n```js\n// so wow, much amazing... you can even put code in these drop downs!\ndocument.getElementById('root')\n```s\n\n<span class=\"token url\">[Or a link - like to google](https://google.com)</span>\n\n<span class=\"token list punctuation\">-</span> Or a List\n  <span class=\"token list punctuation\">-</span> or a nested List\n  <span class=\"token list punctuation\">-</span> like this\n  <span class=\"token list punctuation\">-</span> with üòÑ emojis\n<span class=\"token list punctuation\">-</span> Like this\n\nOr even just normal text\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\nMore cool text hiding in my dropdown\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span>Cool Dropdown #3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n\nEaster egg! ü•öü•öü•ö\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>Rendered on this page, that snippet looks like this:</p>\n<p>\n<details><summary>Cool Dropdown #1</summary><br>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-js\"><code><span class=\"token comment\">// so wow, much amazing... you can even put code in these drop downs!</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>\n<p><a href=\"https://google.com\">Or a link - like to google</a></p>\n<ul>\n<li>\n<p>Or a List</p>\n<ul>\n<li>or a nested List</li>\n<li>like this</li>\n<li>with üòÑ emojis</li>\n</ul>\n</li>\n<li>Like this</li>\n</ul>\n<p>Or even just normal text</p>\n</details>\n<details><summary>Cool Dropdown #2</summary><br>\n<p>More cool text hiding in my dropdown</p>\n</details>\n<details><summary>Cool Dropdown #3</summary><br>\n<p>Easter egg! ü•öü•öü•ö</p>\n</details>\n</p>\n```\n<h2>Most Important - Use It!</h2>\n<p>I for one am going to start using this in my README‚Äôs. After all, it is the first page a lot of developers and users see, so using these dropdowns would be a nice simple way to keep your README uncluttered and organized - the communitiy at large will benefit and thank you for piece-wise docs.</p>\n<hr/>\n<h2>Footnotes</h2>\n<ol>\n<li>This page you are looking at right now is generated with Gatsby (which generates React HTML from markdown), and I know these dropdowns work on the Markdown of GitHub too.</li>\n</ol>"},{"id":"transformer-remark-markdown-html-2382bc4d4d95f7873e2cd9a2ac3fe74b-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>Whew. It‚Äôs been over a month since my last post! This is mainly because of some of the projects I‚Äôve been working on; so rest assured there will be plenty of new content coming soon. (I‚Äôve been improving my development arsenal with Redux (haven‚Äôt had a need for it yet) and Redux Saga which leverages a lot of great JavaScript such as generator functions for async deliciousness, as well as joining a hackathon team to build a beerpong robot - but more of that in later posts.)</p>\n<h1>Robinhood - Options! AHAHAHAH! Oh wait‚Ä¶ my money is gone üò≠üò≠üò≠</h1>\n<p>Like many millennials will experience in the coming months, my options trading got unlocked on Robinhood. Robinhood is a commission free broker that initial started as a mobile-only (as far as I know Robinhood is only available for United States Citizens - sorry for everyone else - but options are definitely in the cards if you find the right broker!) Anyway, as I experiment with everything, why not also with options? What I‚Äôve seen places for example like <a href=\"https://www.reddit.com/r/wallstreetbets/\">https://www.reddit.com/r/wallstreetbets/</a>, options trading can be extremely lucrative, but highly risky. I wanted to learn what they were all about and if it would be indeed possible for me to make some sustainable income - not in a risky YOLO method, but a calculated method that follows mathematical principles.</p>\n<h1>The Posts - on Medium</h1>\n<p>To spare you from more of my rambling, here‚Äôs the very first post of the series:</p>\n<p><a href=\"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-9a018f11f69e\">https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-9a018f11f69e</a></p>\n<p>and the master post that I will link all further posts to (check out my catastrophic Facebook call failure):</p>\n<p><a href=\"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-53b934e55863\">https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-53b934e55863</a></p>\n<p>you can follow my trades on twitter <a href=\"https://twitter.com/Galt_\">@Galt_</a>.</p>\n<p>I hope you enjoy watching me lose all my money! üòÇ</p>\n<p>Cheers! üç∫</p>\n<p>-Chris</p>"},{"id":"transformer-remark-markdown-html-7d99aaa2811138a617970aed5c3fe49c-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>Hey, Want to be an American living in Austria and working in Liechtenstein?</h2>\n<h2>Look no further!</h2>\n<p>This is a detailed how-to guide on applying and obtaining:</p>\n<ul>\n<li>An Austrian residence permit</li>\n<li>A Liechtensteiner work permit</li>\n</ul>\n<h2>The Task</h2>\n<p>Warning: this process took me over two months. I want to share first how I did it, and then how I should have done it in hopes to save others time if they should wish to attempt tackling this debauchery of paperwork and bureaucracy.*</p>\n<p><sup>* Trust me when I say I‚Äôm not a legal counsel so always take my words with a grain of salt. However, as of February 2016, these were the steps I took to get started working. UPDATE 2017: The process is still the same as described here. I know this because you have to renew your permits each year for your first three years in Austria. Granted, it is much easier the second and third times as you have all of your papers in place already from the previous year!</sup></p>\n<h2>Overview</h2>\n<p>When you plan on living in Austria for longer than three months, and then longer than sixth months (there are some other special visas such as a student visa, artist visa which last for sixth months), then the government requires you to apply for a Niedlerlassungsbewilligung, a specific type of Aufenhaltstitel, or residence permit, very similar to a green card in the US. Then, Liechtenstein requires that you have Aufenhaltstitel, or a working permit to legally work in Liechtenstein. Your company should help you with this process, and, since a cross border working permit for Liechtenstein is very common, the application is relatively simple compared to the Niedlerlassungsbewilligung.</p>\n<h2>Legal Entities</h2>\n<p>There are four legal entities you are going to need to work with to get everything to jive:</p>\n<ol>\n<li>Perhaps most important, is the Bezirkshauptmannschaft, or ‚ÄúBH‚Äù for short in German, or in English, the district authority. This is where you will complete your Niedlerlassungsbewilligung, or residence permit.</li>\n<li>Another place you will visit is the Gemeindeamt, or town hall of the town your apartment is in. This is where you will make your Meldezettel, or certification of registration. When you do this registration, you want to make your Haupwohnsitz, or main place of residence to that town.</li>\n<li>You will also need to work with the Besitzer, or the owner of the apartment. If the apartment you want to rent is a private, this shouldn‚Äôt be so difficult. Unfortunately, it is quite common in Austria that apartments are owned by an apartment company, so you may have to work with one of those companies to finally get the rent contract and the signature of the official owner of the building itself.</li>\n<li>Finally, the two documents you will need to send from Liechtenstein are mandated by the Besitzer Ausl√§nder- und Passamt, or the Immigration and Passport Office of Liechtenstein.\nLong Term Residence Permit(Nieder- lassungs- bewilligung)\nFor the residence permit, fill out the Niedlerlassungsbewilligung application. If you already have your apartment, you should even be able to fill in those parts as well. If you don‚Äôt have a spouse or children, you can skip many parts of this application. Anyways, the BH will look over it when you first supply it to them anyway, so don‚Äôt stress too much.\nTo fully complete the Niedlerlassungsbewilligung application, you will need to bring the following documents when you go to the BH:</li>\n</ol>\n<h2>Original Documents</h2>\n<ol>\n<li>Passport photo (glue it right on the front page of the application)</li>\n<li>Your birth certificate, signed by an apostle</li>\n<li>A police report from you local police station listing an infractions you may or may not have, also signed by an apostle</li>\n<li>Your (at the lowest) A1 German proficiency certificate</li>\n</ol>\n<h2>Copied Documents</h2>\n<ol>\n<li>Your rent agreement, make sure the copy has the signature of owner of the apartment building</li>\n<li>Flight confirmation ticket (so the BH knows how long you have to legally stay in Austria)</li>\n<li>A police report from you local police station listing an infractions you may or may not have, also signed by an apostle</li>\n<li>Your A1 certification in German. This is exam is not to be taken lightly! I did it through the Goethe Institut in U.S.</li>\n<li>Your work contract - make sure all the work contracts have signatures.</li>\n<li>A ‚Äúsimulation‚Äù of your wage with expected taxes from Austria - make sure this has signatures from your company as well.\nWork Permit(Arbeits- bewilligung)\nFor the work permit, you will need to fill out the Stellanantritt ohne Wohnsitznahme in Liechtenstein and Pers√∂nliche Angabe zur Ausstellung des Aufenhaltstitels applications. Your company in Liechtenstein may send you these half completed, or they may not. Mine did.\nTo fully complete the applications, you will need the following attachments:</li>\n</ol>\n<h2>Original Documents</h2>\n<ol>\n<li>Passport photo (glue it right on the front page of the Pers√∂nliche Angabe zur Ausstellung des Aufenhaltstitels)</li>\n</ol>\n<p>And‚Ä¶ that‚Äôs it. Just the passport photo. Told you it was cake compared to the residence permit.\nThe Perfect Process\nNow, some of the things you have seen above may not really make any sense to you. The list below will describe them and outline, if you were perfect, how you could complete the entire process without any confusion or wasting of time:</p>\n<h2>Before Going to Austria</h2>\n<ol>\n<li>Get a job offer in Liechtenstein! The company will send you contracts which you need to sign in the presence of an apostle, which you will then send back to the company for their final approval. They‚Äôll then order the contracts which you need to fill out for Liechtenstein.</li>\n<li>Pass your German A1 Proficiency Exam and wait for certificate to be mailed to you (this is probably easier before you go to Austria, but not impossible to do in Austria or Germany). This exam is includes basic reading, writing, and speaking in German. I did mine through the Goethe Institut. More about it here.</li>\n</ol>\n<h2>Once In Austria</h2>\n<ol>\n<li>Obtain an Austrian Bank Account (this takes a few days because they always need to approve foreigners) this will help time saving immensely with any bank transfers you need for the apartment, such as the security deposit or first months rent.</li>\n<li>Aggressively hunt for an apartment, get the rent contract made up and sign it with the owner of the apartment as soon as you can. (This process took me a month.)</li>\n<li>In the meantime of all the apartment hunting, get a bunch of passport photos taken. You will need them for a few things later on.</li>\n<li>Make your Meldezettal, or certification of registration at your local  Gemindeamt or town hall (make sure to bring your rent contract when you go!)</li>\n<li>Go to the BH with all of the documents listed above. If you‚Äôre good (unlike me) and have all the documents when you go, you should need to go only once.</li>\n<li>Now, this step is tricky. Liechtenstein won‚Äôt issue you a work permit without first seeing your residence permit (would be easy if you were an EU citizen - they would issue it as soon as they knew you were a citizen!) However, Austria won‚Äôt issue you a residence permit without first seeing the work permit! Catch 22 right? Well, not exactly. When you have everything ready for your residence permit at the BH, you can get help from your company and the Liechtenstein government to send a short confirmation letter saying that yes, as soon as you have your residence permit, they will issue you a work permit if you send in your residence permit for them to examine.</li>\n<li>Now wait. Some district authority offices say it can take as long as six months to approve your residence permit. I personally think that it depends more on your start date. I don‚Äôt think they will toast you and make you wait for months if they see your start date is coming up in just a few weeks or month.</li>\n<li>Then, eventually, the BH will call you and tell you when you can pick up your residence permit! You will have to go this time with your passport and pay a final 20 EUR to receive the residence permit. They told me to come back on a date about a week after I finally submitted everything.</li>\n<li>Then, you will need to work with your company. The authorities in Liechtenstein will need to see that residence permit that you just got, with those two other documents I mentioned above. Probably with yet another week, then will then issue you the work permit. I picked my work permit up from my company, but maybe they sometimes mail it. I‚Äôm not sure.</li>\n<li>Finally, you‚Äôve done it! Hike up to a hut, sip a delicious Austrian beer and eat a big Germkn√∂del! Try not to think about after all that paperwork your only reward is to start working!</li>\n</ol>"},{"id":"transformer-remark-markdown-html-17b424cae4f821be44ad94cb9169736e-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>chrisfrew.in as a company!</h1>\n<p>Hello there! In March of 2018 I streamlined my business process from my old doing business as (DBA) startup, Siren Apparel (it‚Äôs still alive!) <a href=\"https://sirenapparel.us\">https://sirenapparel.us</a> with the more general name of this site, chrisfrew.in (that also is creatively my name of course üòâ). This DBA name will make more sense to spin off multiple websites, apps, and digital products all under the new DBA name, <em>chrisfrew.in</em>. Tasty.</p>\n<h1>For New York state, how can you change your DBA name?</h1>\n<p>To change your DBA name, it‚Äôs basically two steps, one at the federal level and one at the state level:</p>\n<ol>\n<li>A written letter to the Internal Revenue Service stating your intent to change the name. In the case of a sole proprietorship (like mine) there is no need to change you Employee Identification Number (EIN, also known as the Tax Identification Number or Tax ID). The IRS says that you have to write to the same IRS address that you sent your last tax address for the company for. Because I have a sole proprietorship, I can file for Siren Apparel (now chrisfrew.in) to this address:</li>\n</ol>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Department of the Treasury\nInternal Revenue Service\nKansas City, MO  64999-0002</code></pre>\n      </div>\n<br/>\n<ol start=\"2\">\n<li>A DTF-65 form (for New York State since I live there) also indicating the name change (in the case of other states I assume this step would be similar, just a matter of finding the proper form for your state.)</li>\n</ol>\n<h1>TL;DR;</h1>\n<p>Fill out and send two forms; and you‚Äôre legally set!</p>\n<p><em>in other words,</em></p>\n<p>üòé Its time to make some more startups. üòé</p>"},{"id":"transformer-remark-markdown-html-60b482817495d542aa830adcffcba265-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>This‚Äôll be a real short one; I just learned you can link to specific lines of code on GitHub!</p>\n<p>All you need to do is find your link to the source code preview (***NOTE: <em>not</em> the raw view!) as an example, let‚Äôs look at a source file from Bitcoin repository*:</p>\n<p><a href=\"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp\">https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp</a></p>\n<p>Let‚Äôs say I want to highlight line 123. All you have to do is add a ‚Äò#L‚Äô and the line number you want, so let‚Äôs add #L123:</p>\n<p><a href=\"https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L123\">https://github.com/bitcoin/bitcoin/blob/c24337964f2d0500975abb4ef55c324daaf349b6/src/main.cpp#L123</a></p>\n<p>Go on. Give it a click. You know you want to! You‚Äôll see your browser jumps down and highlights that line.</p>\n<hr/>\n<p>* <code>main.cpp</code> doesn‚Äôt exist anymore in the current codebase; it has been reorganized into various other parts of the code, but as an example <code>main.cpp</code> is an attractive file name üòÑ.</p>"},{"id":"transformer-remark-markdown-html-4d21062674ba1d1c17da1b65f3788fab-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>So, we don‚Äôt want to be rebuilding SAP GUI transactions 1:1 in the Web‚Ä¶</h2>\n<p>That would be like reinventing the wheel.</p>\n<p>In SAPUI5 function, that looks something like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>\n</code></pre>\n      </div>\n<p>Dear SAP Gods‚Äù You shout. I know, what the heck are those random %20??!?! What the heck is that * there for? I recognize the transaction CO03, but what is going on here?!?!?!?</p>\n<p>All shall become clear. Let‚Äôs break it down.</p>"},{"id":"transformer-remark-markdown-html-9882e309af78ed23f9bdf8c9aa36b339-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>I‚Äôve been generating ideas for this post for quiet a while, namely from the depressing nonsense I‚Äôve seen thrown around our very own interwebs. </p>\n<p>Mind you, they aren‚Äôt directly depressing to <em>me</em>, but rather, they‚Äôre making me depressed on behalf of other people, because I think people throwing numbers around don‚Äôt really know what they‚Äôre getting into. </p>\n<p>Let me explain what I mean. </p>\n<h2>Ridiculous Retirement Savings Targets</h2>\n<p>All over chat boards (reddit included), I see target ‚Äúearly‚Äù retirement / financial independent net worth figures of <em>at least</em> $1,000,000, many 2.5 million <em>or higher</em>. Obviously, throwing these targets around make you sound cool and everything seems achievable, but let‚Äôs dive into the numbers to see the amount of effort that would require.</p>\n<p>Let‚Äôs say you make 80K a year (even that is generous, hell, the median American salary is somewhere between $57,000 - $59,000 according to the US census: <a href=\"https://www.census.gov/newsroom/press-releases/2017/income-povery.html\">https://www.census.gov/newsroom/press-releases/2017/income-povery.html</a>). </p>\n<p>If you are the average American, you invest/save 6% of your saveable income per year: <a href=\"https://networthify.com/calculator/earlyretirement\">https://networthify.com/calculator/earlyretirement</a>. </p>\n<p>At this rate, you would need 282 years to reach $1,000,000 (6% of $59,000 is $3,540, which goes into $1,000,000 about 282 times), and a vast 520 years to reach 2.5 million. Oh, you complain, don‚Äôt forget my average 4% yearly return on investment. Ok, you‚Äôre right, let me incorporate that into the calculation: it‚Äôs only a balmy 64 years to get to $1,000,000 and a quick 86 years to get to 2.5 million‚Ä¶ -_-</p>\n<p>Yeah. Let‚Äôs let that sink in for a while‚Ä¶ </p>\n<p>Still wanna get to $1,000,000 before ‚Äúpulling the trigger‚Äù? (Another term that rubs me the wrong way - why has society defined life as the white and black ‚Äòworking‚Äô and ‚Äònot working‚Äô buckets - it‚Äôs never like that anyway).</p>\n<p>I think too often, people throw these massive numbers around, and haven‚Äôt run the numbers themselves. </p>\n<p>Listen, I‚Äôll give you the benefit of the doubt. Let‚Äôs raise your salary to CEO levels of 250K per year. With only a 6% savings rate (that means investing $15,000 a year), you still need 33 years to reach that heralded $1,000,000 target.</p>\n<p>Even at my own personal cheapo-ass-self savings rate of about 60% per year (investing about $40,000 per year), I still need 18 years to reach $1,000,000, and a whopping 31 to reach 2.5 million. Yes, too often stories are told about the alluring career paths of 30-40% salary upgrades every 5 years. These are paths usually filled with lucky opportunities, that are made out of maybe 1 in every 10,000 workers. Perhaps everyone will think they will get a 10% raise each year. I‚Äôm sorry, I think that‚Äôs a bunch of snake oil. In short:</p>\n<p><strong>Unless your savings rate is 90% or higher, net worth targets of $1,000,000 or higher are NOT possible to be included in early retirement plans.</strong></p>\n<p>I see many people proudly touting the fact they are maxing out their 401Ks ($18,500 max as of 2018) and their Roth IRAs (a meager $5,500 max) - a total of $24,000 per year. This follows a similar outlook as examples above: 25 years to $1,000,000 and a staggering 41 years for 2.5 million when compounded yearly at 4%.  So, if you are one of these ‚Äòtouters‚Äô and think you are on some miraculous road to financial independence and returns will somehow fall out of the ether, YOUR ARE WRONG! If you want a true fast pass to an early financial independence, you‚Äôd better think (you‚Äôd need to do this anyway since the 401k and Roth withdrawal is at 59.5 years of age - otherwise you‚Äôre gonna take the tax hit.) </p>\n<p>These are not lies, this is not my own smoke and mirrors show. This is pure math of constant yearly contribution with 4% year-over-year returns from this super basic calculator: <a href=\"http://www.moneychimp.com/calculator/compound_interest_calculator.htm\">http://www.moneychimp.com/calculator/compound<em>interest</em>calculator.htm</a></p>\n<p>If you wish to take the normal route, amassing wealth until you hit your big million dollar targets, well, enjoy, you will be 60-80 years old and will be sitting on a massive stack of cash that you won‚Äôt even have time to use. Pretty dumb. It sounds harsh, but I‚Äôve laid out the numbers as plan as I could.</p>\n<h2>Get Real With a More Realistic Target</h2>\n<p>Therefore, I follow in the footsteps of wise mentor Mr. Money Moustache, and propose a modest (although, as you will soon see, still surprisingly very powerful) new target net worth amount for when you can ‚Äúquit your job‚Äù (again, more on that soon) and call yourself retired / financial independent:</p>\n<p><strong>$600,000.00</strong></p>\n<p>I hear the internet laughing: ‚Äú600K?!‚Äù You all chuckle, ‚ÄúWhy, that‚Äôs just only over <em>half</em> of a big ol‚Äô million!‚Äù Well excuse me, but with 600K you can:</p>\n<ul>\n<li>Spend 100K per year for 6 years (that‚Äôs already a ridiculous amount - do you need 2 model S‚Äôs per year?)</li>\n<li>Live in a nice Brooklyn or NYC high rise apartment for 20 years (this is at 2.5K a month - even in New York, you can get a pretty nice apartment with that price tag)\nOr, if you live like me (which is why it is my ‚Äúfinancial independence‚Äù target)</li>\n<li><strong>Live for 25 years on a 24K a year budget.</strong></li>\n</ul>\n<p>Let‚Äôs stop and think about that. 25 years on a 24k budget. It will take me anyway another 11 years to get to $600,000 I‚Äôll be 37 then. That means, if I don‚Äôt do a damn thing for 25 years, my savings will completely run out when I‚Äôm 62. But I haven‚Äôt included a key variable: <em>time</em>. This 25 year figure doesn‚Äôt include the face that over those 25 years, the money I <em>don‚Äôt</em> take out of my index funds is <em>still gaining value at 4%, year over year</em>. Let‚Äôs take a moment and include that fact, and this is where the hidden power of non-million sized numbers and market comes to light:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Year 1 of FIRE: start with $600000 and take out $24000 (assume on january 1st)\n$576000 @ 4% for 1 year (~$23040 in market gains this year, add to principle for next year)\n$575040 @ 4% for 1 year (~$23002 in market gains this year, add to principle for next year)\n$551002 @ 4% for 1 year (~$22040 in market gains this year, add to principle for next year)\n$526040 @ 4% for 1 year (~$21042 in market gains this year, add to principle for next year)\n$501042 @ 4% for 1 year (~$20042 in market gains this year, add to principle for next year)\n$476042 @ 4% for 1 year (~$19042 in market gains this year, add to principle for next year)\n$451042 @ 4% for 1 year (~$18042 in market gains this year, add to principle for next year)\n$426042 @ 4% for 1 year (~$17042 in market gains this year, add to principle for next year)\n$401042 @ 4% for 1 year (~$16042 in market gains this year, add to principle for next year)\n$376042 @ 4% for 1 year (~$15042 in market gains this year, add to principle for next year)\n$351042 @ 4% for 1 year (~$14042 in market gains this year, add to principle for next year)\n$326042 @ 4% for 1 year (~$13042 in market gains this year, add to principle for next year)\n$301042 @ 4% for 1 year (~$12042 in market gains this year, add to principle for next year)\n$276042 @ 4% for 1 year (~$11042 in market gains this year, add to principle for next year)\n$251042 @ 4% for 1 year (~$10042 in market gains this year, add to principle for next year)\n$226042 @ 4% for 1 year (~$9042 in market gains this year, add to principle for next year)\n$201042 @ 4% for 1 year (~$8042 in market gains this year, add to principle for next year)\n$176042 @ 4% for 1 year (~$7042 in market gains this year, add to principle for next year)\n$151042 @ 4% for 1 year (~$6042 in market gains this year, add to principle for next year)\n$126042 @ 4% for 1 year (~$5042 in market gains this year, add to principle for next year)\n$101042 @ 4% for 1 year (~$4042 in market gains this year, add to principle for next year)\n$76042 @ 4% for 1 year (~$3042 in market gains this year, add to principle for next year)\n$51042 @ 4% for 1 year (~$2042 in market gains this year, add to principle for next year)\n$26042 @ 4% for 1 year (~$1042 in market gains this year, add to principle for next year) </code></pre>\n      </div>\n<p>Just within the first 5 years of drawing from our index funds, we squeeze out ~$109166 worth of ‚Äòextra‚Äô of market gains, simply because we didn‚Äôt draw those funds out during the large majority of time in that 24 year window‚Ä¶ indeed, this value of extra per-year market gains really tapers off over the last 10ish years of withdrawal (especially with any years of market downturns), but see the pattern here?!?</p>\n<p>Does anyone realize, when you ‚Äúretire‚Äù you don‚Äôt cash your whole damn index fund to cash!? You‚Äôre gonna miss out on 25 years of market growth!!</p>\n<p>Because you‚Äôre only cashing out 25K per year. <strong>Living frugally is key here.</strong></p>\n<h2>What it Should Truly Mean to Be Financially Independent</h2>\n<p>Let me be clear on my opinion of financial independence and early retirement: it is NOT to escape work for the rest of your life!!! It is to ensure an effectively massive cushion so that a human can focus on neat projects, whether extremely difficult, charitable, or creative, and not have to worry about the next pay check.</p>\n<p>Because, let‚Äôs be honest, if you can‚Äôt find an job opportunity or a new way to ensure income in 25 years, you‚Äôve got bigger problems than worrying about income in the first place.</p>\n<h2>A Weird  Actuary‚Äôs View of Getting to 700K</h2>\n<p>For the sake of tax purposes, losses from essentials like health insurance and rent and all that nonsense, lets bump up my 600K target to a total of 700K to be, in my terms, financially independent.\nLets think of this 700K in terms of simple exchange for services. I need:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>1 person to give me $700000 (ha!)\n7 people to give me $100000 (still ha!)\n70 people to give me $10000 (eh...)\n700 people to give me $1000 (with a _very_ nice product/service I could see this partially happening)\n7,000 people to give me $100 (alright, now we're getting there)\n70,000 people to give me $10 (if you go viral, yes)\n700,000 people to give me $1 (just for the sake of completeness)</code></pre>\n      </div>\n<p>Let‚Äôs consider returning customers:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>35 people to give me $10000 twice \n350 people to give me $1000 twice \n3500 people to give me $100 twice \n35,000 people to give me $10 twice \n350,000 people to give me $1 twice </code></pre>\n      </div>\n<p>Super awesome returning customers with a very nice brand/product/service:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>14 people to give me $10000 five times \n140 people to give me $1000 five times \n1400 people to give me $100 five times \n14000 people to give me $10 five times \n140,000 people to give me $1 five times </code></pre>\n      </div>\n<p>Yes, these numbers are <em>way</em> to simple to just apply to such a massive amount of money as $700,000‚Ä¶ but it does get you thinking‚Ä¶</p>\n<h2>My Call to Anyone Who is Listening</h2>\n<p>So that was my own personal version of what is known otherwise as ‚Äòlean‚Äô FIRE. Unless you truly know you are one of the group that can reach $1,000,000 (and you probably know who you are), don‚Äôt try and shoot for these crazy targets - I don‚Äôt think it leads to happiness, and it certainly won‚Äôt lead to any innovation or great works.</p>\n<p>So my final call to anyone out there who will listen is this: build your 600K foundation, then move to follow your true passions - even better when that passion can generate more income, and I think you‚Äôll find it does when you spend years building something. </p>\n<p>Remember, with moderate living you have 20-25 years cushion to ride out on and BUILD SOMETHING! Start a charity, build massive works of art, stop global warming, save the world, I don‚Äôt care! Whatever you do, don‚Äôt sit in an office doing something you hate just because you are <em>scared</em>. Remember, you won‚Äôt need ANY income for 2.5 decades. The only question remains is:</p>\n<p>What will you build?</p>\n<p>-Chris</p>"},{"id":"transformer-remark-markdown-html-141b09b0a4b235aefe37b4421a77d491-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>Slack Bot!</h2>\n<p>You may have read <a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/\">Part 3</a> of <a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-1-of-roadmap-and-links-to-process/\">my giant automation undertaking</a> about. Maybe not.</p>\n<p>Anyway, near the bottom of <a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/\">Part 3</a>, I discuss a <code>messageHub()</code> function that sends a string message to all the places I want it to, one of them being a Slack Bot. This is actually really, really easy to put together. The heroes at Slack are definitely doing a nice job with ease of use for developers.</p>\n<h2>Step 1: Set Up Your Slack Bot</h2>\n<ul>\n<li>Go to ‚ÄòYour Apps‚Äô on <a href=\"https://api.slack.com\">https://api.slack.com</a>: <a href=\"https://api.slack.com/apps\">https://api.slack.com/apps</a></li>\n<li>Click the green button ‚ÄòCreate New App‚Äô</li>\n<li>Provide a name and pick a workspace you want that bot</li>\n<li>Under the ‚ÄòAdd features and functionality‚Äô, click ‚ÄòIncoming Webhooks‚Äô</li>\n<li>Click the switch to turn the service on</li>\n<li>Click Add New Webhook to Workspace</li>\n<li>Select a channel from your slack workspace you want the bot to post to</li>\n<li>copy the <a href=\"https://hooks.slack.com/blahblahblahblah\">https://hooks.slack.com/blahblahblahblah</a> endpoint!</li>\n</ul>\n<h2>Step 2: Use POST in Nodejs with Your Link</h2>\n<p>Now that you have your POST link, sending a message as a slack bot is as easy as sending JSON with a <code>text</code> key filled with your desired message string.</p>\n<p>Using the axios library for example, that is as simple as:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_SLACK_BOT_WEBHOOK_URL<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hello Word\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<h2>Step 3: Just kidding, there is no step 3!</h2>\n<p>That‚Äôs really all there is too it. Of course you can build out more features, but this is really the jist of it. I‚Äôll be working on the other direction over the next few weeks - instead of the bot sending information, sending, or asking the bot for information. This will be a very nice way of interacting with my server without the command line :)</p>"},{"id":"transformer-remark-markdown-html-45cf1b5aa8abca746ecb39a1aa12c5e4-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>Alright, let‚Äôs do a bit of applied stuff today.</p>\n<h1>Backstory</h1>\n<p>For a long time, I had a ticket open for our IT team (I am likewise in the SAP team) for an automatic job that would restart a certain task on a Windows server we had - for reasons we still don‚Äôt know yet, this particular service would state that it was running, when in fact the job it was supposed to be orchestrating was clearly not running. We were able to verify if the service wasn‚Äôt working properly by pinging an RFC node. If the RFC ping returned with an error, then we knew the service was not working - don‚Äôt worry, this RFC ping will come into the code later.</p>\n<p>One lazy Friday when I didn‚Äôt have much to do, I was brainstorming if it was possible that maybe I could take this ticket into my own hands, writing something on our ABAP stack that could do the trick.</p>\n<h1>The Problem</h1>\n<p>I knew at least that I had to issue specific commands to the command line. That much I already knew how to do - I had used custom command services in SAP/ABAP with transaction SM69 before. The hard thing that I got stuck with: how could I, from our SAP application server, issue a specific command, to the Service Control Manager, to a specific service? Whew. Still with me? With help from one of our basic team members, we discovered that as it turns out, Windows has a very nice command for exactly that.</p>\n<p>It‚Äôs called <code>sc</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>C:\\>sc\nDESCRIPTION:\n        SC is a command line program used for communicating with the\n        Service Control Manager and services.\nUSAGE:\n        sc <server> [command] [service name] <option1> <option2>...\n\n\n        The option <server> has the form \"\\\\ServerName\"\n        Further help on commands can be obtained by typing: \"sc [command]\"\n        Commands:\n          query-----------Queries the status for a service, or enumerates the status for types of services.\n          queryex---------Queries the extended status for a service, or enumerates the status for types of services.\n          start-----------Starts a service.\n          pause-----------Sends a PAUSE control request to a service.\n          interrogate-----Sends an INTERROGATE control request to a service.\n          continue--------Sends a CONTINUE control request to a service.\n          stop------------Sends a STOP request to a service.\n          config----------Changes the configuration of a service (persistent).\n          description-----Changes the description of a service.\n          failure---------Changes the actions taken by a service upon failure.\n          failureflag-----Changes the failure actions flag of a service.\n          sidtype---------Changes the service SID type of a service.\n          privs-----------Changes the required privileges of a service.\n          managedaccount--Changes the service to mark the service account password as managed by LSA.\n          qc--------------Queries the configuration information for a service.\n          qdescription----Queries the description for a service.\n          qfailure--------Queries the actions taken by a service upon failure.\n          qfailureflag----Queries the failure actions flag of a service.\n          qsidtype--------Queries the service SID type of a service.\n          qprivs----------Queries the required privileges of a service.\n          qtriggerinfo----Queries the trigger parameters of a service.\n          qpreferrednode--Queries the preferred NUMA node of a service.\n          qrunlevel-------Queries the run level of a service.\n          qmanagedaccount-Queries whether a services uses an account with a password managed by LSA.\n          qprotection-----Queries the process protection level of a service.\n          delete----------Deletes a service (from the registry).\n          create----------Creates a service. (adds it to the registry).\n          control---------Sends a control to a service.\n          sdshow----------Displays a service's security descriptor.\n          sdset-----------Sets a service's security descriptor.\n          showsid---------Displays the service SID string corresponding to an arbitrary name.\n          triggerinfo-----Configures the trigger parameters of a service.\n          preferrednode---Sets the preferred NUMA node of a service.\n          runlevel--------Sets the run level of a service.\n          GetDisplayName--Gets the DisplayName for a service.\n          GetKeyName------Gets the ServiceKeyName for a service.\n          EnumDepend------Enumerates Service Dependencies.\n\n        The following commands don't require a service name:\n        sc <server> <command> <option>\n          boot------------(ok | bad) Indicates whether the last boot should be saved as the last-known-good boot configuration\n          Lock------------Locks the Service Database\n          QueryLock-------Queries the LockStatus for the SCManager Database\nEXAMPLE:\n        sc start MyService\n\nWould you like to see help for the QUERY and QUERYEX commands? [ y | n ]:</code></pre>\n      </div>\n<p>Wow. That‚Äôs a monster of a command documentation. Let‚Äôs break down what we need.</p>\n<ul>\n<li>The server name. We know that (for this example, I‚Äôm going to just call it AWESOMESERVER01). But wait! There‚Äôs a gotchya, we will need to write it like:</li>\n</ul>\n<p><code>\\\\AWESOMESERVER01</code></p>\n<p>That‚Äôs not a special setting for server names that we have at my company or anything like that, that‚Äôs part of the <code>sc</code> command. Notice the line in the documentation that says exactly that:</p>\n<blockquote>\n<blockquote>\n<p>The option <server> has the form ‚Äù\\\\ServerName‚Äù</p>\n</blockquote>\n</blockquote>\n<p>Okay, now for our service name. Again, for instruction purposes of the command and for privacy sake, I‚Äôm going to call our service <code>ServiceName even with Whitespace</code>.</p>\n<p>Okay, what do I need to send as a command? What command do we need? Let‚Äôs check out that wall of text documentation:</p>\n<blockquote>\n<blockquote>\n<p>stop------------Sends a STOP request to a service.</p>\n</blockquote>\n</blockquote>\n<p>Yep, that sounds about as right as you can get. Oh also, hold your thoughts on this one:</p>\n<blockquote>\n<blockquote>\n<p>Commands:\n‚Ä¶\nstart-----------Starts a service.</p>\n</blockquote>\n</blockquote>\n<p>That will be useful later, too.</p>\n<p>Alright‚Ä¶ Server name? Check. Service Name? Check. Command name(s)? Check. So, what do we get as a command for our efforts? It looks like this:</p>\n<p><code>sc \\\\AWESOMESERVER01 start \"ServiceName even with Whitespace\"</code></p>\n<p>In order for this to be a true <em>restart</em> of the service, we would have to issue a stop/start command pair on the service:</p>\n<p><code>sc \\\\AWESOMESERVER01 stop \"ServiceName even with Whitespace\"</code><br>\n<code>sc \\\\AWESOMESERVER01 start \"ServiceName even with Whitespace\"</code></p>\n<p>How do we do that in ABAP? Well, to run SM69 commands programmatically, we have the tasty function module <code>SXPG_COMMAND_EXECUTE</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    commandname                   <span class=\"token operator\">=</span> gv_commandname\n    additional_parameters         <span class=\"token operator\">=</span> gv_additional_parameters\n    operatingsystem               <span class=\"token operator\">=</span> gv_operatingsystem\n  <span class=\"token keyword\">TABLES</span>\n    exec_protocol                 <span class=\"token operator\">=</span> gt_result\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    no_permission                 <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    command_not_found             <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    parameters_too_long           <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n    security_risk                 <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n    wrong_check_call_interface    <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n    program_start_error           <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n    program_termination_error     <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n    x_error                       <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n    parameter_expected            <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n    too_many_parameters           <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n    illegal_command               <span class=\"token operator\">=</span> <span class=\"token number\">11</span>\n    wrong_asynchronous_parameters <span class=\"token operator\">=</span> <span class=\"token number\">12</span>\n    cant_enq_tbtco_entry          <span class=\"token operator\">=</span> <span class=\"token number\">13</span>\n    jobcount_generation_error     <span class=\"token operator\">=</span> <span class=\"token number\">14</span>\n    <span class=\"token keyword\">OTHERS</span>                        <span class=\"token operator\">=</span> <span class=\"token number\">15</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>I‚Äôll just say I maintained the two commands in SM69 as <code>Z_MY_SUPER_AWESOME_COMMAND_START</code> and <code>Z_MY_SUPER_AWESOME_COMMAND_STOP</code>.</p>\n<p>So, all that‚Äôs left is to check if the service is not responding. As I summarized above, if the Windows service was broken, the RFC node that talked to it would also be broken. (i.e. pinging it would not work). An RFC node is easy enough to test with function module <code>RFC_PING</code>.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'RFC_PING'</span>\n  <span class=\"token keyword\">DESTINATION</span> <span class=\"token string\">'Z_BROKEN_RFC_DESTINATION'</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>Easy enough. If <code>sy-subrc</code> is of value 1 or 2, then it means indeed, that our <code>Z_BROKEN_RFC_DESTINATION</code> is indeed broken.</p>\n<p>So if it turns out this service is not responding, we call the command pair with function module <code>SXPG_COMMAND_EXECUTE</code>, check <code>sy-subrc</code>, and we are done! The total code looks like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> Z_RESTART_SERVICE<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Report:  Z_RESTART_SERVICE                                          *</span>\n<span class=\"token comment\">*&amp; Author: Chris Frewin                                                *</span>\n<span class=\"token comment\">*&amp; Creation Date: 27.10.2017                                           *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Requester:                                                          *</span>\n<span class=\"token comment\">*&amp; Chris Frewin - a report that restarts a windows service             *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Changes:                                                            *</span>\n<span class=\"token comment\">*&amp; Chris Frewin      2017.12.13 - First version                        *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n\n<span class=\"token eol-comment comment\">\" Check RFC destination Z_BROKEN_RFC_DESTINATION - if it hangs or returns error, try to restart it</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'RFC_PING'</span>\n  <span class=\"token keyword\">DESTINATION</span> <span class=\"token string\">'Z_BROKEN_RFC_DESTINATION'</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>subrc<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION with SY-SUBRC = 1: \"system_failure\" Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION with SY-SUBRC = 2: \"communication_failure\" Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WHEN</span> <span class=\"token keyword\">OTHERS</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Ping Test RFC Destination Z_BROKEN_RFC_DESTINATION is offline or not functioning properly! Trying to restart the service...'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n  <span class=\"token eol-comment comment\">\" restart the service with a stop/start combo</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      commandname <span class=\"token operator\">=</span> <span class=\"token string\">'Z_MY_SUPER_AWESOME_COMMAND_STOP'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Error with the start command - Z_MY_SUPER_AWESOME_COMMAND_STOP command!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SXPG_COMMAND_EXECUTE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      commandname <span class=\"token operator\">=</span> <span class=\"token string\">'Z_MY_SUPER_AWESOME_COMMAND_START'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Error with the stop command - Z_MY_SUPER_AWESOME_COMMAND_START command!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Service successfully newly started!'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>We set this report up as a batch job to run every 5 minutes, and the ticket was resolved üòÑ</p>\n<h1>Review</h1>\n<p>As a review, we determined the specific commands needed to be sent to the Windows Service Control Manager, maintained the needed commands in transaction SM69, and wrote a report that we ran as a batch job!</p>\n<h1>Notes and Comments</h1>\n<p>I hope everyone enjoyed this post and learned a thing or two. I‚Äôm going to be posting a lot more ABAP as well as SAPUI5 content in the coming months. I‚Äôve found that the learning curve for SAPUI5 is a lot higher than other frontend frameworks like React, Vue, or Cycle. I‚Äôve done specialized projects with SAPUI5 is both the EWM and PP modules - There is A LOT of really cool stuff you can do, (especially in EWM) with WebSockets, statistics, and SAPUI5. The bottom line is, I‚Äôve got some great content in the coming months for everyone!</p>\n<p>Cheers everyone! üç∫</p>\n<p><em>Intellectual property/privacy disclaimer: the exact source code and use case have been modified from the real use case at the company I work for, <a href=\"https://www.ospelt.com/en/ospelt/info/home.html\">Ospelt</a>.</em></p>"},{"id":"transformer-remark-markdown-html-f32dbd6a388743a4994ac69eb70d4ee1-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Bash Profile / Bashrc - Aliases, Terminal Prompt, Terminal Prompt Colors, the Works to Get Your Workflow to God-Like Levels!</h1>\n<p>This post is gonna get right to it - if you use machines that have a Bash terminal, you should build custom aliases to get around faster, do stuff faster, or just plain have a bit of fun! (you don‚Äôt necessarily have to use mine, but these aliases and functions could get you started on your own machine - and hey, besides, my aliases are pretty intuitive right? üòÑ)</p>\n<p>For the following machines, the alias file can be found in these locations:</p>\n<p>Mac: <code>~/.bash_profile</code></p>\n<p>Linux: <code>~/.bashrc</code></p>\n<p>Raspberry Pi (with raspbian and other linux style builds): <code>~/.bashrc</code></p>\n<p>Here‚Äôs what I‚Äôve got (compiled and selected as only the tastiest after 5+ of full stack dev work! oh also, the IPs for SSH and passwords for my databases / APIs have been <em>clearly</em> modified, they won‚Äôt work - what do you think I am, an idiot? üòÇüòÇüòÇ )</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code><span class=\"token comment\"># ~/.bashrc: executed by bash(1) for non-login shells.</span>\n<span class=\"token comment\"># see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)</span>\n<span class=\"token comment\"># for examples</span>\n\n<span class=\"token comment\"># If not running interactively, don't do anything</span>\n<span class=\"token keyword\">case</span> $- <span class=\"token keyword\">in</span>\n    *i*<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n      *<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\nesac\n\n<span class=\"token comment\"># don't put duplicate lines or lines starting with space in the history.</span>\n<span class=\"token comment\"># See bash(1) for more options</span>\nHISTCONTROL<span class=\"token operator\">=</span>ignoreboth\n\n<span class=\"token comment\"># append to the history file, don't overwrite it</span>\n<span class=\"token function\">shopt</span> -s histappend\n\n<span class=\"token comment\"># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>\nHISTSIZE<span class=\"token operator\">=</span>1000\nHISTFILESIZE<span class=\"token operator\">=</span>2000\n\n<span class=\"token comment\"># check the window size after each command and, if necessary,</span>\n<span class=\"token comment\"># update the values of LINES and COLUMNS.</span>\n<span class=\"token function\">shopt</span> -s checkwinsize\n\n<span class=\"token comment\"># If set, the pattern \"**\" used in a pathname expansion context will</span>\n<span class=\"token comment\"># match all files and zero or more directories and subdirectories.</span>\n<span class=\"token comment\">#shopt -s globstar</span>\n\n<span class=\"token comment\"># make less more friendly for non-text input files, see lesspipe(1)</span>\n<span class=\"token punctuation\">[</span> -x /usr/bin/lesspipe <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>SHELL<span class=\"token operator\">=</span>/bin/sh lesspipe<span class=\"token variable\">)</span></span>\"</span>\n\n<span class=\"token comment\"># fancy directory prompt</span>\nPS1<span class=\"token operator\">=</span><span class=\"token string\">'\\[\\033[01;32m\\]\\u@\\h\\[\\033[01;34m\\] [\\w]\\[\\033[00m\\] '</span>\n\n<span class=\"token comment\"># Add an \"alert\" alias for long running commands.  Use like so:</span>\n<span class=\"token comment\">#   sleep 10; alert</span>\n<span class=\"token function\">alias</span> alert<span class=\"token operator\">=</span><span class=\"token string\">'notify-send --urgency=low -i \"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token punctuation\">[</span> $? <span class=\"token operator\">=</span> 0 <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">echo</span> terminal <span class=\"token operator\">||</span> <span class=\"token keyword\">echo</span> error<span class=\"token variable\">)</span></span>\" \"$(history|tail -n1|sed -e '</span>\\<span class=\"token string\">''</span>s/^\\s*<span class=\"token punctuation\">[</span>0-9<span class=\"token punctuation\">]</span>\\+\\s*//<span class=\"token punctuation\">;</span>s/<span class=\"token punctuation\">[</span><span class=\"token punctuation\">;</span><span class=\"token operator\">&amp;</span><span class=\"token operator\">|</span><span class=\"token punctuation\">]</span>\\s*alert$//<span class=\"token string\">'\\''</span><span class=\"token punctuation\">)</span><span class=\"token string\">\"'\n\n# Alias definitions.\n# You may want to put all your additions into a separate file like\n# ~/.bash_aliases, instead of adding them here directly.\n# See /usr/share/doc/bash-doc/examples in the bash-doc package.\n\nif [ -f ~/.bash_aliases ]; then\n    . ~/.bash_aliases\nfi\n\n# enable programmable completion features (you don't need to enable\n# this, if it's already enabled in /etc/bash.bashrc and /etc/profile\n# sources /etc/bash.bashrc).\nif ! shopt -oq posix; then\n  if [ -f /usr/share/bash-completion/bash_completion ]; then\n    . /usr/share/bash-completion/bash_completion\n  elif [ -f /etc/bash_completion ]; then\n    . /etc/bash_completion\n  fi\nfi\n\n\n##########################################\n### BEGIN CUSTOM ALIASES AND FUNCTIONS ###\n##########################################\n\n###########\n# aliases #\n###########\n\n# productivity\nalias prof='atom /Users/chris/.bash_profile' # opens .bash_profile for editing\nalias s='source /Users/chris/.bash_profile' # sources .bash_profile (should be done every time after changing profile)\nalias lk='ls -lhkart'\nalias show='open .'\nalias back='cd ..'\nalias prev='cd -'\nalias home='cd'\nalias boot='sudo reboot'\nalias shut='sudo shutdown -h now'\nalias hidedesk='gsettings set org.gnome.desktop.background show-desktop-icons false'\nalias showdesk='gsettings set org.gnome.desktop.background show-desktop-icons true'\nalias de='xdg-open /Users/chris/Desktop/DE.desktop'\nalias en='xdg-open /Users/chris/Desktop/EN.desktop'\nalias duo='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=ekajaiihjemkjldcienbdonodmbiklnb'\nalias whats='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=hnpfjngllnobngcgfapefoaidbinmjnm'\nalias sputnik='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias robo='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias roboton='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=dailkpkcmcieildpjbiinmpllifajeoh'\nalias slack='/opt/google/chrome/google-chrome --profile-directory=Default --app-id=niopebapoomkfgpbhanlddcancjkjnkl'\nalias sd='down;show;prev'\nalias ipy='ipython'\nalias py='python'\nalias youtubemp3='youtube-dl --extract-audio --audio-format mp3'\nalias getlines='find . -name \"</span>*.*\" <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">wc</span> -l<span class=\"token string\">'\nalias disabledchromium='</span>chromium-browser --disable-web-security --user-data-dir<span class=\"token string\">'\nalias phpserver='</span>php -S localhost:8000<span class=\"token string\">'\nalias phpserver2='</span>php -S localhost:8001<span class=\"token string\">'\nalias serv='</span><span class=\"token function\">cd</span><span class=\"token punctuation\">;</span> <span class=\"token function\">cd</span> personalwebsite<span class=\"token punctuation\">;</span> phpserver<span class=\"token string\">'\nalias feldkirch='</span>/opt/google/chrome/google-chrome --profile-directory<span class=\"token operator\">=</span>Default --app-id<span class=\"token operator\">=</span>mnmkkpdekllmopechbcfhhhdojafalin<span class=\"token string\">'\nalias coderesources='</span><span class=\"token function\">cd</span> /Users/chris/Documents/coderesources<span class=\"token string\">'\nalias codestuff='</span><span class=\"token function\">cd</span> /Users/chris/Documents/codestuff<span class=\"token string\">'\nalias gladysroot='</span><span class=\"token function\">cd</span> /usr/local/lib/node_modules/gladys<span class=\"token string\">'\nalias studio='</span>sh /usr/local/android-studio/bin/studio.sh<span class=\"token string\">'\nalias pl='</span>perl<span class=\"token string\">'\nalias haskell='</span>ghci<span class=\"token string\">'\nalias nexus='</span>emulator @Nexus_5X_API_26<span class=\"token string\">'\nalias iphone5='</span>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app/Contents/MacOS/Simulator -CurrentDeviceUDID EF585900-1164-4AF9-90FD-26B1DEC3DB66<span class=\"token string\">'\nalias iphone6='</span>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app/Contents/MacOS/Simulator -CurrentDeviceUDID 3DC7A4A6-489F-4305-AFE8-53A8D1302E65<span class=\"token string\">'\nalias nodecode='</span><span class=\"token function\">cd</span> /Users/chris/Documents/codestuff/node<span class=\"token string\">'\nalias gittelluser='</span><span class=\"token function\">git</span> config --global user.email<span class=\"token string\">'\nalias nodesass='</span>node-sass -wo ./src/styles ./src/styles-scss<span class=\"token string\">'\nalias pj='</span><span class=\"token function\">cd</span> /Users/chris/projects<span class=\"token string\">'\nalias heroku-skillscout='</span>heroku git:remote -a skillscout<span class=\"token punctuation\">;</span><span class=\"token function\">git</span> commit <span class=\"token keyword\">.</span><span class=\"token punctuation\">;</span><span class=\"token function\">git</span> push heroku master<span class=\"token string\">'\nalias usbs='</span><span class=\"token function\">cd</span> /Volumes/<span class=\"token string\">'\nalias art='</span><span class=\"token function\">cd</span> /Users/chris/Documents/Art<span class=\"token string\">'\nalias datasets='</span><span class=\"token function\">cd</span> /Users/chris/datasets<span class=\"token string\">'\nalias npmgloballist='</span><span class=\"token function\">npm</span> list -g --depth<span class=\"token operator\">=</span>0<span class=\"token string\">'\n\n# folder locations\nalias cfpaper='</span><span class=\"token function\">cd</span> /Users/chris/cf_tracer<span class=\"token string\">'\nalias down='</span><span class=\"token function\">cd</span> /Users/chris/Downloads<span class=\"token string\">'\nalias desk='</span><span class=\"token function\">cd</span> /Users/chris/Desktop<span class=\"token string\">'\nalias sap='</span><span class=\"token function\">cd</span> /Users/chris/Documents/sap<span class=\"token string\">'\nalias pic='</span><span class=\"token function\">cd</span> /Users/chris/Pictures<span class=\"token string\">'\nalias trans='</span>ding<span class=\"token string\">'\nalias lookup='</span><span class=\"token function\">grep</span> -iR<span class=\"token string\">'\nalias skimonitor='</span><span class=\"token function\">cd</span> /Users/chris/personalwebsite/projects/skimonitor/skimonitor/webapp<span class=\"token string\">'\nalias raphelper='</span><span class=\"token function\">cd</span> /Users/chris/personalwebsite/projects/raphelper/raphelper/webapp<span class=\"token string\">'\nalias ui5sdk='</span><span class=\"token function\">cd</span> /Users/chris/Documents/OpenUI5/openui5-sdk-1.38.5<span class=\"token string\">'\nalias play='</span><span class=\"token function\">cd</span> /Users/chris/playground<span class=\"token string\">'\n\n# Pi Logins - make sure to change IP when router IP changes!\nalias pilocal='</span><span class=\"token function\">ssh</span> pi@192.168.0.16<span class=\"token string\">'\nalias pi='</span><span class=\"token function\">ssh</span> pi@123.123.123.123 -p 22<span class=\"token string\">'\nalias pidesk='</span><span class=\"token function\">ssh</span> -XC pi@192.168.0.16 x2x -north -to :0.0<span class=\"token string\">'\n\n# Linux Server Logins - make sure to change IP when router IP changes!\nalias delllocal='</span><span class=\"token function\">ssh</span> chris@192.168.0.20 -p 55555<span class=\"token string\">'\nalias dell='</span><span class=\"token function\">ssh</span> chris@123.123.123.123 -p 55555<span class=\"token string\">'\n\n# Yoga Raiblocks\nalias yoga='</span><span class=\"token function\">ssh</span> chris@192.168.0.12 -p 44444<span class=\"token string\">'\n\n# Devon'</span>s Server\n<span class=\"token function\">alias</span> stock<span class=\"token operator\">=</span><span class=\"token string\">'ssh devonsserverwhichiwontshowyouthenameorhost@host.com -p 24'</span>\n\n<span class=\"token function\">alias</span> unlockiphone<span class=\"token operator\">=</span><span class=\"token string\">'sudo chmod 777 /var/lib/lockdown'</span>\n\n<span class=\"token function\">alias</span> utorrent<span class=\"token operator\">=</span><span class=\"token string\">'utserver -settingspath /opt/utorrent-server-alpha-v3_3/'</span>\n\n<span class=\"token function\">alias</span> vncconnect<span class=\"token operator\">=</span><span class=\"token string\">'ssh -L 5900:localhost:5900 pi@123.123.123.123 -p 1234'</span>\n\n<span class=\"token keyword\">function</span> droiddev<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    galaxy<span class=\"token punctuation\">;</span>\n    react-native start<span class=\"token punctuation\">;</span>\n    react-native run-android<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> vid2mp4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec mpeg4 <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> video2x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.50*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># speed up input video by 4, export as 'outfast.ogv'</span>\n<span class=\"token keyword\">function</span> video4x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.25*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> video10x<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -i <span class=\"token variable\">$1</span> -vcodec h264 -an -vf <span class=\"token string\">\"fps=60, setpts=0.1*PTS\"</span> <span class=\"token variable\">$2</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># put bdc data in correct format</span>\n<span class=\"token keyword\">function</span> bdc<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">awk</span> <span class=\"token string\">'{for(i=1;i&lt;=NF;i++)printf(\"\\\"%s\\\" \",<span class=\"token variable\">$i</span>);printf(\"\\n\");}'</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">></span> temp1<span class=\"token punctuation\">;</span> <span class=\"token comment\"># wrap all words in double quotes</span>\n    <span class=\"token function\">cat</span> temp1 <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">'\"'</span> <span class=\"token string\">\"'\"</span> <span class=\"token operator\">></span> temp2<span class=\"token punctuation\">;</span> <span class=\"token comment\"># translate all double quotes to single quotes</span>\n    <span class=\"token function\">awk</span> <span class=\"token string\">'{ if (<span class=\"token variable\">$3</span> != \"\") print \"PERFORM bdcdaten USING:\\n\\t\" <span class=\"token variable\">$3</span> \" \" <span class=\"token variable\">$1</span> \" \" <span class=\"token variable\">$2</span> \",\"; else print \"\\t\\t\" \"\\47 \\47 \" <span class=\"token variable\">$0</span>\",\" }'</span> temp2 <span class=\"token operator\">></span> temp3<span class=\"token punctuation\">;</span> <span class=\"token comment\"># if there is no 3rd argument print PERFORM statement</span>\n    <span class=\"token comment\"># cat temp3 | sed 's/ ,/,/' > bdcoutput.txt;</span>\n    <span class=\"token comment\"># rm temp1;</span>\n    <span class=\"token comment\"># rm temp2;</span>\n    <span class=\"token comment\"># rm temp3;</span>\n    <span class=\"token comment\"># echo \"Done.\";</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># $2 and $3 MUST be in '01:00:00' format, $1 and $4 are file names</span>\n<span class=\"token keyword\">function</span> splitvid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    ffmpeg -v quiet -y -i <span class=\"token variable\">$1</span> -vcodec copy -acodec copy -ss <span class=\"token variable\">$2</span> -t <span class=\"token variable\">$3</span> -sn <span class=\"token variable\">$4</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> fm4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"on\"</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">then</span>\n            <span class=\"token function\">ssh</span> pi@192.168.0.16 <span class=\"token string\">'tmux; fm4; exit; exit'</span>\n    <span class=\"token keyword\">fi</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"off\"</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">then</span>\n            <span class=\"token function\">ssh</span> pi@192.168.0.16 <span class=\"token string\">'tmux kill-session'</span>\n    <span class=\"token keyword\">fi</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> lime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    subl <span class=\"token variable\">$1</span> <span class=\"token operator\">&amp;</span> <span class=\"token comment\">#  '&amp;' push everything to background</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> mynetworks<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\"># first lists all networks, then grep sorts for just the id and psk stuff. finally sed puts a space between each set</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /etc/NetworkManager/system-connections/* <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -Ew <span class=\"token string\">'id|psk'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">'key'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'/psk/s/$/ \\n/'</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string\">' '</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> fixjunkynetworking<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">sudo</span> modprobe -r rt2800pci\n    <span class=\"token function\">sudo</span> modprobe -v rt2800pci nohwcrypt<span class=\"token operator\">=</span>1\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> pushall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> commit --all\n    <span class=\"token function\">sudo</span> <span class=\"token function\">git</span> push --all\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> showusb<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">cd</span> /media/chris/Banner\n    show\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># some git functinos because they're too damn long to remember</span>\n<span class=\"token keyword\">function</span> gitchguser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">git</span> config --global user.email <span class=\"token variable\">$1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># personal improvement of this gist: https://gist.github.com/dergachev/4627207</span>\n<span class=\"token keyword\">function</span> mov2gif<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  width<span class=\"token operator\">=</span><span class=\"token punctuation\">$(</span>mediainfo <span class=\"token variable\">$1</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Width <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">' Width:pixels'</span> <span class=\"token string\">' '</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/ //g'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># get the height/width metadata, grep out the spaces and crap</span>\n  height<span class=\"token operator\">=</span><span class=\"token punctuation\">$(</span>mediainfo <span class=\"token variable\">$1</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Height <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">' Height:pixels'</span> <span class=\"token string\">' '</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/ //g'</span><span class=\"token punctuation\">)</span>\n  dimensionString<span class=\"token operator\">=</span><span class=\"token variable\">$width</span> <span class=\"token comment\"># build a string to pass to the ffmpeg command</span>\n  dimensionString+<span class=\"token operator\">=</span><span class=\"token string\">\"x\"</span>\n  dimensionString+<span class=\"token operator\">=</span><span class=\"token variable\">$height</span>\n  <span class=\"token keyword\">echo</span> <span class=\"token string\">\"Dimension determined as:\"</span> <span class=\"token variable\">$dimensionString</span> <span class=\"token comment\"># notify user of dimensions found</span>\n  ffmpeg -i -nostats -loglevel 0 <span class=\"token variable\">$1</span> -s <span class=\"token variable\">$dimensionString</span> -pix_fmt rgb24 -r 10 -f gif - <span class=\"token operator\">|</span> gifsicle --optimize<span class=\"token operator\">=</span>3 --delay<span class=\"token operator\">=</span>3 <span class=\"token operator\">></span> <span class=\"token variable\">$1</span>.gif <span class=\"token comment\"># silent mode</span>\n  <span class=\"token keyword\">echo</span> <span class=\"token string\">\"Saved gif as: <span class=\"token variable\">$1</span>.gif\"</span> <span class=\"token comment\"># saved gif name</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">#############################</span>\n<span class=\"token comment\">### ENVIRONMENT VARIABLES ###</span>\n<span class=\"token comment\">#############################</span>\n\n<span class=\"token comment\"># keys for twitter access keys</span>\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_SECRET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_ACCESS_TOKEN<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_CONSUMER_ACCESS_TOKEN_SECRET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> EGGHEAD_TWITTER_BOT_NASA_API_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># google maps geocode API</span>\n<span class=\"token function\">export</span> SKILLSCOUT_GOOGLE_GEOCODING_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout private postgresql tunnel server (local)</span>\n<span class=\"token function\">export</span> SERVER_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SERVER_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout private postgresql credentials</span>\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> PRIVATE_RAIBLOCKS_DB_PORT<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout website heroku postgresql DB</span>\n<span class=\"token function\">export</span> SKILLSCOUT_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout website mongo mLab DB</span>\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_MONGODB_DB_NAME<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># skillscout campaign - emails DB (heroku postrgesql)</span>\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_NAME<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_PORT<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> SKILLSCOUT_CAMPAIGN_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># nlpchamps - postgresql database (just saving member's emails for now)</span>\n<span class=\"token function\">export</span> NLP_CHAMPS_DB<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_USER<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_HOST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> NLP_CHAMPS_DB_PORT<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># export colors for mac</span>\n<span class=\"token function\">export</span> CLICOLOR<span class=\"token operator\">=</span>1\n<span class=\"token function\">export</span> LSCOLORS<span class=\"token operator\">=</span>GxFxCxDxBxegedabagaced\n\n<span class=\"token comment\"># android paths</span>\n<span class=\"token function\">export</span> ANDROID_HOME<span class=\"token operator\">=</span>/Users/<span class=\"token variable\">$USER</span>/Library/Android/sdk\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">${PATH}</span><span class=\"token keyword\">:</span><span class=\"token variable\">${ANDROID_HOME}</span>/emulator\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">${PATH}</span><span class=\"token keyword\">:</span><span class=\"token variable\">${ANDROID_HOME}</span>/tools\n\n<span class=\"token comment\"># default editor</span>\n<span class=\"token function\">export</span> EDITOR<span class=\"token operator\">=</span>/usr/bin/nano\n\n<span class=\"token comment\"># fucking homebrew</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span>/usr/local/bin:/usr/local/sbin:~/bin:<span class=\"token variable\">$PATH</span> <span class=\"token comment\"># for proper ipython linking</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/opt/python/libexec/bin:<span class=\"token variable\">$PATH</span>\"</span> <span class=\"token comment\"># for proper python exectuble</span>\n\n<span class=\"token function\">export</span> COSMIC_BUCKET<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> COSMIC_READ_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> COSMIC_WRITE_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># stripe payments key (TODO: copy to dell server!)</span>\n<span class=\"token function\">export</span> STRIPE_SECRET_KEY<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> STRIPE_PUBLISHABLE_KEY<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># stripe payments test</span>\n<span class=\"token function\">export</span> STRIPE_SECRET_KEY_TEST<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> STRIPE_PUBLISHABLE_KEY_TEST<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># raspberry pi password and user/host</span>\n<span class=\"token function\">export</span> RASPBERRY_PI_SSH_PASSWORD<span class=\"token operator\">=</span>lulz123456\n<span class=\"token function\">export</span> RASPBERRY_PI_USER_AND_HOST<span class=\"token operator\">=</span>lulz123456\n\n<span class=\"token comment\"># npm packages</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$HOME</span>/.npm-packages/bin:<span class=\"token variable\">$PATH</span>\"</span>\n\n<span class=\"token comment\"># google cloud platform</span>\n<span class=\"token function\">source</span> <span class=\"token string\">'/Users/chris/opensource/google-cloud-sdk/completion.bash.inc'</span>\n<span class=\"token function\">source</span> <span class=\"token string\">'/Users/chris/opensource/google-cloud-sdk/path.bash.inc'</span>\n\n<span class=\"token comment\"># added by Anaconda2 5.0.1 installer</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"/Users/chris/anaconda2/bin:<span class=\"token variable\">$PATH</span>\"</span>\n\n<span class=\"token function\">export</span> NVM_DIR<span class=\"token operator\">=</span><span class=\"token string\">\"/Users/chris/.nvm\"</span>\n<span class=\"token punctuation\">[</span> -s <span class=\"token string\">\"<span class=\"token variable\">$NVM_DIR</span>/nvm.sh\"</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">.</span> <span class=\"token string\">\"<span class=\"token variable\">$NVM_DIR</span>/nvm.sh\"</span>  <span class=\"token comment\"># This loads nvm</span>\n\n<span class=\"token comment\"># TORCH</span>\n<span class=\"token function\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token variable\">$PATH</span>:/Users/chris/torch/install/bin\n</code></pre>\n      </div>\n<p>For those sharp eagle-eyed readers out there (actually, I now realize they are the very first aliases in my profile, you wouldn‚Äôt have to be that ‚Äòsharp‚Äô! üòÇ), you may have noticed I even have an alias for opening the bash profile itself (<code>prof</code>) and sourcing the profile (<code>s</code>) - this adds any of the changes you made in your bash profile - any new commands and whatnot - into the current terminal):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code><span class=\"token function\">alias</span> prof<span class=\"token operator\">=</span><span class=\"token string\">'atom /Users/chris/.bash_profile'</span> <span class=\"token comment\"># opens .bash_profile for editing</span>\n<span class=\"token function\">alias</span> s<span class=\"token operator\">=</span><span class=\"token string\">'source /Users/chris/.bash_profile'</span> <span class=\"token comment\"># sources .bash_profile (should be done every time after changing profile)</span>\n</code></pre>\n      </div>\n<p>So yes, you could say I modify and add stuff to my bash profile quite often - I recommend you do it too! Improve your workflow and ease of commanding a bash terminal!</p>\n<p>-Cheers! üç∫</p>\n<p>Chris</p>"},{"id":"transformer-remark-markdown-html-05267f914662c1bed20442f92ca47610-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Google Cloud</h1>\n<p>I‚Äôm torn most of the time about using Google Cloud APIs - on one hand, they are a group of some of the best APIs on the web today - the variety of what you can do with their APIs, whether it be maps, text to speech, search data, and more - is huge. However, with such a huge library comes the fact that the documentation can be a bit of a maze to get through. I mean, for the text to speech (TTS) API we‚Äôll be talking about in this post, for the getting started guide (in ‚Äúfive minutes!!!‚Äù as it says on the site), they provide this old-school bash <code>curl</code> command:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-bash\"><code>curl -H <span class=\"token string\">\"Authorization: Bearer \"</span><span class=\"token variable\"><span class=\"token variable\">$(</span>gcloud auth application-default print-access-token<span class=\"token variable\">)</span></span> -H <span class=\"token string\">\"Content-Type: application/json; charset=utf-8\"</span> --data <span class=\"token string\">\"{\n  'input':{\n    'text':'Android is a mobile operating system developed by Google, based on the Linux kernel and designed primarily for touchscreen mobile devices such as smartphones and tablets.'\n  },\n  'voice':{\n    'languageCode':'en-gb',\n    'name':'en-GB-Standard-A',\n    'ssmlGender':'FEMALE'\n  },\n  'audioConfig':{\n    'audioEncoding':'MP3'\n  }\n}\"</span> <span class=\"token string\">\"https://texttospeech.googleapis.com/v1beta1/text:synthesize\"</span> <span class=\"token operator\">></span> synthesize-output.txt\n</code></pre>\n      </div>\n<p>I mean what the heck is that? The <code>$(gcloud auth application-default print-access-token)</code> did <em>not</em> work for me. Even if it did, the following steps included extracting the base64 encoded string (which is only a part of the downloaded curl file) to another file, <em>and then</em> converting that base64 file to an mp3 file. No thank you, I‚Äôm going to do it all at runtime!</p>\n<p>Long story short, I‚Äôve found that this time and like many times before, using Google‚Äôs APIs is usually a lot of trial and error to get the endpoints working. <sup><a href=\"#footnote-3\">1</a></sup></p>\n<p>It wasn‚Äôt until I got to Google‚Äôs interactive POST console for their TTS module which you can use to test endpoints that I got a basic request working. That‚Äôs how I determined the bare minimum API request required below.</p>\n<h1>You‚Äôre in Luck üòé</h1>\n<p>There‚Äôs good news: luckily for you, I can spare you the migrain/hair pulling/rage that may ensue when trying to wrap your mind around Google‚Äôs often spotty documentation. I managed to get the TTS endpoint working, in Node.js nonetheless. In Node.js JavaScript, here is the code for converting some typed text to a tasty mp3 (granted you have a valid API key generated from googles cloud console for the )</p>\n<p><strong><em>Note that you need the following prerequisites for this to work!</em></strong></p>\n<ul>\n<li>be in a node project <code>npm init -y</code></li>\n<li>axios installed <code>npm install --save axios</code></li>\n<li>your google TTS module API key exported (in your <code>.bash_profile</code> or similar) as <code>GOOGLE_CLOUD_TEXT_TO_SPEECH_API</code>, i.e. that would be this line of bash:</li>\n</ul>\n<p><code>export GOOGLE_CLOUD_TEXT_TO_SPEECH_API=blahblahblahblah</code></p>\n<ul>\n<li>the following in <code>index.js</code>:</li>\n</ul>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">let</span> oResponse<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sMainText <span class=\"token operator\">=</span> <span class=\"token string\">\"hello world\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"input\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> sMainText\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"voice\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"languageCode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"en-GB\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"ssmlGender\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"FEMALE\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"audioConfig\"</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"audioEncoding\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mp3\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://texttospeech.googleapis.com/v1beta1/text:synthesize?fields=audioContent&amp;key=\"</span> <span class=\"token operator\">+</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>GOOGLE_CLOUD_TEXT_TO_SPEECH_API<span class=\"token punctuation\">,</span> oData<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>oResponse<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// write dat baoss (an encoded string) response into an mp3 file</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'outfile.mp3'</span><span class=\"token punctuation\">,</span> oResponse<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>audioContent<span class=\"token punctuation\">,</span> <span class=\"token string\">'base64'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// write this base64 to an mp3</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MP3 file generated and saved! Should be saved at outfile.mp3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<p>Then it should run with a good ol‚Äô <code>node index.js</code>! You‚Äôll find a tasty mp3 with ‚Äúhello world‚Äù being spoken - relatively better than Microsoft Sam i‚Äôd have to say! üòÇ</p>\n<p>So I hoped I saved you some time and frustration with at least this Google API.</p>\n<p>Enjoy, and Cheers! üç∫</p>\n<p>-Chris</p>\n<p><strong>This is part of a longer project that I‚Äôm trying to build to get a market volatility news flash published as one of Amazon Alexa‚Äôs skills. More on that to come. - A link here will also come soon.</strong></p>\n<h1>Footnotes</h1>\n<div id=\"footnote-1\">\n1. Some other APIs I've found have example minimum required interface endpoints for every language they support - super clean and tasty. I'm wondering if a lack of such clean documentation is because Google is focusing more on development than maintenance and documentation of their APIs. Perhaps the challenge itself is the vastness of the Google API library, and it would take nothing short of a genius to organize a proper strategy of attack on updating and cleaning up all the documentation.\n</div>"},{"id":"transformer-remark-markdown-html-f4e4ab5a83ce0bb378766c09630cc3c5-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>Thoughts of yet another full-time worker going full-time freelance / tinkerer / creative / nomad.</h2>\n<p>***Note: this post is mirrored on my Medium: <a href=\"https://medium.com/@frewin.christopher/welp-i-did-it-24505dff1bd1\">https://medium.com/@frewin.christopher/welp-i-did-it-24505dff1bd1</a></p>\n<p>I quit my full-time job.</p>\n<p>Most of the time about things like this, all you here is the same old tune:</p>\n<blockquote>\n<p>Don‚Äôt do this don‚Äôt do this don‚Äôt do this. </p>\n</blockquote>\n<p>But jeez, people are so risk-averse sometime. Just thinking about my own situation, right now, I‚Äôm 100x better off than I was just 3 years ago, when I was 23, $27K in debt from my bachelor degree, and earning less than <em>half</em> of what I do now! How come nobody back then said:</p>\n<blockquote>\n<p>Don‚Äôt do this don‚Äôt do this don‚Äôt do this</p>\n</blockquote>\n<p>Because being a homely, unkempt, poor graduate student is <em>expected</em> by society, (although graduate school is even looked upon with reverence in some cases - ‚ÄúWow, <em>Cornell</em>? Great school, great school.‚Äù). But what the hell are people thinking? In terms of net worth back then, I was totally screwed!</p>\n<p>If you are in your mid-20s reading this, you‚Äôre probably in the same situation of a strongly improved financial situation. So, why would I risk going total freelance when I have a house and kids, when <em>real</em> bills need to be paid. You‚Äôre right - I wouldn‚Äôt. </p>\n<p>The way I see it, now is not only the <em>only</em> time to try this, it‚Äôs the <em>perfect</em> time: experience and network connections from my first few years at a big industry job, with a bunch of savings as an all-else fails cushion in the bank.</p>\n<p>Even a lot of well-known ‚Äòcreatives‚Äô these days also say not to do this until you have a self-sustaining (or better yet - profitable) side project, but I just couldn‚Äôt help but writing that notion off - most of them quit their jobs themselves when they were getting started! Yes - they talk about the strife and challenge it was from doing that, which is why they don‚Äôt recommend it to anyone else - but isn‚Äôt that exactly the ingredient required in the recipe of nearly all people who were once nobody and emerged with amazing projects and products? </p>\n<p>If you want to create truly nice projects of high quality, that aren‚Äôt just patched together, even if you are hacking away those 4-5 hours a night, <em>after</em> your full-time job, you just can‚Äôt. Well - at least I can‚Äôt. In my case, you need those multiple 12 hour, interrupted days, diving deep and building complex projects. This just isn‚Äôt sustainable with a full-time job - and indeed, perhaps this is exactly the ‚Äòstrife‚Äô and ‚Äòchallenge‚Äô that these creatives refer to in all of their ‚Äòearly days‚Äô. It‚Äôs true - while we all complain about our 9-5 jobs (in my case, 7-5), you can‚Äôt help but admitting there is a lot of comfortability and security in them - weekdays only, and (for most of us) 5PM is 5PM, when the clock hits 5, there‚Äôs no more work for the day. It will be interesting to see how that goes in my freelance life.</p>\n<p>But hey, it‚Äôs 2018, and ‚Äúquitting your day job‚Äù, especially as a software engineer, doesn‚Äôt really mean you‚Äôre immediately ‚Äòunemployed‚Äô - right? There were a large number of supporting variables and events over the past few months that have led me to my decision:</p>\n<ul>\n<li>talking to <a href=\"torch.io\">torch.io</a> over a possible part time frontend consulting work</li>\n<li>being added to the <a href=\"moonlightwork.com\">Moonlight Community</a></li>\n<li>talking to a colleague about a fixed part-time position at his software company</li>\n<li>working with a friend to build a keyboard that charges as you type (I know it sounds like magic but the science and numbers show it can work) <a href=\"https://charge-keyboard.com\">charge-keyboard.com</a></li>\n<li>building out and advertising my startup Siren Apparel, and expanding to the EU <a href=\"https://sirenapparel.us\">https://sirenapparel.us</a>, <a href=\"https://sirenapparel.eu\">https://sirenapparel.eu</a></li>\n<li>(only knowing after I quit) consulting opportunities at my current company</li>\n</ul>\n<p>So yes, any one or a combination of these will pay the bills.</p>\n<p>I realize, <em>none</em> of these (or probably even a combination) will pay as high as my comfy logistic / warehousing full-time job. But I also realized over the past few months, <em>I don‚Äôt give a damn about money!</em> Sure, I could go the Mr. Money Mustache route and just keep truckin‚Äô away at my current job with a high savings rate, and become financially independent in 7-8 years. But to me, that‚Äôs 7-8 years of sunk cost, working at albeit a decent, but ultimately where-I-don‚Äôt-want-to-be job. If I spent those 7-8 years building out projects that first </p>\n<ol>\n<li>\n<p>Allow me enough income to survive, and </p>\n</li>\n<li>\n<p>Are valuable projects that I value and believe make a difference in the world</p>\n</li>\n</ol>\n<p>Then I have many many years after that to continue building, instead of after those 7-8 years, starting ‚Äòfresh‚Äô only with the single added confidence that I am financially independent. </p>\n<p>Worst case, I fail and a year from now I run back to the security of a full-time job. (Hopefully not the case!)</p>\n<p>It‚Äôs a similar story with options trading, <a href=\"https://medium.com/@frewin.christopher/i-set-aside-1000-to-learn-options-trading-b32bf47db656\">another toy project of mine</a>. A lot of people say you can learn a lot from paper trading, but people with real trading experience say you can never really learn unless real money is on the line. If I springboard into the abyss that is freelance / maker / creative / digital nomad, I‚Äôm <em>forced</em> to do my best work, and a lot of it, because it‚Äôs the only chance I have to pay my bills. Quotes that ring to this tune can be seen all over by (now) extremely successful people:</p>\n<blockquote>\n<p>I was in the zone, trying to make a living<br/>\nHeading to work in the morning<br/>\nNobody felt like I was mourning, as my dream was deceased<br/>\nUntil I quit my job, then my work ethic increased<br/>\nElevated to levels I ain‚Äôt ever seen</p>\n</blockquote>\n<p>-Logic</p>\n<blockquote>\n<p>Everything that you want is on the other side of fear</p>\n</blockquote>\n<p>-George Addair</p>\n<blockquote>\n<p>People will choose unhappiness over uncertainty</p>\n</blockquote>\n<p>-Tim Ferriss</p>\n<p>The bottom line is that in this information age, there are so many lines to connect, so many beautiful projects that can be made, so many companies and services that will flourish that we couldn‚Äôt even think of existing yet, even if we tried - but each of those requires time and hard critical thinking and problem solving. </p>\n<p>Have I accomplished something when a pallet comes out of the warehouse 5 seconds faster? In my book, not really. </p>\n<p>What if I build, with old friends from university, a revolutionary, first-of-its-kind, self-charging wireless keyboard that lasts a lifetime, and then some? I think yes. </p>\n<p>What about creating amazing designs for the 28 fire departments of each of the EU‚Äôs capital cities, monetizing it, and giving all the profits back to those departments? Yes.</p>\n<p>What about an art display: computer-assisted, colorized vector generated images of all 486 mountain lodges in the Austrian Alpine Club? Yep.</p>\n<p>And so I‚Äôm doing it - Its time for me to spread my wings and fly. I‚Äôll check back in a year on this post - a post-mortem if you will. </p>\n<p>Hopefully it won‚Äôt be me that the post-mortem is written about.</p>\n<p>-Cheers! üç∫</p>\n<p>Chris</p>"},{"id":"transformer-remark-markdown-html-823b5089fed7ebae9060365686f0d999-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Links to All Parts of the Process</h1>\n<p>Before I get into the description, you may be here just to get the links. Well, scroll no further:</p>\n<ul>\n<li>\n<p>Part 1 of ???: This post. üòÇ</p>\n</li>\n<li>\n<p><a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-2-of-building-a-node-js-server-monitor/\">Part 2 of ???: Building a Node.js Server Monitor</a></p>\n</li>\n<li>\n<p><a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-3-of-github-webhook-monitor/\">Part 3 of ???: Building a central webhook subdomain on (webhooks.chrisfrew.in)[https://webhooks.chrisfrew.in] to catch external events (GitHub, Bitbucket, push notifications)</a></p>\n</li>\n<li>\n<p><a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-4-of-building-a-slack-bot/\">Part 4 of ???: Building a Slack Bot to create a human friendly interface for all those notifications from part 3</a></p>\n</li>\n<li>\n<p>Part 5 of ???: Building a Site Differential Sensing Twitter Bot (in the works, not yet published)</p>\n</li>\n<li>\n<p>Part 6 of ???: Building a Central Logging System</p>\n</li>\n<li>\n<p>Part 6 of ???: Building a JARVIS like Raspberry Pi (Home Automation, News, Chrisfrew.in Productions Report) (also tidbits working, not yet published)</p>\n</li>\n<li>\n<p>??? (more coming soon)</p>\n</li>\n</ul>\n<h1>Automation To The Moon üöÄ</h1>\n<p>As an attempt to make my <a href=\"https://chrisfrew.in/introducing-chrisfrewin-productions/\">doing business as (DBA) company</a> more automated, and to make myself a better developer, I‚Äôve decided to take steps to automate as many technical processes as possible, as well as build out a few automated things that could support the business, such as a twitter bot and analytics that will be on public display.</p>\n<h1>Current Full Stack Map (Will Change As I update it!)</h1>\n<p>The current stack of my suite of applications and sites looks as follows (sorry, you‚Äôre going to have to zoom in, but it‚Äôs an SVG, so no loss!):</p>\n<p><img src=\"/full-stack-map-5a365c21d9b131791e833a84d003e595.svg\" alt=\"The Chrisfrew.in Productions Full Stack Map\"></p>\n<p>Note that not all of these boxes are fully productive and live yet, and there are many more projects that haven‚Äôt even made the map yet!</p>\n<h1>Improvements and Roadmap</h1>\n<ul>\n<li>Near future (before end of June) A global log class that creates logs of activity and errors across all sites. Such a class could be used in my Twitter bot as well, at least shared across Chrisfrew.in Productions</li>\n<li>Mid to late summer: most paper based business processesed fully automated</li>\n<li>Before New Year 2018: Chrisfrew.in Productions is able to attempt multiple solutions in fixing broken processes, which it also has found by itself. When it exhausts all methods it ‚Äúknows‚Äù to repair itself, THEN it would finally send me an email</li>\n</ul>\n<p>Yes, if this sounds like science fiction, I was inspired by that totally cool space ship from Passengers that can repair itself:</p>\n<p><img src=\"/passengers-ship-bb6a638030184734ce20de51526ff918.gif\" alt=\"Yeah, that cool ship.\"></p>"},{"id":"transformer-remark-markdown-ast-ad4aa33d9277da1a0e787a47636b7304-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: An NPM Christmas Easter Egg\ndate: \"2017-12-24\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":78},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"No, It‚Äôs not Easter for Christmas‚Ä¶","position":{"start":{"line":7,"column":4,"offset":85},"end":{"line":7,"column":40,"offset":121},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":82},"end":{"line":7,"column":40,"offset":121},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"It‚Äôs a quick surprise for those celebrating christmas from npm!","position":{"start":{"line":8,"column":5,"offset":127},"end":{"line":8,"column":68,"offset":190},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":123},"end":{"line":8,"column":68,"offset":190},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Simply issue ","position":{"start":{"line":9,"column":1,"offset":192},"end":{"line":9,"column":14,"offset":205},"indent":[]}},{"type":"inlineCode","value":"npm xmas","position":{"start":{"line":9,"column":14,"offset":205},"end":{"line":9,"column":24,"offset":215},"indent":[]}},{"type":"text","value":" in your terminal:","position":{"start":{"line":9,"column":24,"offset":215},"end":{"line":9,"column":42,"offset":233},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":192},"end":{"line":9,"column":42,"offset":233},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"npm-christmas.png","alt":"A nice little Christmas tree","position":{"start":{"line":11,"column":1,"offset":237},"end":{"line":11,"column":51,"offset":287},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-650df.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 104.14364640883977%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQklEQVQ4y61U2XLaQBDkLeEQQZbA5pIT0AGyIqFbCCQQ2HGl/BDHqeT//6QzWlEYh8Ok7IepkWZ2e3t6ZrcU6GO4YwVeosLVFbgGmavCv3IQfEowF39iJj4yi/hb8j8w5e8p/oSwkSEi++U94Lua4E/wgJJVlWGXj5tbO53/10qT8vDkAq9Jnn9HQAb2boCCTLqtSLc1+z4L0KkqR5OOKGPWjKk5OuwLilXewjBn1DRhNwxEoolM8mGLbwFkuinw6yGWEvkBMb2cngFYOcIu7zAnw+cCuFUDt4MUseq/quVhhrRp2TeYZveqgjlvIKXynYqCuP/1pJb7gAR2KwTUiDHWfIRF16JOa1gJPhLOLtaI/wEYE5PoovjOr17SJrY9jzS92cpwai5fAm70Ca9jRALd6c21dLoe5pzFGpSXm1wlR7XcA8wZPA0eqSwTYZtYNfRtfjlcYNYaIWhQs4TxQS2fATcnJp0QK6koe6lncKSQjY9d0/Dbu0PWDajzGhZ196CWW0CnR13seIgHhfBZy8Ts0sBCshDyasEw1zLfyI12ZvUQILELSJ+sHbLg6otFb+MKXt3HNNeNAIJehJS38E2hA2l8PN58UdnOYA+pLBMLwcF6dEcaakg7VtHxfrodlZAkmNYmiHsJNUdGyjnkR3t3vDShgDM04EkaZopFpSt0wJj5QJrAbhWl+Z8pTiPk9m8QdHWWnw+L9btavv4eCvLZTxcD1D72oX+4hltWn58t0sitFf+sLDbQGjOWr6pHAf8CkhZRHCiOkhwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"A nice little Christmas tree\"\n        title=\"\"\n        src=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-fb8a0.png\"\n        srcset=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-1a291.png 148w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-2bc4a.png 295w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-fb8a0.png 590w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-650df.png 724w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":11,"column":1,"offset":237},"end":{"line":11,"column":51,"offset":287},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(You would learned this only if you been a good boy or girl and read NPM‚Äôs recent Newsletter üòÑüòâ)","position":{"start":{"line":13,"column":1,"offset":291},"end":{"line":13,"column":99,"offset":389},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":291},"end":{"line":13,"column":99,"offset":389},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Another fun fact - the tree is not deterministic! Give it a few runs and you‚Äôll see what I mean.","position":{"start":{"line":15,"column":1,"offset":393},"end":{"line":15,"column":97,"offset":489},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":393},"end":{"line":15,"column":97,"offset":489},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Merry Christmas and a Happy New Year everyone!","position":{"start":{"line":17,"column":1,"offset":493},"end":{"line":17,"column":47,"offset":539},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":493},"end":{"line":17,"column":47,"offset":539},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":18,"column":1,"offset":541}}}},{"id":"transformer-remark-markdown-ast-5b7d37f6fb2eb98bedced465ead6da50-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Data Analysis and Pixel Art of Towns and Cities in Pokemon\ndate: \"2018-07-15\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":109},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"A Real Treat!","position":{"start":{"line":7,"column":3,"offset":115},"end":{"line":7,"column":16,"offset":128},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":113},"end":{"line":7,"column":16,"offset":128},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Over the past few days, I‚Äôve done some data analysis, scripting, and art with the 20 towns and cities from Pokemon Gold. The results were fairly neat. Follow along through all the technical steps I took to generate the images if you‚Äôre interested. If not, just head down to the bottom to see the results!","position":{"start":{"line":9,"column":1,"offset":132},"end":{"line":9,"column":305,"offset":436},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":132},"end":{"line":9,"column":305,"offset":436},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"1. Acquiring The Pixel Maps","position":{"start":{"line":11,"column":3,"offset":442},"end":{"line":11,"column":30,"offset":469},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":440},"end":{"line":11,"column":30,"offset":469},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" I found map sprites of all 20 towns from the amazing Spriter‚Äôs Resource: ","position":{"start":{"line":13,"column":1,"offset":473},"end":{"line":13,"column":75,"offset":547},"indent":[]}},{"type":"link","title":null,"url":"https://www.spriters-resource.com/game_boy_gbc/pokemongoldsilver/","children":[{"type":"text","value":"https://www.spriters-resource.com/game","position":{"start":{"line":13,"column":76,"offset":548},"end":{"line":13,"column":114,"offset":586},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"boy","position":{"start":{"line":13,"column":115,"offset":587},"end":{"line":13,"column":118,"offset":590},"indent":[]}}],"position":{"start":{"line":13,"column":114,"offset":586},"end":{"line":13,"column":119,"offset":591},"indent":[]}},{"type":"text","value":"gbc/pokemongoldsilver/","position":{"start":{"line":13,"column":119,"offset":591},"end":{"line":13,"column":141,"offset":613},"indent":[]}}],"position":{"start":{"line":13,"column":75,"offset":547},"end":{"line":13,"column":209,"offset":681},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":473},"end":{"line":13,"column":209,"offset":681},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"2. Breakdown of Maps into 16x16 Pixel Tiles","position":{"start":{"line":15,"column":3,"offset":687},"end":{"line":15,"column":46,"offset":730},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":685},"end":{"line":15,"column":46,"offset":730},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After getting all 20 towns, the only requirement is that the map that can be actually be broken into 16x16 pieces - as you‚Äôll notice the sprite people often put all the insides of buildings onto the same .png file, so this just took careful cropping to get the part that interested me - the ‚Äòoutside‚Äô part of the towns with the buildings, flora, and road/path tiles.","position":{"start":{"line":17,"column":1,"offset":734},"end":{"line":17,"column":367,"offset":1100},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":734},"end":{"line":17,"column":367,"offset":1100},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(Yes, I know - with some effort this too could have been automated, but hey, it took me a total of about 15 minutes to crop the 20 towns myself, so in this case I think good old elbow grease was the faster method)","position":{"start":{"line":19,"column":1,"offset":1104},"end":{"line":19,"column":214,"offset":1317},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1104},"end":{"line":19,"column":214,"offset":1317},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I wrote a Python function ","position":{"start":{"line":21,"column":1,"offset":1321},"end":{"line":21,"column":27,"offset":1347},"indent":[]}},{"type":"inlineCode","value":"createTiles","position":{"start":{"line":21,"column":27,"offset":1347},"end":{"line":21,"column":40,"offset":1360},"indent":[]}},{"type":"text","value":" that moves in 16x16 blocks across the maps, saving each block as it‚Äôs own separate .png file:","position":{"start":{"line":21,"column":40,"offset":1360},"end":{"line":21,"column":134,"offset":1454},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1321},"end":{"line":21,"column":134,"offset":1454},"indent":[]}},{"type":"html","lang":"python","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">import</span> numpy\n<span class=\"token keyword\">import</span> os\n\n<span class=\"token comment\"># definitions</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">createTiles</span><span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    oImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\".png\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># big town png</span>\n    oRGBAImage <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># covert to RGBA values</span>\n    iWidth <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    iHeight <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    data <span class=\"token operator\">=</span> numpy<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>oRGBAImage<span class=\"token punctuation\">)</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span>iHeight<span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># y down</span>\n        <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span>iWidth<span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># x across</span>\n            row <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span>j<span class=\"token number\">-16</span><span class=\"token punctuation\">:</span>j<span class=\"token punctuation\">]</span>\n            tile <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                tile<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>k<span class=\"token number\">-16</span><span class=\"token punctuation\">:</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            oTile <span class=\"token operator\">=</span> numpy<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span>\n            im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>fromarray<span class=\"token punctuation\">(</span>oTile<span class=\"token punctuation\">)</span> <span class=\"token comment\"># this array represents the current tile we are at </span>\n            <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                os<span class=\"token punctuation\">.</span>makedirs<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span>\n            im<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".png\"</span><span class=\"token punctuation\">)</span>\n            count <span class=\"token operator\">=</span> count <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n</code></pre>\n      </div>","position":{"start":{"line":23,"column":1,"offset":1458},"end":{"line":49,"column":4,"offset":2366},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"3. Converting PNG Tiles to SVG","position":{"start":{"line":51,"column":3,"offset":2372},"end":{"line":51,"column":33,"offset":2402},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2370},"end":{"line":51,"column":33,"offset":2402},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"But hey,.pngs that are only 16x16 pixels in size are no fun - you can‚Äôt scale that up to giant resolution wihtout inevitable blurring or such - to keep them crisp, I converted each 16x16 tile into an .svg using a previous tool that I built, ","position":{"start":{"line":53,"column":1,"offset":2406},"end":{"line":53,"column":242,"offset":2647},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/pixelmatic","children":[{"type":"text","value":"pixelmatic","position":{"start":{"line":53,"column":243,"offset":2648},"end":{"line":53,"column":253,"offset":2658},"indent":[]}}],"position":{"start":{"line":53,"column":242,"offset":2647},"end":{"line":53,"column":303,"offset":2708},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":53,"column":303,"offset":2708},"end":{"line":53,"column":304,"offset":2709},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2406},"end":{"line":53,"column":304,"offset":2709},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Great, now we just need to print the tiles in a creative fashion!","position":{"start":{"line":55,"column":1,"offset":2713},"end":{"line":55,"column":66,"offset":2778},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2713},"end":{"line":55,"column":66,"offset":2778},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"4. Printing Tiles in a Hexagonal Pattern","position":{"start":{"line":57,"column":3,"offset":2784},"end":{"line":57,"column":43,"offset":2824},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2782},"end":{"line":57,"column":43,"offset":2824},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I had this neat idea to create a spiral and print all the tiles, including repeats, from each town into an outward spiraling fashion. As you can see from my beloved notebook notes, I spent almost too long try how the heck to print the tiles out in such a pattern:","position":{"start":{"line":59,"column":1,"offset":2828},"end":{"line":59,"column":264,"offset":3091},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":2828},"end":{"line":59,"column":264,"offset":3091},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"","alt":"Trying to figure it out.","position":{"start":{"line":61,"column":1,"offset":3095},"end":{"line":61,"column":30,"offset":3124},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":3095},"end":{"line":61,"column":30,"offset":3124},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Trying to figure it out.","position":{"start":{"line":63,"column":1,"offset":3128},"end":{"line":63,"column":25,"offset":3152},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":3128},"end":{"line":63,"column":25,"offset":3152},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"","alt":"Getting confused... STILL trying!","position":{"start":{"line":66,"column":1,"offset":3158},"end":{"line":66,"column":39,"offset":3196},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":66,"column":39,"offset":3196},"end":{"line":66,"column":40,"offset":3197},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3158},"end":{"line":66,"column":40,"offset":3197},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Getting confused‚Ä¶ STILL trying!","position":{"start":{"line":68,"column":1,"offset":3201},"end":{"line":68,"column":34,"offset":3234},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3201},"end":{"line":68,"column":34,"offset":3234},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After lots of brainstorming, I realized it was easiest to implement by creating a walking vector. Each ring has a known count of tiles, and then you just walk around the hexagon:","position":{"start":{"line":71,"column":1,"offset":3241},"end":{"line":71,"column":179,"offset":3419},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":3241},"end":{"line":71,"column":179,"offset":3419},"indent":[]}},{"type":"html","lang":"python","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">from</span> duplicates <span class=\"token keyword\">import</span> buildDuplicatesList <span class=\"token comment\"># refactored duplicate function</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n\niSquareRadius <span class=\"token operator\">=</span> <span class=\"token number\">8</span> <span class=\"token comment\"># square radius of 16x16 tiles is 8</span>\n\n<span class=\"token comment\"># given int, returns array representing x, y coordinates</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getStartingCoordinatesOfRing</span><span class=\"token punctuation\">(</span>iRingNumber<span class=\"token punctuation\">,</span> iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iRingNumber<span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span> iRingNumber<span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">printHex</span><span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># initialize vars</span>\n    lDirectionVectors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># down, SSW, NNW, up, NNE, SSE... and no, SSW is not southby -_-</span>\n    iNumRings <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\n    lRepeatImageNames <span class=\"token operator\">=</span> buildDuplicatesList<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span>\n    iImageWidth <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span>iNumRings<span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius\n    iImageHeight <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span>iNumRings<span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius\n    oImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth<span class=\"token punctuation\">,</span> iImageHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># initialize our image we will build # TODO: add padding?</span>\n    \n    <span class=\"token comment\"># initialize vars for loop - start pattern off with tile in the center (exact centered around 0 will be minus a radius in x and plus a radius in y)</span>\n    iImageIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    iDirectionVectorsIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    sFileName <span class=\"token operator\">=</span> lRepeatImageNames<span class=\"token punctuation\">[</span>iImageIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># first tile image will be the tile that is repeated most - and will continue for the number of times</span>\n    oTileImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">)</span>\n    lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span>iDirectionVectorsIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># initial direction for each ring (down)</span>\n    oImage<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>oTileImage<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius<span class=\"token punctuation\">,</span>iImageHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># tile in center of image</span>\n    iImageIndex <span class=\"token operator\">=</span> iImageIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment image index</span>\n    \n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>iNumRings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># loop through desired ring numbers</span>\n        iNumTiles <span class=\"token operator\">=</span> i<span class=\"token operator\">*</span><span class=\"token number\">6</span> <span class=\"token comment\"># ring 1 has </span>\n        iDirectionRepeatAmount <span class=\"token operator\">=</span> i <span class=\"token comment\"># the number of times to repeat a direction before changing it also happens to be the ring number</span>\n        lCurrentTileCenterCoordinates <span class=\"token operator\">=</span> getStartingCoordinatesOfRing<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> iSquareRadius<span class=\"token punctuation\">)</span> <span class=\"token comment\"># starting coordinate of this ring</span>\n        iSameDirectionTimes <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># initialize times</span>\n        iDirectionVectorsIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># initialize direction index</span>\n        lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span> iDirectionVectorsIndex <span class=\"token operator\">%</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lDirectionVectors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">print</span> <span class=\"token string\">\"RING \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"------------------------------\"</span>\n        <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>iNumTiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># print tiles for this ring</span>\n            <span class=\"token keyword\">if</span> iSameDirectionTimes <span class=\"token operator\">==</span> iDirectionRepeatAmount<span class=\"token punctuation\">:</span> <span class=\"token comment\"># first determine direction for this</span>\n                iSameDirectionTimes <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># reset direction count</span>\n                iDirectionVectorsIndex <span class=\"token operator\">=</span> iDirectionVectorsIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment to new direction ( we walk around the rings clockwise as we 'paint' )</span>\n                lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span> iDirectionVectorsIndex <span class=\"token operator\">%</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lDirectionVectors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span> <span class=\"token comment\"># modulo gives us the proper index such that lDirectionVectors acts as a cirular list</span>\n            <span class=\"token keyword\">if</span> iImageIndex <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lRepeatImageNames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># we've exhausted all our tiles</span>\n                <span class=\"token keyword\">print</span> <span class=\"token string\">\"No more tiles :( headin on out...\"</span>\n                oImage<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"results/\"</span> <span class=\"token operator\">+</span> sTownName <span class=\"token operator\">+</span> <span class=\"token string\">'.png'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># save the finished image in the folder with its tiles</span>\n                <span class=\"token keyword\">return</span> <span class=\"token comment\"># done processing</span>\n            sFileName <span class=\"token operator\">=</span> lRepeatImageNames<span class=\"token punctuation\">[</span>iImageIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># first tile image will be the tile that is repeated most - and will continue for the number of times</span>\n            oTileImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">)</span> <span class=\"token comment\"># open the image that corresponds to the duplicate data</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Current tile coord: (\"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\", \"</span><span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span>\n            oImage<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>oTileImage<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius <span class=\"token operator\">+</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>iImageHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius <span class=\"token operator\">+</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># paste this tile at these coordinates into the image!</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Now moving \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" in X\"</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"and \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" in Y\"</span>\n            lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># x direction to go from vector</span>\n            lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># y direction to go from vector</span>\n            iImageIndex <span class=\"token operator\">=</span> iImageIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment image index</span>\n            iSameDirectionTimes <span class=\"token operator\">=</span> iSameDirectionTimes <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># also increase direction 'times'</span>\n</code></pre>\n      </div>","position":{"start":{"line":73,"column":1,"offset":3423},"end":{"line":129,"column":4,"offset":7875},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"5. Data Analysis","position":{"start":{"line":131,"column":3,"offset":7881},"end":{"line":131,"column":19,"offset":7897},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":7879},"end":{"line":131,"column":19,"offset":7897},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Ok, I‚Äôll admit it, the goal of this project was much more heavily leaning towards the art & design component: for ‚Äòdata analysis‚Äô I didn‚Äôt really do much of anything except find the duplicates of each tile in each town - and how many times that tile appeared, because I needed exactly that info to generate the town designs.","position":{"start":{"line":133,"column":1,"offset":7901},"end":{"line":133,"column":325,"offset":8225},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":7901},"end":{"line":133,"column":325,"offset":8225},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Building off the code that is in ","position":{"start":{"line":135,"column":1,"offset":8229},"end":{"line":135,"column":34,"offset":8262},"indent":[]}},{"type":"link","title":null,"url":"","children":[{"type":"text","value":"the repository","position":{"start":{"line":135,"column":35,"offset":8263},"end":{"line":135,"column":49,"offset":8277},"indent":[]}}],"position":{"start":{"line":135,"column":34,"offset":8262},"end":{"line":135,"column":52,"offset":8280},"indent":[]}},{"type":"text","value":", some other interesting info would be to find:","position":{"start":{"line":135,"column":52,"offset":8280},"end":{"line":135,"column":99,"offset":8327},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":8229},"end":{"line":135,"column":99,"offset":8327},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"total number of unique tiles across the entire game - finding most unique and most repeated tile","position":{"start":{"line":137,"column":3,"offset":8333},"end":{"line":137,"column":99,"offset":8429},"indent":[]}}],"position":{"start":{"line":137,"column":3,"offset":8333},"end":{"line":137,"column":99,"offset":8429},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":8331},"end":{"line":137,"column":99,"offset":8429},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"total number of colors","position":{"start":{"line":138,"column":3,"offset":8433},"end":{"line":138,"column":25,"offset":8455},"indent":[]}}],"position":{"start":{"line":138,"column":3,"offset":8433},"end":{"line":138,"column":25,"offset":8455},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":8431},"end":{"line":138,"column":25,"offset":8455},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":8331},"end":{"line":138,"column":25,"offset":8455},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Though perhaps hunting around on the web this info is already freely avaliable.","position":{"start":{"line":140,"column":1,"offset":8459},"end":{"line":140,"column":80,"offset":8538},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":8459},"end":{"line":140,"column":80,"offset":8538},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get the counts of each repeats, after all 16x16 tiles were generated, I got the idea to just find a python script which counts duplicate files by content (a hash comparing algorithm). I found a nice one by Andres Torres at Python Central: ","position":{"start":{"line":142,"column":1,"offset":8542},"end":{"line":142,"column":243,"offset":8784},"indent":[]}},{"type":"link","title":null,"url":"https://www.pythoncentral.io/finding-duplicate-files-with-python/","children":[{"type":"text","value":"https://www.pythoncentral.io/finding-duplicate-files-with-python/","position":{"start":{"line":142,"column":244,"offset":8785},"end":{"line":142,"column":309,"offset":8850},"indent":[]}}],"position":{"start":{"line":142,"column":243,"offset":8784},"end":{"line":142,"column":377,"offset":8918},"indent":[]}},{"type":"text","value":". I refactored it so it could just be called as a function and return an array of each repeat file name. ","position":{"start":{"line":142,"column":377,"offset":8918},"end":{"line":142,"column":482,"offset":9023},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":8542},"end":{"line":142,"column":482,"offset":9023},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What I mean by this is: let‚Äôs say ‚Äò1.svg‚Äô was the ‚Äòground‚Äô tile, and it was found to have the same contents as 336 other tiles in Goldenrod City. Well, this array would include the string ‚Äò1.png‚Äô as the first 336 elements, then a string with the next most repeated file name, and so on. The array that this function returns is the key looping array as we print our hexagonal style pattern in ","position":{"start":{"line":144,"column":1,"offset":9027},"end":{"line":144,"column":393,"offset":9419},"indent":[]}},{"type":"inlineCode","value":"printer.py","position":{"start":{"line":144,"column":393,"offset":9419},"end":{"line":144,"column":405,"offset":9431},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":144,"column":405,"offset":9431},"end":{"line":144,"column":406,"offset":9432},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":9027},"end":{"line":144,"column":406,"offset":9432},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here‚Äôs an example of identical tiles and how often they repeat for Goldenrod:","position":{"start":{"line":146,"column":1,"offset":9436},"end":{"line":146,"column":78,"offset":9513},"indent":[]}}],"position":{"start":{"line":146,"column":1,"offset":9436},"end":{"line":146,"column":78,"offset":9513},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>336 like goldenrod/348.png (ground)\n230 like goldenrod/374.png (pink tiles)\n62 like goldenrod/1409.png (tree top)\n56 like goldenrod/823.png (water)\n56 like goldenrod/1226.png (right corner house)\n56 like goldenrod/201.png (left corner house)\n53 like goldenrod/1353.png (fence)\n51 like goldenrod/943.png (roof top right corner)\n51 like goldenrod/162.png (roof top left corner)\n48 like goldenrod/229.png (house normal wall)\n46 like goldenrod/1186.png (roof center)\n31 like goldenrod/1481.png (tree bottom)\n26 like goldenrod/400.png (roof top edge)\n26 like goldenrod/439.png (roof bottom edge)\n25 like goldenrod/539.png (top edge ground)\n25 like goldenrod/77.png (rock wall middle)\n20 like goldenrod/1368.png (shore)\n18 like goldenrod/1030.png (gold brick wall)\n17 like goldenrod/505.png (brown dirt top edge)\n15 like goldenrod/1387.png (ground with gray fence)\n14 like goldenrod/159.png (etc... you've gotta be kidding if you think I will)\n14 like goldenrod/158.png\n14 like goldenrod/980.png\n14 like goldenrod/198.png\n14 like goldenrod/429.png\n10 like goldenrod/1421.png\n10 like goldenrod/610.png\n9 like goldenrod/758.png\n9 like goldenrod/238.png\n9 like goldenrod/200.png\n9 like goldenrod/403.png\n9 like goldenrod/170.png\n9 like goldenrod/217.png\n9 like goldenrod/377.png\n8 like goldenrod/920.png\n8 like goldenrod/148.png\n6 like goldenrod/107.png\n6 like goldenrod/149.png\n6 like goldenrod/512.png\n5 like goldenrod/260.png\n5 like goldenrod/261.png\n5 like goldenrod/831.png\n5 like goldenrod/836.png\n4 like goldenrod/880.png\n4 like goldenrod/249.png\n4 like goldenrod/1031.png\n4 like goldenrod/784.png\n3 like goldenrod/570.png\n3 like goldenrod/573.png\n3 like goldenrod/548.png\n3 like goldenrod/572.png\n3 like goldenrod/248.png\n3 like goldenrod/571.png\n2 like goldenrod/389.png\n2 like goldenrod/1343.png\n2 like goldenrod/658.png\n2 like goldenrod/1171.png\n2 like goldenrod/659.png\n2 like goldenrod/997.png\n2 like goldenrod/161.png\n2 like goldenrod/924.png\n2 like goldenrod/1173.png\nTotal Duplicates: 1507</code></pre>\n      </div>","position":{"start":{"line":147,"column":1,"offset":9515},"end":{"line":211,"column":4,"offset":11583},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So our return array would contain 1507 string elements, each with the value of that repeated file‚Äôs name.","position":{"start":{"line":213,"column":1,"offset":11587},"end":{"line":213,"column":106,"offset":11692},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":11587},"end":{"line":213,"column":106,"offset":11692},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"6. Final Results","position":{"start":{"line":215,"column":3,"offset":11698},"end":{"line":215,"column":19,"offset":11714},"indent":[]}}],"position":{"start":{"line":215,"column":1,"offset":11696},"end":{"line":215,"column":19,"offset":11714},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I repeated this process for all the towns of Kanto and Johto (for non-Pokemon nerds: the ‚Äòoriginal‚Äô towns and cities of Pokemon, plus the ‚Äò2nd generation‚Äô towns, a total of 20):","position":{"start":{"line":217,"column":1,"offset":11718},"end":{"line":217,"column":178,"offset":11895},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":11718},"end":{"line":217,"column":178,"offset":11895},"indent":[]}},{"type":"html","lang":null,"value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Azalea Town\t   Johto\nBlackthorn City\t   Johto\nCeladon City\t Kanto\nCerulean City Kanto\nCherrygrove City   Johto\nCinnabar Island\t Kanto\nCianwood City   Johto\nEcruteak City\t   Johto\nFuchsia City Kanto\nGoldenrod City   Johto\nLavender Town\t Kanto\nMahogany Town\t   Johto\nNew Bark Town\t   Johto\nOlivine City   Johto\nPallet Town Kanto\nPewter City\t Kanto\nSaffron City\t Kanto\nVermilion City Kanto\nViolet City   Johto\nViridian City Kanto</code></pre>\n      </div>","position":{"start":{"line":219,"column":1,"offset":11899},"end":{"line":240,"column":4,"offset":12354},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The repository has all the code, 16x16 pngs, svgs, and the final hex images in the ","position":{"start":{"line":242,"column":1,"offset":12358},"end":{"line":242,"column":84,"offset":12441},"indent":[]}},{"type":"inlineCode","value":"results","position":{"start":{"line":242,"column":84,"offset":12441},"end":{"line":242,"column":93,"offset":12450},"indent":[]}},{"type":"text","value":" folder. ","position":{"start":{"line":242,"column":93,"offset":12450},"end":{"line":242,"column":102,"offset":12459},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/pokemon-town-pixel-art","children":[{"type":"text","value":"Check it out on GitHub","position":{"start":{"line":242,"column":103,"offset":12460},"end":{"line":242,"column":125,"offset":12482},"indent":[]}}],"position":{"start":{"line":242,"column":102,"offset":12459},"end":{"line":242,"column":187,"offset":12544},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":242,"column":187,"offset":12544},"end":{"line":242,"column":188,"offset":12545},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":12358},"end":{"line":242,"column":188,"offset":12545},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I may revisit this project for more designs at some point, I think there are a lot of cool things that could be done with these tiles.","position":{"start":{"line":244,"column":1,"offset":12549},"end":{"line":244,"column":135,"offset":12683},"indent":[]}}],"position":{"start":{"line":244,"column":1,"offset":12549},"end":{"line":244,"column":135,"offset":12683},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I call it ","position":{"start":{"line":246,"column":1,"offset":12687},"end":{"line":246,"column":11,"offset":12697},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"The Pokemon Kaleidoscope Series","position":{"start":{"line":246,"column":12,"offset":12698},"end":{"line":246,"column":43,"offset":12729},"indent":[]}}],"position":{"start":{"line":246,"column":11,"offset":12697},"end":{"line":246,"column":44,"offset":12730},"indent":[]}},{"type":"text","value":"!!!","position":{"start":{"line":246,"column":44,"offset":12730},"end":{"line":246,"column":47,"offset":12733},"indent":[]}}],"position":{"start":{"line":246,"column":1,"offset":12687},"end":{"line":246,"column":47,"offset":12733},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Enjoy!","position":{"start":{"line":248,"column":1,"offset":12737},"end":{"line":248,"column":7,"offset":12743},"indent":[]}}],"position":{"start":{"line":248,"column":1,"offset":12737},"end":{"line":248,"column":7,"offset":12743},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Pokemon Kaleidoscope Series","position":{"start":{"line":250,"column":3,"offset":12749},"end":{"line":250,"column":34,"offset":12780},"indent":[]}}],"position":{"start":{"line":250,"column":1,"offset":12747},"end":{"line":250,"column":34,"offset":12780},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Azalea Town\t (Johto):\n","position":{"start":{"line":252,"column":1,"offset":12784},"end":{"line":253,"column":1,"offset":12807},"indent":[1]}},{"type":"html","title":null,"url":"azalea.png","alt":"Azalea Town\t (Johto)","position":{"start":{"line":253,"column":1,"offset":12807},"end":{"line":253,"column":36,"offset":12842},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACg0lEQVQ4y+3U3UuTURwHcEHwD/BCCAJxD6kj0aZSowRLJZVRbk4jfB2TCArtBS+UZtlmqZublpubbtbs2dQ5h23Ps82xl2Y5QZ0h+ZIz8C7o5SYkybtvTxrdtFXkrb+bw+FwPnwP/H4nLu6wYpV+Un/kwIhhypCgevaw+s5IXaTLfWHXFmztf/fJm/xfGKkvrZM9yV9vdp7E1clU1Ayz0ESlo8t1fkepPKsdkpz5e2KnvzTB7eJUW00lEbnvFBpdaWgYzMPYshpzHwO4ZxehZigVjQzcPpKza+os7B/qTYmdeOH1Xa7FLoRihYO2QAEsKwNY31kFFTFh4JUEy1/CmP3ghZRqQK2BgNaZixln5kRscFHDNTv5uOlhI/ItAvfWOG6QxahUEajsJVD1OAP9wRasfX0DxfQtSB1ZCNK5FPOy+Kjg8qaYSy4V4bY/fQ9sfy5C2QMWhHICQgUBQTdrb7/wOQSljwHtmQh4CuB1Fx6NCr59X8s1LhYwCfdBGS1ikBRUKAlc6iOYlQWBnAXPlhUKz8+Erko4Bq9FB0NzBFcXzP8F9jCXfiQq72awHiZhFwuXe7LwyNuydyajM+EY5sFmbo4OWnU8ruZFHiSLGRDrToOc18C+PopmkwB16mxog1JMb9rRNiFGK1WCTpoDv7oCa2pFdNAsL0yeMNeEDXQxVBvZaHTvtw25oIZvi0abTYR6Yxr6vDkYf3oOU0b+Nt1dbgtI6pP+2I9GjZhn6C0L6+k8KFY5aGL6sX6EQEcoC1ayCPbR69tu6n6H13Il8Z8nZWMjLj40c+yixcEPjy2dALl5HK5Z9va0q6pzflWWdKCZpjwC3ssQuyMQFCYefpO/1XdtanmG3UW5EAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Azalea Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-fb8a0.png\"\n        srcset=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-1a291.png 148w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-2bc4a.png 295w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-fb8a0.png 590w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nBlackthorn City\t (Johto):\n","position":{"start":{"line":253,"column":36,"offset":12842},"end":{"line":255,"column":1,"offset":12871},"indent":[1,1]}},{"type":"html","title":null,"url":"blackthorn.png","alt":"Blackthorn City\t (Johto)","position":{"start":{"line":255,"column":1,"offset":12871},"end":{"line":255,"column":44,"offset":12914},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADOklEQVQ4y6XU3U9ScRzH8XPV1sbWP9JV3XRVyzVLM3XV2ey5VoSlM0QQPKIgRKE8x+MBJMUAtTIWaUpoakpqmoqi9mS1Huaam2aPGxefDoeN2Zo9+bv53r332s73fAniL55VmctxqvO3EOt9b78Ocbo75eJr2pwFvyEvQdOSoM1n+/fw9/kXnNd9EarLJ1hsu5KDhtps0JocBPR74bOeQF+ZLvSGH/1zeHBAzwkPUuKOPslCS+AcGvUHYK7fi5aZUtz7YMediBUe3UE0a/egvYab6KcuByeftvwavl95g9Mroqm7Dumi7/oZOHWHYGnIQyBeipFPnZj7NIX4+x48+fYE00sTaO9xwK05iAATDphJhK4LQ2PjllS4v7B1W7dZveD38eDSH4bJnRI9+syEVmIYH7VgwJuPB+5MDN8VIP4uwobjy5O4HbbAIMuFvWoHvHWZiauG3XZi8uht0msvhLkuF77p82nR+JgVg037MeDJYmK7f5ojyfAqsb9VCVq2EzZlRpSYz+8g6UunYDHlofdjI6bfdKVEzl3opzPWnox4tLeGjUaGfXBUbQetyIwS8RPtZL2xCGZjLhuMPW39RbTWHAry2GB41At7dQbcqj1RIsbtIK+ZLqSFsbnm38tWzYdtp9lg55IBRkkeXBeZYI/ATDbqCtclTAaFXD3CQkWUMMuzSLfp+LqFZWdNmJU6owT/bA7psXH/Q5iN4VBxOijgmjBVbWc+So+fbKJ5rLBryZRamQknszIH1pQN3SlhtiHM7Okkpr6OoWNJwwqfUe4o4bxUQHq0h+C1n4FUVgD7/ZMYXL6JuS8zmJhwIdp8GAMN+1KiVYsd+zKCtudyyB1HUCU1ws13J6ZLrRFidiiw0Wuo4alF5Lta0XlIi20QVUpA9x3Dw5UgK55dfsyKkqGk6NYrBeS2AlTwzfBU1iNW7AyNZ/m3NG2VcNL/s6AIG27UU0UNeuNLZalsRXbBgXKpMC1eLaJKjNBWexNGpTWoVdX9/uq4xJs3qkRXNlGFVZRKIF+sLtGx4qSokm/CxXIHLCpNSK3o/Pe7yKg5KqFLrBFXLGgr6hJqoTSoKG9Z/+VOhst4o38V+gGzKzRxU/Un3AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Blackthorn City\t (Johto)\"\n        title=\"\"\n        src=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-fb8a0.png\"\n        srcset=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-1a291.png 148w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-2bc4a.png 295w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-fb8a0.png 590w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nCeladon City\t (Kanto):\n","position":{"start":{"line":255,"column":44,"offset":12914},"end":{"line":257,"column":1,"offset":12940},"indent":[1,1]}},{"type":"html","title":null,"url":"celadon.png","alt":"Celadon City\t (Kanto)","position":{"start":{"line":257,"column":1,"offset":12940},"end":{"line":257,"column":38,"offset":12977},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADH0lEQVQ4y6XUzU/TcBzH8V5Nlvg3CLh4wejUxMSDHEA9mDCDlaibCAgbT+PBzbLhfLioCCouDuZDhsDcupWybi3bWNkwUYcPRAz4gIrGp+gOxIOJXpb4sS2RYDDKtMn3+s6rv377I4hlPO7e3arZT0c0xP8+0US5ig3pqaFwXVpMHsmMT1m42Y+W7MPeZ8UqQaiwCZGGuZGkDb3hw3BEqkAzdkREM8IxKx8aaf17+M3kQdXAq22Ub0KfjietGH1mguNhISo9apQ6ctHMbcQFvkIJ84Il42EtnJuuXhr2fN+kEqdLbKOiLLJj9GkjnNOFKLueB7J9NTqYAtDxYlQ58kFeyEWLoFkQcwKFAGfmg+yB+bDzQcFm15guzSdacXO2CZceFSkisiMP7b6tuD9ZjpcvapWZmTHCF9Oi2pn/i9jjM2MoYMwMuYp6iFuijuR4CsIn3S+iiUeVC6HfzWKx9eYG+HxWsNe0KeL91xNkONYG/9sSaE+vQuR26R9Di0cW1zrXoY5Xw0fbEPQdTBFPXjSSLG+F/40UPJODxPi+ZQflMbk0qA2p4ZfOU4hQKSIe0JI0Y0bg3bwwcTfb4HpF6KXbwPGWFGGu6iNv0MfBzhzCrvYcJO9lF2y8rEG9IAWlMxwaMaaI558vklzUDka0K8L+2M6sgg0988L+/lZ0+6WPInzYTzLDFNjECeUMT3q3/NMZerxtcHLFKWLqiomMcDXwhihFSJ5djXPBAkw+/vPaBMaK0eLeAL1jjfLKfX2tuBSUgqlhiozHDF9Yth7nXAZQ9HaUudXY05mHTlbax6lFi/3cCCapRc2Vtcr+NTAb0SUcwABXi55uR+bMKW6UeP/NueL1ZNXKpFhpi0UNc4OMEa6AAW2h7dBdzV0QyyJDdz5KOnLQGFyPjqAevQPSn+XswjH7BG8yQNNSB9WSyyEpVlDxEUNaFruYGhwN7VDEP0WdIT3oQDOGo5aM23uek0N/vXVm7+xVyeKoUD3HDppwWQrLItrfAH7YjEHhOH8jaM3+XpTFUaGSikVN6WikPhMKN3Gefwn9Tjwu7l1W6AcBOiBXE/aowwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Celadon City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-fb8a0.png\"\n        srcset=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-1a291.png 148w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-2bc4a.png 295w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-fb8a0.png 590w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nCerulean City (Kanto):\n","position":{"start":{"line":257,"column":38,"offset":12977},"end":{"line":259,"column":1,"offset":13003},"indent":[1,1]}},{"type":"html","title":null,"url":"cerulean.png","alt":"Cerulean City (Kanto)","position":{"start":{"line":259,"column":1,"offset":13003},"end":{"line":259,"column":39,"offset":13041},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cerulean-29de227169c032f1a8371bb17468084b-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADtklEQVQ4y73U3U/aVxgH8P4BXPWif0GTLe3cJqmubo1ma7PLtsuSOWdaadNW2OrU1gLyEkQRClaUgiAiLwUt+BPkXX68FqnIdL4tGiRObcfcYjOTZV64JV58hz9a0y5Z6rZkJ3kuzyff85xzniNH/u/lSg0ftYfNEs8UERNag5X/Guoz9B1zRIZkj3KxHXLNhd6QEL5vvRicSCW7kqsfHRpqtiSO2ki/JDa/DzkhJS+hPVyGnnQ5bI/ZCC+FMDKbBrFMxIj0+b9PPGYXHQssNMviT2I70Q0vZJFaiEKlMMfPwFAAu/2lGIiXYWD2HDxZKcILJIyEAExJefKm8+0WxaMS+gGm8Y0KE2TbTmBaTiVSemoxHPwE+sgp3B5+D4xWFa6wkrihqcG9wDswxsqgnz8L/5ICRNQMoaQOEmXFntF6WUeBetKRVw9U4q77IlzOZph9H+OW/X3UsTXgtm7BlfgRU0+/R492G1dZKdzQ1h4k1s5/iMi6EZ2yryEfsUxRoDd9OS/Xn8ZD701I/SVg8O+Bw92CO5nH8s4KVn5/XrsrSG+sQaX7hUrMUJ0FL/Mmguvt4Chk0A09B81uZb5r8AMQvibwibdQX/8U2d0sheT+yL1SL2C99RmquSxwCqBvQwSRrhN9LnER7HE+zPd7KilQMFoE9zf9FXsZpcBWZhF80gZhnwht/qEi2OGO500TVYUjN0DoKkE98/VgIPMDPuexwE6/gcBaO3hqPq4bG4ugym7Jq5YqqB4KRk8eKuHMT6uFIxcT7veQe18I4YOLRbDfdzuvXniph19lMUJuYum3HAUfXEqh9nubzK3DEIiimn+FAg0TLDR2h6EKeovg4Jggr148A3ugFUPeC2ATp8AQyNHC3oRjfJO66ReQREeiRlwDhvU4uImTuDtXAWOqAdc7VtHj9hVBE6HLSh+L0Tv9KbQRAZwuGayB82CPlIMhlOHL9n5I9CFUiz5DneU4BDMnoJqvgi3DLSSN4FZvADyzda87aopRYPbXLG1ows/jBDLbyqgCuhSr8GhFIEYlsPkv4I7zBK4WINHku1AvnoNlqgWRRTs01gzaJE4YEk3++LiAPpmdpL3yn5nOn2lSm4dz3+TYMnllcH2jxdjEGFwueSF1E4jQA4SmHfAtK6AcFe9pbEGPUs6kv3biNFzbpd1pnOWJVZJt7bgboRk3InNOeOc6oA9fg9nG9w/aO+n/eCaqeFW0Jsd3HD5JbukTl/a0dq4nHPyC/p+ndt+z07SutdJDQX8CLC4Stw39Xo8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cerulean City (Kanto)\"\n        title=\"\"\n        src=\"/static/cerulean-29de227169c032f1a8371bb17468084b-fb8a0.png\"\n        srcset=\"/static/cerulean-29de227169c032f1a8371bb17468084b-1a291.png 148w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-2bc4a.png 295w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-fb8a0.png 590w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nCherrygrove City (Johto):\n","position":{"start":{"line":259,"column":39,"offset":13041},"end":{"line":261,"column":1,"offset":13070},"indent":[1,1]}},{"type":"html","title":null,"url":"cherrygrove.png","alt":"Cherrygrove City (Johto)","position":{"start":{"line":261,"column":1,"offset":13070},"end":{"line":261,"column":45,"offset":13114},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACVklEQVQ4y+3U20uTARgGcCEQut2FEAT9BUUSjJFoFAQrU2bQmpu5g5uHHWx9m7q5uenct5PlHOYc6tzBbepqaCyHZhRpGOISc6l9IQR1YUGErAvr6kkGBeGnFN76wHv747l43zcv7yj7ZcBYdOLQiEV7NT/iZQu6YkyqM37uRzBw/UM0TNrDlv6C/8ZGesuqvcnidc1YEWRmLxq0C1AMVqPrcTGe3GvKzo93WD8LXjIORAghM/9Oo01gi/ApTfwCatr6ISfeoIZsQY2HgzrdI9QSc7uwCISTiYiuPvt8wmX/SW0epwXVVYWsloQIUnMPlNq3EHdqoQlyMbURx+uvi/DM6iF0VaBePwmpxYab5EUMOarwfXj1JC24KA6xjK5mKBRbEPsKkaIegtqh/prlb0vomJCAf7cEfJMcQYMY28IlejDDm2TpCTeUyi1Ifef3YL9n+JUTPEcJBBY5Yr03sDYepwfXJGMsHdGda1g3tD8YWnL9aTjgu4zRmXp6MOIrZ902t0Ih37/hynYa/gUy15BvlsPWdxa6udP0oL+bzVIZ9WhQbkJkMoEYqUDyfRjvdjZyWGzFjar7ZyAgK1BplIFnlsCrtcN9pZUe9KwyT3nG2tIKRzvETX7UyjMQNJuhiXDgfqbGLRsXlYQVXBMPMicf7vbObFQRSsxwBg5e9I/kg9Ip1XJa19YLIRHYhdchU89CoolCRrLhC/Zlkwmn9emolPHPlwLZp2NfUpnymeiLtMGmgcqgRVg1mJ1vnLbHesoKDnXTIepSaSCltm5cSzCO3uSe/ALSIZfJRh2UMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cherrygrove City (Johto)\"\n        title=\"\"\n        src=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-fb8a0.png\"\n        srcset=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-1a291.png 148w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-2bc4a.png 295w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-fb8a0.png 590w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nCinnabar Island\t (Kanto):\n","position":{"start":{"line":261,"column":45,"offset":13114},"end":{"line":263,"column":1,"offset":13143},"indent":[1,1]}},{"type":"html","title":null,"url":"cinnabar.png","alt":"Cinnabar Island\t (Kanto)","position":{"start":{"line":263,"column":1,"offset":13143},"end":{"line":263,"column":42,"offset":13184},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQ4y2NgGAWjAAwqsuYZXTxXmN522YyTIoOOTLU2mlpVvGFyZefvWZ3T/i9cHnx/Rl9ZdkeGBhvJhjVUbyiZVpf/f8Wksv8rZtb+Xzax+v+s/vn/ZzQv/D+ntuApyQZOqFjUu6I3+f8qoIElmW//56X9+d9Xsf7/nMkz/2+ZmfyfZAMvH4jr3TE5+P+c1in/c9P+/89L//O/uejM/0WtTf+nd2eRbuCaC3696ztS/neWLP+/pLnh/4autP9zm/r/z2if/7+nfRnpBjZuqlHta21avGB25I+u0rn/64r2/p/R3/K/t3l3LdDF8mTH9LF7GRqb5mYvmFhbdXNufXL08SlGbKMZaaQDAJG0hgyIx3StAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cinnabar Island\t (Kanto)\"\n        title=\"\"\n        src=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-fb8a0.png\"\n        srcset=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-1a291.png 148w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-2bc4a.png 295w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-fb8a0.png 590w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nCianwood City (Johto):\n","position":{"start":{"line":263,"column":42,"offset":13184},"end":{"line":265,"column":1,"offset":13210},"indent":[1,1]}},{"type":"html","title":null,"url":"cianwood.png","alt":"Cianwood City (Johto)","position":{"start":{"line":265,"column":1,"offset":13210},"end":{"line":265,"column":39,"offset":13248},"indent":[]}},{"type":"text","value":"\nEcruteak City\t (Johto):\n","position":{"start":{"line":265,"column":39,"offset":13248},"end":{"line":267,"column":1,"offset":13275},"indent":[1,1]}},{"type":"html","title":null,"url":"ecruteak.png","alt":"Ecruteak City\t (Johto)","position":{"start":{"line":267,"column":1,"offset":13275},"end":{"line":267,"column":40,"offset":13314},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADfklEQVQ4y6WU/U9bZRTH768m939wu21X6yIgC24zxpjIzNyAUeACLU1lMMAwugakFG5oeWmhL7je1r5AAdtSWktXhmV3E7M53OslAzJmjMEZ9Ye5mGbrEmNi9kNjvvbW2IhbQs1OcvL88OT5nM85yXkIooAY7T1G3v1opZR40UDbLyTXNaG3GGpSS4PKzFavI/mr+ub/B3tNVeRW53km2NqdZvoOQze7H9qFV2H1lCBsLEfU9h535qR/dzA3WU/eibH6r3XmlFH/NvRzr6E5IEGDSwyFJ3t6KGgiMkwnyhH0GzPDuo6kVvX6s+Cfv/mCvBxyMNf6htPxgdPony1Ga0QK2kWhwSnGB94SdM8fQ6NLgjqWgsIrBnOpDLGbbQiFzGCtbu7KZyf/BvPXTYe2HJFUXK+FIXIQzcF9OaMm3z4o2SKwXw5g8/E6tv/YxtK3czg9exQKpzRv3J88gOiNVkQ9isxazD5JJHxddKJZh57L+1Hr2Js38qwO4u6TDdx/ev+ZXP5ufodxfVYgekeFaxE3T6yt+OmltkFoV2SosYvQPvUO1h/dfi7o3ykYh9dZ1Fol2XcUHDE5rLp+nlhlnLSpzQUNJwPtEIP+WILNNL8rUMjVh8ugz0ogt1Gwhuoxqu3kifiHLXR/uxtnLspQd1aUq7jxuEDgg2XUCIYTFOzRBnxiPsITi4kBWq/x5QwFoFBx80lhwKtZoNCR3CoY0rAbK3nCa6mjGc1IfoZCxUJbFoD/zFA1IYFlPNvyxo9JOhbshGpakp/h2qPVXWHfP93GlQeJ/AzVbhnMpnaeWLgQoBNhLRQ+Ue5CqKh2l2DqlgH3ftt8LuziDxHoFo6jyVmEyhEq967FXwxDxxs88Xmoi55zKTEcOw6l5xVUmPbkoEq3FGpvMbw3GNz7fT1ndOmnMHqi76ORlUJuEaPCvAfVtr045SlCn68qY+go+4q4yg28dD5wqizqbmQCAXV6KFoB1ZQUJ8YpVI+LcMIkzhkLRrU2CSqGKVSNZVfSTUEbfhO+T5thc/Rydre9dKj9MLljp2c9HeS5mRZ9jBtKmRblOePKsZdRPSbaYdQdeQsXIp2Zh05z8s8Rdvdfx6YpJRMJI3Mu2ZMeybYoGAtGmuBBzMSbEPfWcgWB/hszpiPkzGi5PuRXpCbDdGZxWpWct7z74j8323uAZHWHCgL9BaZ3C++uJtRrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Ecruteak City\t (Johto)\"\n        title=\"\"\n        src=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-fb8a0.png\"\n        srcset=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-1a291.png 148w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-2bc4a.png 295w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-fb8a0.png 590w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nFuchsia City (Kanto):\n","position":{"start":{"line":267,"column":40,"offset":13314},"end":{"line":269,"column":1,"offset":13339},"indent":[1,1]}},{"type":"html","title":null,"url":"fuchsia.png","alt":"Fuchsia City (Kanto)","position":{"start":{"line":269,"column":1,"offset":13339},"end":{"line":269,"column":37,"offset":13375},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD20lEQVQ4y6XU60+aVxwHcP6A558Y1FmaLdnslnXZxay1zmZbKlY2rXbeb9SsCFSQWeeqorO13uhaHVIsggp4RR6IMLUgj2i9TRRjl3VGO0Fjvc1uL3jxnTxm1LolbdPz6pzk5Hs+55dzfgzGC4wu63dEFykJY7zqKO4LJ3SNkWJNTaSvtTrCX1d4sttgPPPywYW2dwiFJUWquH123XAzCoP96XCOC0G2Z0BtSEejPcl411Dw/OCynDcJSeVpcbkl3KftiYTNnAHKkwfKl477azlw/pYD+8QlkLoM6FT5/qZOSXedN+y/wd/ntxKVV9KkKjJpvbkzAtaAyCPE6EomJnf5sD1ORqv3c0ztCjC2mgPHYhYtNrcl4057Cm4ac40GU8V+cA+ZdUJeW+zTKS+gn8wKimb+FMK6kYTapXdxdYENiesoKhbfgNb3GaZ3RXCt8GBbSIDe/Ck6VbG4I8/zt+uLbzH6rJe5nepEOH4pBPUoLSi6sXgcxR42sjpCwL3BwrnrLFxQHIF45CjKHrJp8cS2EMNLGdC4TsKsjUWLpoJi9PamcjWaUxid/xbjG7lQrpyCbPEYhPdCEXONibMyJmKrmIipZCK6/DV6nawKCYqndi7DMBWFvmYO5LZUijHvzOFqmz+Ec06KsQ0eGpY/pgUBEecHJjjlrH1hJQvRFXuh9AEsxNWz6H0T2wJoZiJgVEWjhjxPMR5Ky7mttz/Zq50U9zcvovGPcFp4UBQID2j/XQfEX+0FBvZN7AihdUegt+kcGmoLKMa1q3yuoSkOrsCVH198KjwkOiw+KNRPRsFsSEB9WTbF6HfkcU1aDqiFAoxu8Z4KD4kOiw8KAzW0DvAgSImnGGZLdgipjdkcWsiHe5UfFGbqQ+iQ/6th4k9HwOt9/ZkaWn/ORYkol6LfYn/7+aWhB/kY82ZheDsb8uUT9OlFbjbS20LoKwfE8T+yILKHQvb7MbT5vsD4Th7mnhRg0Ps1bAO5qJOJ9gNHnd94XBMCzK7xMerNxMyWAEOb6ZAvvU8rimbZEDlC6XmL9wxmdwvw699FsD9KhWU4DhaLDG3GKv919RUbHSgSiQijIlw6YuWuP1i8hPlVAe4tpWB6iw/7dgYtDry5jjUOPH9JMLycBpPzS5jIUiiUfaiq7jDKZo6HlbjfIp75000l7xFqzQfinoEY35Q7G7aRRFjdCbR45okoKCLJMiibTf76Wx3dtfLS53cdme5toqb9I+nAdPz65FwmBqmkoEip1KOxUWXUG2Uv3xe71FziruO0eGya71O3mP2KBkW3ayjx1Tt3dU0FodGWvlDQPw269KH1R18PAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Fuchsia City (Kanto)\"\n        title=\"\"\n        src=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-fb8a0.png\"\n        srcset=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-1a291.png 148w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-2bc4a.png 295w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-fb8a0.png 590w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nGoldenrod City (Johto):\n","position":{"start":{"line":269,"column":37,"offset":13375},"end":{"line":271,"column":1,"offset":13402},"indent":[1,1]}},{"type":"html","title":null,"url":"goldenrod.png","alt":"Goldenrod City (Johto)","position":{"start":{"line":271,"column":1,"offset":13402},"end":{"line":271,"column":41,"offset":13442},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVQ4y52U3U9bdRjHzxUJ8S/wRq9MdueFiS9bzHC4CSNDo5lzY3abgq3UQAABYSMFKm/baGm7ri8bbWlPacuBwmmhPaeFlnW0DLBVHENa6NpNUDaURJCJm/Hr8aD4kjnRX/Ikv4vz++Rzvk+ehyD+5YhLxJmN9YXC1oa3TXLZO7uI/3sW713LmJqjxJSlJnVOWoYPa4uhVQk2DZ59lsHY60/tGJReC2UGA+eFA46GpTZpFWrkIuicBej3CdFkOglJUy6U6myY2QMmc/KlfzamjcIMP1Mq7rdWpNql5aiWF0PffxxeRgSz0QCF0gabvQU66j1IO19EXVM2LusObppHDlgUd5/5wzj1nSrzaqhOyASVS1q9Gs6+QngCR+DzlcLcpcPp1k50mhQI0EbUtV2ETGEHaVdy4Hch0b8ASfMrUFtfhib6vIkD7yKCoWaWDVdj8vprCI0dBssKeaOPmtQwGNT4OnAND6IprM/exP3xeQT7SNS2yCGTUzDb2qGlTvLGkrM5MLkObhLhGU1kLJqN4eESdFsvbhuthKK4/1kadxYXkLgXR/yHONKrCazP3cTPU7ewHIwhTH4Fiy4EI3kWStsedGmPgJj49Exk6vpe+IfL0aLoQXSwlzdaXpxHYmML9PdKf5vgjTGRRsx+F10WDdxMDiz6oyCmF/SRqZn98PlL0dxhxyzrwWoq+VDQnyu5lgA405hjBWZSA3poP7ovHwMRvdEcic7sBesV4uN2ErPeIawmdwj8zbDT0IEhXy6sxjLulz+pjERv7IOfM+x2STHn9+7IcOH7OJ/xlqGWAx6CjawHQVmKIpOfZ/EZ9rhL8QXj2ZHhr7U2l9zO0DOczwElIC6pyiNedy6fIeUp5zNcn0thfiPxSNit1Xn+u98z9PjzYbc1gvD5T0QY51aGbqYGpu4qLIfCfKdXbi9w4L+Cbn8zjw2uww8iaYxb78BliMJgbId3JB+u/moQwdGjESdZgCtXBBgJiOFnKmDoLQZFN2Dpagg/xdIcOIkveVAKP04mMOrRQ+PgJsnaClufAP1Dx0G7haApMYjAmOSwrOODeGu9AD1dhxAcPQaGOQGv+32YnSWwOmq3jCe4KRnSQm0RwUBWwkoJQHve4EBV6LNxd0eWaXAga8/2TLsCZQLdpVOzqvNF6LXmcU16Fq7BHJCOSii6RJxRMYzWat7I5X2TA1VzRqc2aeppSzT2xMPXWXhMljE6ri8wkUVxuVIMp7cIgdBu9LnzeSN2+DlucRRyWRViwL6bnZ5+bOcLl9S9JZBIRLNtqjMY4HYhE3wVtF8EmhVtUN1lmsbTrsf/89a+YLyQQbtbCs61yuLB8YpNdqRYlZeX9+Sj3vwCLP+8MNIqwksAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Goldenrod City (Johto)\"\n        title=\"\"\n        src=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-fb8a0.png\"\n        srcset=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-1a291.png 148w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-2bc4a.png 295w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-fb8a0.png 590w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nLavender Town\t (Kanto):\n","position":{"start":{"line":271,"column":41,"offset":13442},"end":{"line":273,"column":1,"offset":13469},"indent":[1,1]}},{"type":"html","title":null,"url":"lavender.png","alt":"Lavender Town\t (Kanto)","position":{"start":{"line":273,"column":1,"offset":13469},"end":{"line":273,"column":40,"offset":13508},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQ4y2NgGAVDEyzbUCc5Y3ecN8UG7X6SLL/8dPTkA2drfxy7VP5//4XqMxu2Z/kdOb2KmSSD5q0ok5wzt3D6wg0pX1esLvl/6Xr+/xsPCv8fu5D6f/GhgP9LjsSeWbc5l3gXL11fXzilNfr/9nXJ/289LUHFj4r+7zmW8H/h1oRHRBs464p34byuwP/nTiRgGvik5P+JU+n/165NJN7AufvSCvetCvt//lQS3BBk+tCR1P87t8cSb+Ds1UWFe1eE/j91IBpiCBK+dr/o/+HDKf93rifBwLkbS703bUj5tG952P8dq5P/nz+f/v/K3cL/B/bG/V81y/3/2sVhZ9YuTq0lKaZP7QwXW700w3rd+prJy5fV/lixtOL/qqU5Z9avC/PbsSmYmaL0eOxwmeS6ja3eo1l8iAIAqyHVaiuPFeEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Lavender Town\t (Kanto)\"\n        title=\"\"\n        src=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-fb8a0.png\"\n        srcset=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-1a291.png 148w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-2bc4a.png 295w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-fb8a0.png 590w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nMahogany Town\t (Johto):\n","position":{"start":{"line":273,"column":40,"offset":13508},"end":{"line":275,"column":1,"offset":13535},"indent":[1,1]}},{"type":"html","title":null,"url":"mahogany.png","alt":"Mahogany Town\t (Johto)","position":{"start":{"line":275,"column":1,"offset":13535},"end":{"line":275,"column":40,"offset":13574},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABSklEQVQ4y2NgGAVDE5y5skTyyOE+b4oNOrRomvyFzXMn72nv+rGmquz/1Z7lZ+7lHfI717KLmSSDbr85IHlkX//0+RNjvzZPMvs/bYXF/5UHvf7vnRbw/1rN1P/7WlafWdu+iHgXX7+3tbB6hun/mStt/m+5W/T/3JcD/69/u/p/z5sp/zceDfh/cG7E/wex+x4RbeDhfX2FdRNd/m+4EPP/5vebKPjgx0X/Fx+x/X8reTPxBp65vdqoqsfp/8YLsRgGgly7/Lj3/235dY9ICse6Pvv/6477/j/1eQfcsKvfLv4/8mbZ/9VHff9vLqsmzcC+yfbTO/qsvs6fZ/d/042s/7te9vxftsP9/8wJ9v+XLIg7c2bNzFqSk826RVny61eWTl4wMerHnB6f/xMmRJyJmabs1/tOi5mi9LhlaarkmuWl3qNZfIgCAEnp0H59iamRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Mahogany Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-fb8a0.png\"\n        srcset=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-1a291.png 148w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-2bc4a.png 295w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-fb8a0.png 590w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nNew Bark Town (Johto):\n","position":{"start":{"line":275,"column":40,"offset":13574},"end":{"line":277,"column":1,"offset":13600},"indent":[1,1]}},{"type":"html","title":null,"url":"newbark.png","alt":"New Bark Town\t (Johto)","position":{"start":{"line":277,"column":1,"offset":13600},"end":{"line":277,"column":39,"offset":13638},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABj0lEQVQ4y2NgGAVDE6Qu0pJMnKAVsXK2jx1FBnU/NJDvv+c+ueNYyo/ZV+v+l25y+l+7LuDAlj3tTiQZFDNdVbLzWPD0na9mfV1ytfd/wXy//9H9hv/bNuf9X3Cp6f/yEzX/Z6xdsycn46MqUQYmLlArPPxk1/+CBb7/A9vU/ndszf6/5NSk/6kzbf+Hd+v+X3Fu+v8Tr3f9X73HP5QoA3seGBb27iz679sq/3/dhcX/L3+4DMYX3p7/nznb5X/3tsL/Rx8d+19SsZA4A/1bFQvbt2T+92mS/7/12hq4gSCcO9/jf/fWov9n3h79P/VkEXEGLjk5pTB8ovJ/nxb5/5VLY/+DvH/x/fn/7Vsy/idNtvnfu73s/55X8/8furqeOAOPPzru3bMr9lN4n8Z/32aF/wFtSv8Tppj+b16b/X/XpQv/lxxc+H/91aqTRy+v8iY6pq883S1WvcmtPXu99qeURZr/w7q1/k/a2PW/dubcA30XPJ3ITotxSxSFShf5t+Q2Je1pqptnN5rNhyAAANQV22oHQ4NvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"New Bark Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-fb8a0.png\"\n        srcset=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-1a291.png 148w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-2bc4a.png 295w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-fb8a0.png 590w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nOlivine City (Johto):\n","position":{"start":{"line":277,"column":39,"offset":13638},"end":{"line":279,"column":1,"offset":13663},"indent":[1,1]}},{"type":"html","title":null,"url":"olivine.png","alt":"Olivine City (Johto)","position":{"start":{"line":279,"column":1,"offset":13663},"end":{"line":279,"column":37,"offset":13699},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADX0lEQVQ4y6WU+0+SbRjHn5/a2vgrerH4ue2tVv1UrdY6aw9mZqbGQU0FAXGQQJxSU0HII2rygKAmiD0MD6nN0kftOEtb2XId5qJlreaq1dP6hrhcvL6trGu7tvuH6/7sc3+3+yKI36iZiRDntqx7PfG3NTJcwbnrrVfe1FDhoexW9rngWuB12vWVgxeM7vgaVONFdXP1mTYIDHykXeChrGMXAtRZDGs66PtC76/B7OQjzgN/q/JusS/cLOjAqYIyHDDwsN+4BgmmjdhvWoOUGh70QztxoVfCtjmlAV/l3uXghs4GzlioWjVW7JijxN2QyF04pj+KfYa1SFLnIStnBjniT0hXOnFQtxkHTdyosXZgG7y9GoybL9GzotFFcK23dlPA7g5TAh+kMgpJ2mQcMHKRopMhM3caOUKgUM6ivHI+es7J/ICMQvcyY5vNxFpU8TUETZtJd40TQt3ZWKPIZVXhZ3T0vcT9+Wk8/PgQw9NPUGGfR674a4zx4dI4yOkdKD+dwRB9AQXZUt2ENJ0cpO7QkpGvP4ypd4ug//YC+Ltxej6NhFIu8gM7QEtcDKGTppAtVc04aVQgoWgR2Oh587+gH/vWi8fR2TQJDbI8LgLcjmBuG0N4BBaSKrEgQ6/AYe2fArmQdm6HS61liBsn/GSV+jTSI0/+U8OEc9xohnadgCEmEv2ktUgdk+FKgN8zVFSJ4K8tYQh1XpCs0BbFZLgQ+OTbRz+FjT+dAeWfi8nwjEOM2dERhuit3EY6beZohvGGLRBm3YsOFshYeOhXy8CD957BaPyIU6JPOCF34ohaDL6FC02NEI8HgwxhlknIlnoHlIUU0s2p4FfwkGoWLIEV0i9o6XqFgYnnKC59HwF9QKrUDX7JJiTa/sFxywaca1LA4zGwo+3mfiI/G6vd9SHRuMsx67X6UFDQhOOaDBw9z0OyTohkhQnirJklo3j9ViTZ45Ba+S9K6hRgLvtxq6ea7qrjr7/iTuYs/WeYq1Z5jfbsgYt+a6cnFLY6G5Ft34tE67qICTfGSNuQh6G2LnZqrDUwGFL/eutMDLRzJkeCqv4r7XPlThNEZXuiRmca83GxjsJVlY++s9uz8r24sM6mrgeV3X1U2NfdzPb0OwI39K6/39zBPhOnJ1T8W6Bv2+A2ckYyNh4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Olivine City (Johto)\"\n        title=\"\"\n        src=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-fb8a0.png\"\n        srcset=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-1a291.png 148w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-2bc4a.png 295w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-fb8a0.png 590w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nPallet Town (Kanto):\n","position":{"start":{"line":279,"column":37,"offset":13699},"end":{"line":281,"column":1,"offset":13723},"indent":[1,1]}},{"type":"html","title":null,"url":"pallet.png","alt":"Pallet Town (Kanto)","position":{"start":{"line":281,"column":1,"offset":13723},"end":{"line":281,"column":35,"offset":13757},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABTElEQVQ4y2NgGAVDE9SnaktOb2v2ptig1Vsb5LccLZ+89kTpj3030v6vPBNwpmFmpd+qyS7MJBlUnjZNsvuI0/TFZ/y/XnxR/P/Jn5b/T/+2/L/9reb/thPN/1duLj6zcnEM8S5u6a0pPHA/AWzIoz8N//d9iP+/4qX3/6vfy/4/A4rd+djyf/WiiEdEGzjxtEvh9iM5/5/9a/m/4LnT/7YHWmDc8UDn/6XvQBf/bv0/cbc/8QZOOxhcuGU3xMD5QANb72nC8YVvBWAD+3YFE29g9yE31a17c8EGPvrT+H//p4T/q177/D//Pf//vV91YAMXrmh/RFLErFidMn3Drravl5+1gA0Ahee9zy3/dxyd+n/y9CNnFq3oqSU52VRXV8tPXFY0ec35tB8HL1T9X7cl40xby36/ouz/zBSlx6L9+pJTjjh6j2bxIQoAEDvQtEvr0REAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Pallet Town (Kanto)\"\n        title=\"\"\n        src=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-fb8a0.png\"\n        srcset=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-1a291.png 148w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-2bc4a.png 295w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-fb8a0.png 590w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nPewter City\t (Kanto):\n","position":{"start":{"line":281,"column":35,"offset":13757},"end":{"line":283,"column":1,"offset":13782},"indent":[1,1]}},{"type":"html","title":null,"url":"pewter.png","alt":"Pewter City\t (Kanto)","position":{"start":{"line":283,"column":1,"offset":13782},"end":{"line":283,"column":36,"offset":13817},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADwElEQVQ4y73U7U9TZxjHcf8AXvnC/2AvtiVOnEQ2kFqw0MlAwLJSQGQaJ+I0wbkBMuhYW0oyZMDsypC21B4IUgp9sljaQosKay3FzLVMrEJPaXneMhjOZepv5RxXQ9wSYpad5HpzcvLJ975Pcm3b9n8/+uGa7RrbKaHGxbH2mE4nvTLU3JOwg7icKJbZ9q/KfElQTu6H5d5JeJdq7Z5AdfKWIelS/PbR0BmhuDdjVX4rE4ppFrpD6TCFP0D7vSRovj8Ix3ABxhyF1qu9hf9eLFWf32HVHxVfD3JXB6ePQUWmgQixYQsUYNDBhlnLgMOXB/18LmQTDFzRH8DQSDEUzjz713dSNxdLNInVsoHDq1o/BxLvXhDzqRgK5MM6/B6GexnwuovxIFgGl/F9WPoZsP2USxW3efZBoc5Cd18lrnSLrHoD7zUKJGRccuB+HjpmU2AO8NBiYUDdnQjvxDHMPq5F+JkQgSd8hJ4K8TB8DuPXMjcVtzqZUFuP46ohJ5c+bheX9P5WgaFgASpVb8LlPILg4y8oaGNc66fQSO6G+RceBYcj8EbxWA8L9h9yIXEnQDtWBLnzbRosvbyH/HGtHIOzPNQRbyHw6+cU5F4/jdbZBIgevh6dhpldGF07QaF3bBw0dLLw1fV46J3H4V86T4NVl96lCi2hfIhUOyNgFQV2LbJRN/PGS6NbyaHACcth1LezIGiJh9JdiNv+Whr0BD8lR+5XwxYshFC5M1rYuZC2qe7v0S4/ByOF9bII2PgOlLePoN/Cp8ERdxHZZiyj7lCkfFGoXcl+qe4iGQvDz5xooagtBYKGeJinPgb5u5gGb6yUkNWyo9E7nFmpjP4Qz6MzkM8xcTEQS/+Up3zq/fTiZ/CYc2gwcmTnVA3c/goanFgrIyva8jGwwMUlGxNNiji4IkcIPuJHYfI59CD0CdzGTMhb96CxPQ0CCRtftuzFqLcKRkMBDerDPJ99sgzNjgy03mVjYI6Lb0wZaFHsw5irEMH1GoSeCODznYRcGgeRnAVRUybEnUy0mbPRM5SH0bt8p173UToFiv27Yvp1pReMtpLlPlcRiOBBqBZYMPlLINHx0NyRCEKTEjkeC8INqIuB75xZICxZ0HYx7WrVuX9eFnWB2Bj5TVa5zHRgXn2Lg3ZfMojFVDR0pL8ocmZDN/4hxkMl1infia2ts41ipb34woDr7HL3KBdNk0mQjh2CysvFOHnWPveHIPmVdqJh8NsYxWRmeddE/nyn59Cf6r5S6X+ytYlncTH1U7G7t/LtX0mp7f8zEYg3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Pewter City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-fb8a0.png\"\n        srcset=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-1a291.png 148w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-2bc4a.png 295w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-fb8a0.png 590w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nSaffron City\t (Kanto):\n","position":{"start":{"line":283,"column":36,"offset":13817},"end":{"line":285,"column":1,"offset":13843},"indent":[1,1]}},{"type":"html","title":null,"url":"saffron.png","alt":"Saffron City\t (Kanto)","position":{"start":{"line":285,"column":1,"offset":13843},"end":{"line":285,"column":38,"offset":13880},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD6klEQVQ4y6WUy08bVxSHZ1Upkv+XqkhI7aaLNpEqdRtvGsJDKtjB2MX24MFjZmwnFLXQKiEVtIHyCBjC+DEez3gYP/Cr2IPf5hUaEposIiTUokrNohsvfh3cBClqmybKlc7mXunTd8495xDEa5wlwajz891txNseJdWjE8ROShTNJ6JENZVor7DGdbw5GGNTul8nv6JF2XLK8Sx42QUpycIvsBCjNhwcs9IJRv8f7BO6dfECSW0vf3kSCnrh42isZ5wQN2wIiVbwMRdi2RFwvA2JTUtz/9gh/Cv4GcZ19ccMnch7TgMRr2ZCQ067IMRJrHFDmJm/jsllJ5buuhAUbJCzNKSEC/4wiUR+ANLqp5I0+d7f4EzF/n6m5D4JiB6s+F3nRqurGmjOi2+EXszmu7BS6MdkshO3fcNYXKCfG1NQMiMIRuzgVq40+R8+/J7YTHbow5ERyBtORBJD50Y3o32YU7uQrLuwuedBruFGbseDQOUaprLdLxlv7rIISRSCc5dUopq5ovcHtRQ0YChswy2fE7PqVSRrLmTqbiTzw6hULdjfMyGn2pEssq378LYJ36V6MD/HoHyoAUUHirsDKlEomfV81AM55QQXtONW2AKxOIS4yqLWsODRw/6X4v6+CdniMJS8Gys5M2ZXbagcMuAlB2oPB1Uif39EA3ohaG3BiyRuhiwIF0jEC65/wF7EVsWGaI5FoGTCNPc5KrsOrZ3MqB9ZVaL4YFQflr0IJ9xIV8Y0wy9ahskt5j+BtT07YqobwfIAZnkjqvs0lJgRjSO7Shz85tVzvKZ8BqyOYTI8+ErDo18GUNsnIW+y4IomzAkGbNW1Eqz3YbH8iUpsPx3Vc4K7BUyVx1o1FMpWhOIsclUXDh5Zn8NMqB84kCyxrbdQnEGgZsS82I/qntY+ihEL1YsqkX5M6kOys5VytnEdi2vjmI6ZsbTdgWDaAS7KIFuhUdqh4JdHtGDgb/RiptCF1Xi/1thWrQQODdiH+crHKjHxoF3vV6wIrmsfk2CRytPIlbxY9n+L6bgZKzudCGjgM6PgtgGzxU4si4MoNkhUdylEFRsiUj+iP33WnKl+tEHc/uPdCwu5HkMoRh3fExwIyB5wEQa5Io20VvglbqJlPFPo0UA2FGskKjvDiCbskKReiLnL4A4uShOHbW2G6Xbd+Tw//XPqnUCeNAWiQ0+WeAqBdY82Oe5z4/X01yjvnU2UA4J8TTO63OR+viT8+Hv7q7cOwzAXbpQ/MNxJXn2ycG/49IWxkh5CRDZAkbuxkbBIM8/a3nwv+vzjujt3ScoXpE/8YbqpxK1CKnvj7Td3VaV0mTT5WqC/AEZbTFGZpsKFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Saffron City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-fb8a0.png\"\n        srcset=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-1a291.png 148w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-2bc4a.png 295w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-fb8a0.png 590w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nVermilion City (Kanto):\n","position":{"start":{"line":285,"column":38,"offset":13880},"end":{"line":287,"column":1,"offset":13907},"indent":[1,1]}},{"type":"html","title":null,"url":"vermilion.png","alt":"Vermilion City (Kanto)","position":{"start":{"line":287,"column":1,"offset":13907},"end":{"line":287,"column":41,"offset":13947},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/vermilion-eb24a68335401b3b896252920b705870-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADHUlEQVQ4y6XU60tTcRgH8PMHnD8kyC6sIIOgjIIiIiIWWVSWUelc0x3Xsbm5+9bOdra1k83bsMgtncttHV3pnDMvK7rYTS2QIo1i1V6URREjvuUZrkzIzB88bw4PH748POchiH9402DIse/lImKpz6NeR3a27aLvjxSm/P35Ge/A2rBrYt3i4VBMQ3bFqpXeBiptYRSoDuVD274NhuhKXLq7CRdHt/L0ifDCcEu4iOS7jtGBNjrFnDNCwR6E68oR9NxRYXhci5auCuiC22GMr4GnQ5Lx1HrDKRjnw4kRExmKKpTnHbK0jauBwlEId6AIPbc1GEsZMfnVItTzaQuGRnVovUEJiY29a9ExchjxuJwPcwVZuKn/UH6Q16VYzoSjhh046V6P1n5JDnqWdsEXHIbN/hJDT3zCtxefzHMSV1/fCG/HwYxbvd9DvDHbxZc4J/axy3A5VpKDnr5z43LgFijpN0iPI1cMM4nBR/45if1ROeS8CGfVVUmir1crbuTMOOBYjkevslhraGAe9GfNJH44WS/0X0uoUB4Rwe+jk4TjyQYxZzkhgA8ms6Dy9Me/YrPVcysk9Ef6VJCFRAhcpZKEL1Yp5gylOGrZ/BM0/Bc4k1DOr0ZtYk+SGHhJiZ36MpSpC/Fw6v8TKqIrwHUcShINE1tWsS7rtKSmMDfDxYJdg2pQnXmwGZuSwuo47M6pMu2x3Ay16vcLYibjayTutQv9dyb0kEfy4LRyWdBmZackNcW4+zw7w4kPLNoiN3G64ss86Pe1EXbycxYsdxUgwp/MgrUe6zgl00OmF6O5uxhjb3/B7XwCNPVZSDS72NkdNCP2mIbGsxtqswQMJ8t0Rkt7BbAzzpKNzRqlzWxLnyplUW7ci4u9xRh/Z8rBszs3k6hvtAqa+p2QnTkFq9WJOi/Nu+so0b0kTc75p4PdNFnXqKLPGppSlFQ3J/HvieQ1UjjstRlfqyrcHy9Z+OroTFKyvkGp5CymdIWUERLPJrIzVjR5S/kb3UcWfxdbAgwZ9MvpC3YuVXXclqkuU4fr2C1Lv9yVlZXkGYn+n6Afo3kqDhcytQYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Vermilion City (Kanto)\"\n        title=\"\"\n        src=\"/static/vermilion-eb24a68335401b3b896252920b705870-fb8a0.png\"\n        srcset=\"/static/vermilion-eb24a68335401b3b896252920b705870-1a291.png 148w,\n/static/vermilion-eb24a68335401b3b896252920b705870-2bc4a.png 295w,\n/static/vermilion-eb24a68335401b3b896252920b705870-fb8a0.png 590w,\n/static/vermilion-eb24a68335401b3b896252920b705870-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nViolet City (Johto):\n","position":{"start":{"line":287,"column":41,"offset":13947},"end":{"line":289,"column":1,"offset":13971},"indent":[1,1]}},{"type":"html","title":null,"url":"violet.png","alt":"Violet City (Johto)","position":{"start":{"line":289,"column":1,"offset":13971},"end":{"line":289,"column":35,"offset":14005},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADp0lEQVQ4y6XU/08TdxzH8fsD+j9UW9omM24R2SQGkn1xiwvju0eBpobNKXOjhVkLrLQFWlv6/eu10NBSLVRqYdhR5nCwCEJaNt3YOu38kv20LNZJ2Eac/tAfXjsOqRaWDOP9crkf7vl55P25+xDEDi6j5CBLd7KwkHjRa25UzPqCKuv47OOXM62n9mTl7++LqZv3P3/4Stc4K9jWq+jt6lyRe8qh/m4vLL8WQxZ9CadVB+C2N8WjY93/H8bx31g/1Ic6RqSDmU5vE1RLr+LcfRESaxNYvD+NydUemO4egHx8D6Sy17LdraJY/LJje/jPT5ZZae2MYo4aWjntaoL6WiFCf4ix8NcYwte8OOYtRa2ZD/2kBPO/X0J8VcOIO/1W6DUxhM5R8d72so0wpXy9eIYyZ2yTFVAv7c2J0g9vwjOnQrmejSM2LoRuLipNbNQY+TBMSXJiW0qE7sEwFLJL2e52cT8x3n+CpCbEoO6VILkWw89rKQSTNohdRaix7AZp56LRLYCIEqDBzUOtdTeqjZw8ceTBSSiDI9AppQkiYBCRplA5BjJv4/bj25CFqxlRo4eHOjsdMNB3iwD1dgFIMw819HMjxc+JlWNHcfPRT0ww5HIkCLuWJFt6XkH/vUNMsCV4mF69gBHVO/kgrXTAJWCUQgcPpIWHBietdfFR0cdGV/Qo89568Gr0qwTx/TfnSammCKYvPRvBs3TQVJAnElqfCC1PxUIrH5VGNlSfPw1GfPoEkVqIkHJdCQwXgzkho9oi2ipeF65v2LNCqu+jBDFgEJJt2n25oCR0GFV9nG2irWKhnZ+b4WYwPNSXINLNcdIYOZQnrDLQu2gsQJ2N958zrDXw6XBB3gxVQy4EB3wJYmq4jTRPvZELjt0YRHOghPlkynW7UN7LQZ15Q1il56KsZxeqTRyQ9GLGyxJMpIeeBK3we/wJQqsIF9tmSzOtbiNcVyjMr0Zx6/EviKQ8OD5Yive0bFSc4dBj4DKialpnnJbg+moSPz5cxIVbPmi9cRic3myw3zfL/C3XkydYSa9JEVCbVmQOM5yzPiysjSL96AYd9jLiTdG3D64i9c8SIncoKN0BnJGPYETfEv/aVVo4qjvI2nY43JFOdZzV6jOnnOY88bOiLmoY7Z9ezJoNjtii/52dnTrB5bcUmsiRlVavlhFvimwfLsKoCcadAefzn4vev4tY/qU3O2zBYxnnB/PZmYbp2N3K+Iuf3MP7O1nL757fUehfsnzeT3FypGUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Violet City (Johto)\"\n        title=\"\"\n        src=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-fb8a0.png\"\n        srcset=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-1a291.png 148w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-2bc4a.png 295w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-fb8a0.png 590w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nViridian City (Kanto):\n","position":{"start":{"line":289,"column":35,"offset":14005},"end":{"line":291,"column":1,"offset":14031},"indent":[1,1]}},{"type":"html","title":null,"url":"viridian.png","alt":"Viridian City (Kanto)","position":{"start":{"line":291,"column":1,"offset":14031},"end":{"line":291,"column":39,"offset":14069},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADsUlEQVQ4y6WU+09TZxjHz69L+k+MCrVmyzJG50zmspgtcpmTFo6EDSnMcjGTQVDpcrgUtS1UbMdF6CgaLmukpUVLLyi20NouR3ZxAy+j0yDMVtawZpEly5AK37UvsablBzW+yfnhvOc5n+fzvOc5D0W9wJqZkXFcHlk69apLr9dzhg31UpNXHDK7CyOWKYnF4zr68uDA3UrOlfHjzLCzJGx0ZcFjF+GGrxgO6ycwugvR3s3YTklVzwfrLSWcS5P5UrOnIGR05MBtE8J/rxrBNTkersux8HcDfo6CrWOZGB3fFzFZ3rd0/pm+FWyfVHNUXUeZs8OHw/bLn8Jnzcfd+RoEnyjwYL0ZUytiGJdz8NvqcSxFwYsrTcT4ojELqu4PwahzbbJK8Sb44tXG94YmvgiNOvbBO5YXNwqun4yCitEZEEC5uINcrYtvwLCcDf9aXYKxqTcTckYSUQzt11Kd5lL6O6cIN1kxgpGo0ZMTmHokhuaPdCju89F0k48KcxqKerfhmJcH+fwOsp9g/EgG6/m9UJrfZamGkTfpQe8B3P6ljDwcCO0hNs13+CgbSYWwNQX56hSITqcgt+V1fKbdhrrvt8eNb63WRitS4uqVg+jpymQp7XgObfAW4c6v5QSoe7ibGOSd4UKoSoGwhQtaw0XeaS5yo/BcZSwBFzVOHomb/a8agSjw2o9foludzVIjtira5JXEDfuWPiDZnxrtjwJicFHbs/uY8VcTaSRudrWGAKfYw+hSZ7GUaU5ED7gkWw2TjJKNqy6nxQ1jJXt9Epw5u4ellA0ZdEvr6FbDJKNk4+oJXtwwBpyeLAKjE7CU7XoV3dFj32JYbkolkOQzPNDORa2bB+bG9oQznHYfxKn2vSzV6xbT33TbiGGst67/Ww7nyudoD7yDplt8SAyppOSYcWEPF3Xs5hce+SsHM6vVWIg0EuBP14qh1RaxVMfYTlqhcsJlrcTc79Fsj+XENLhxgjR2xwMBmm7zcczHQ8vCs8aOxQQeKzG/3IDZHw7B58iLmI1iF6Xwv/XayYkyASO9xwwN1Ifd4xLMzR0hTU5e2miG5x8xMZpb22zkmFEMNDNdCruxFIauj2xDql3pfc27OAn/tEKh4Kg1Kqn+gizkth9KMF7akJMkT40cxpJI/znGcu587/OnTkVFBUczWMD0XxKGfZOF8PuP4H64nhhZB7LRpymw6XS6l5+L2sadHHX/29ILYx+HbIPZkW8Vuy0dXwtefXK31WRw2mozXgj0P70eDYxLsolbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Viridian City (Kanto)\"\n        title=\"\"\n        src=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-fb8a0.png\"\n        srcset=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-1a291.png 148w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-2bc4a.png 295w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-fb8a0.png 590w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":252,"column":1,"offset":12784},"end":{"line":291,"column":39,"offset":14069},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":297,"column":1,"offset":14081}}}},{"id":"transformer-remark-markdown-html-ad4aa33d9277da1a0e787a47636b7304-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>No, It‚Äôs not Easter for Christmas‚Ä¶</h2>\n<h3>It‚Äôs a quick surprise for those celebrating christmas from npm!</h3>\n<p>Simply issue <code>npm xmas</code> in your terminal:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-650df.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 104.14364640883977%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQklEQVQ4y61U2XLaQBDkLeEQQZbA5pIT0AGyIqFbCCQQ2HGl/BDHqeT//6QzWlEYh8Ok7IepkWZ2e3t6ZrcU6GO4YwVeosLVFbgGmavCv3IQfEowF39iJj4yi/hb8j8w5e8p/oSwkSEi++U94Lua4E/wgJJVlWGXj5tbO53/10qT8vDkAq9Jnn9HQAb2boCCTLqtSLc1+z4L0KkqR5OOKGPWjKk5OuwLilXewjBn1DRhNwxEoolM8mGLbwFkuinw6yGWEvkBMb2cngFYOcIu7zAnw+cCuFUDt4MUseq/quVhhrRp2TeYZveqgjlvIKXynYqCuP/1pJb7gAR2KwTUiDHWfIRF16JOa1gJPhLOLtaI/wEYE5PoovjOr17SJrY9jzS92cpwai5fAm70Ca9jRALd6c21dLoe5pzFGpSXm1wlR7XcA8wZPA0eqSwTYZtYNfRtfjlcYNYaIWhQs4TxQS2fATcnJp0QK6koe6lncKSQjY9d0/Dbu0PWDajzGhZ196CWW0CnR13seIgHhfBZy8Ts0sBCshDyasEw1zLfyI12ZvUQILELSJ+sHbLg6otFb+MKXt3HNNeNAIJehJS38E2hA2l8PN58UdnOYA+pLBMLwcF6dEcaakg7VtHxfrodlZAkmNYmiHsJNUdGyjnkR3t3vDShgDM04EkaZopFpSt0wJj5QJrAbhWl+Z8pTiPk9m8QdHWWnw+L9btavv4eCvLZTxcD1D72oX+4hltWn58t0sitFf+sLDbQGjOWr6pHAf8CkhZRHCiOkhwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"A nice little Christmas tree\"\n        title=\"\"\n        src=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-fb8a0.png\"\n        srcset=\"/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-1a291.png 148w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-2bc4a.png 295w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-fb8a0.png 590w,\n/static/npm-christmas-2a17567402dd88093188006fb75ee2b6-650df.png 724w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>(You would learned this only if you been a good boy or girl and read NPM‚Äôs recent Newsletter üòÑüòâ)</p>\n<p>Another fun fact - the tree is not deterministic! Give it a few runs and you‚Äôll see what I mean.</p>\n<p>Merry Christmas and a Happy New Year everyone!</p>"},{"id":"transformer-remark-markdown-html-5b7d37f6fb2eb98bedced465ead6da50-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>A Real Treat!</h1>\n<p>Over the past few days, I‚Äôve done some data analysis, scripting, and art with the 20 towns and cities from Pokemon Gold. The results were fairly neat. Follow along through all the technical steps I took to generate the images if you‚Äôre interested. If not, just head down to the bottom to see the results!</p>\n<h1>1. Acquiring The Pixel Maps</h1>\n<p> I found map sprites of all 20 towns from the amazing Spriter‚Äôs Resource: <a href=\"https://www.spriters-resource.com/game_boy_gbc/pokemongoldsilver/\">https://www.spriters-resource.com/game<em>boy</em>gbc/pokemongoldsilver/</a></p>\n<h1>2. Breakdown of Maps into 16x16 Pixel Tiles</h1>\n<p>After getting all 20 towns, the only requirement is that the map that can be actually be broken into 16x16 pieces - as you‚Äôll notice the sprite people often put all the insides of buildings onto the same .png file, so this just took careful cropping to get the part that interested me - the ‚Äòoutside‚Äô part of the towns with the buildings, flora, and road/path tiles.</p>\n<p>(Yes, I know - with some effort this too could have been automated, but hey, it took me a total of about 15 minutes to crop the 20 towns myself, so in this case I think good old elbow grease was the faster method)</p>\n<p>I wrote a Python function <code>createTiles</code> that moves in 16x16 blocks across the maps, saving each block as it‚Äôs own separate .png file:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">import</span> numpy\n<span class=\"token keyword\">import</span> os\n\n<span class=\"token comment\"># definitions</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">createTiles</span><span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    oImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\".png\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># big town png</span>\n    oRGBAImage <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># covert to RGBA values</span>\n    iWidth <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    iHeight <span class=\"token operator\">=</span> oImage<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    data <span class=\"token operator\">=</span> numpy<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>oRGBAImage<span class=\"token punctuation\">)</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span>iHeight<span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># y down</span>\n        <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span>iWidth<span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># x across</span>\n            row <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span>j<span class=\"token number\">-16</span><span class=\"token punctuation\">:</span>j<span class=\"token punctuation\">]</span>\n            tile <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                tile<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>k<span class=\"token number\">-16</span><span class=\"token punctuation\">:</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            oTile <span class=\"token operator\">=</span> numpy<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>tile<span class=\"token punctuation\">)</span>\n            im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>fromarray<span class=\"token punctuation\">(</span>oTile<span class=\"token punctuation\">)</span> <span class=\"token comment\"># this array represents the current tile we are at </span>\n            <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                os<span class=\"token punctuation\">.</span>makedirs<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span>\n            im<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>sTownName <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".png\"</span><span class=\"token punctuation\">)</span>\n            count <span class=\"token operator\">=</span> count <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n</code></pre>\n      </div>\n<h1>3. Converting PNG Tiles to SVG</h1>\n<p>But hey,.pngs that are only 16x16 pixels in size are no fun - you can‚Äôt scale that up to giant resolution wihtout inevitable blurring or such - to keep them crisp, I converted each 16x16 tile into an .svg using a previous tool that I built, <a href=\"https://github.com/frewinchristopher/pixelmatic\">pixelmatic</a>.</p>\n<p>Great, now we just need to print the tiles in a creative fashion!</p>\n<h1>4. Printing Tiles in a Hexagonal Pattern</h1>\n<p>I had this neat idea to create a spiral and print all the tiles, including repeats, from each town into an outward spiraling fashion. As you can see from my beloved notebook notes, I spent almost too long try how the heck to print the tiles out in such a pattern:</p>\n<p></p>\n<p>Trying to figure it out.</p>\n<p> </p>\n<p>Getting confused‚Ä¶ STILL trying!</p>\n<p>After lots of brainstorming, I realized it was easiest to implement by creating a walking vector. Each ring has a known count of tiles, and then you just walk around the hexagon:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">from</span> duplicates <span class=\"token keyword\">import</span> buildDuplicatesList <span class=\"token comment\"># refactored duplicate function</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n\niSquareRadius <span class=\"token operator\">=</span> <span class=\"token number\">8</span> <span class=\"token comment\"># square radius of 16x16 tiles is 8</span>\n\n<span class=\"token comment\"># given int, returns array representing x, y coordinates</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getStartingCoordinatesOfRing</span><span class=\"token punctuation\">(</span>iRingNumber<span class=\"token punctuation\">,</span> iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iRingNumber<span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span> iRingNumber<span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">printHex</span><span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># initialize vars</span>\n    lDirectionVectors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">*</span>iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># down, SSW, NNW, up, NNE, SSE... and no, SSW is not southby -_-</span>\n    iNumRings <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\n    lRepeatImageNames <span class=\"token operator\">=</span> buildDuplicatesList<span class=\"token punctuation\">(</span>sTownName<span class=\"token punctuation\">)</span>\n    iImageWidth <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span>iNumRings<span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius\n    iImageHeight <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span>iNumRings<span class=\"token operator\">*</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>iSquareRadius\n    oImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">'RGBA'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth<span class=\"token punctuation\">,</span> iImageHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># initialize our image we will build # TODO: add padding?</span>\n    \n    <span class=\"token comment\"># initialize vars for loop - start pattern off with tile in the center (exact centered around 0 will be minus a radius in x and plus a radius in y)</span>\n    iImageIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    iDirectionVectorsIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    sFileName <span class=\"token operator\">=</span> lRepeatImageNames<span class=\"token punctuation\">[</span>iImageIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># first tile image will be the tile that is repeated most - and will continue for the number of times</span>\n    oTileImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">)</span>\n    lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span>iDirectionVectorsIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># initial direction for each ring (down)</span>\n    oImage<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>oTileImage<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius<span class=\"token punctuation\">,</span>iImageHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># tile in center of image</span>\n    iImageIndex <span class=\"token operator\">=</span> iImageIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment image index</span>\n    \n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>iNumRings<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># loop through desired ring numbers</span>\n        iNumTiles <span class=\"token operator\">=</span> i<span class=\"token operator\">*</span><span class=\"token number\">6</span> <span class=\"token comment\"># ring 1 has </span>\n        iDirectionRepeatAmount <span class=\"token operator\">=</span> i <span class=\"token comment\"># the number of times to repeat a direction before changing it also happens to be the ring number</span>\n        lCurrentTileCenterCoordinates <span class=\"token operator\">=</span> getStartingCoordinatesOfRing<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> iSquareRadius<span class=\"token punctuation\">)</span> <span class=\"token comment\"># starting coordinate of this ring</span>\n        iSameDirectionTimes <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># initialize times</span>\n        iDirectionVectorsIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># initialize direction index</span>\n        lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span> iDirectionVectorsIndex <span class=\"token operator\">%</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lDirectionVectors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">print</span> <span class=\"token string\">\"RING \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"------------------------------\"</span>\n        <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>iNumTiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># print tiles for this ring</span>\n            <span class=\"token keyword\">if</span> iSameDirectionTimes <span class=\"token operator\">==</span> iDirectionRepeatAmount<span class=\"token punctuation\">:</span> <span class=\"token comment\"># first determine direction for this</span>\n                iSameDirectionTimes <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\"># reset direction count</span>\n                iDirectionVectorsIndex <span class=\"token operator\">=</span> iDirectionVectorsIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment to new direction ( we walk around the rings clockwise as we 'paint' )</span>\n                lCurrentDirectionVector <span class=\"token operator\">=</span> lDirectionVectors<span class=\"token punctuation\">[</span> iDirectionVectorsIndex <span class=\"token operator\">%</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lDirectionVectors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span> <span class=\"token comment\"># modulo gives us the proper index such that lDirectionVectors acts as a cirular list</span>\n            <span class=\"token keyword\">if</span> iImageIndex <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lRepeatImageNames<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># we've exhausted all our tiles</span>\n                <span class=\"token keyword\">print</span> <span class=\"token string\">\"No more tiles :( headin on out...\"</span>\n                oImage<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"results/\"</span> <span class=\"token operator\">+</span> sTownName <span class=\"token operator\">+</span> <span class=\"token string\">'.png'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># save the finished image in the folder with its tiles</span>\n                <span class=\"token keyword\">return</span> <span class=\"token comment\"># done processing</span>\n            sFileName <span class=\"token operator\">=</span> lRepeatImageNames<span class=\"token punctuation\">[</span>iImageIndex<span class=\"token punctuation\">]</span> <span class=\"token comment\"># first tile image will be the tile that is repeated most - and will continue for the number of times</span>\n            oTileImage <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">)</span> <span class=\"token comment\"># open the image that corresponds to the duplicate data</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Current tile coord: (\"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\", \"</span><span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")\"</span>\n            oImage<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>oTileImage<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>iImageWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius <span class=\"token operator\">+</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>iImageHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> iSquareRadius <span class=\"token operator\">+</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># paste this tile at these coordinates into the image!</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Now moving \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" in X\"</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"and \"</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" in Y\"</span>\n            lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># x direction to go from vector</span>\n            lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> lCurrentTileCenterCoordinates<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> lCurrentDirectionVector<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># y direction to go from vector</span>\n            iImageIndex <span class=\"token operator\">=</span> iImageIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># increment image index</span>\n            iSameDirectionTimes <span class=\"token operator\">=</span> iSameDirectionTimes <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token comment\"># also increase direction 'times'</span>\n</code></pre>\n      </div>\n<h1>5. Data Analysis</h1>\n<p>Ok, I‚Äôll admit it, the goal of this project was much more heavily leaning towards the art &#x26; design component: for ‚Äòdata analysis‚Äô I didn‚Äôt really do much of anything except find the duplicates of each tile in each town - and how many times that tile appeared, because I needed exactly that info to generate the town designs.</p>\n<p>Building off the code that is in <a href=\"\">the repository</a>, some other interesting info would be to find:</p>\n<ul>\n<li>total number of unique tiles across the entire game - finding most unique and most repeated tile</li>\n<li>total number of colors</li>\n</ul>\n<p>Though perhaps hunting around on the web this info is already freely avaliable.</p>\n<p>To get the counts of each repeats, after all 16x16 tiles were generated, I got the idea to just find a python script which counts duplicate files by content (a hash comparing algorithm). I found a nice one by Andres Torres at Python Central: <a href=\"https://www.pythoncentral.io/finding-duplicate-files-with-python/\">https://www.pythoncentral.io/finding-duplicate-files-with-python/</a>. I refactored it so it could just be called as a function and return an array of each repeat file name. </p>\n<p>What I mean by this is: let‚Äôs say ‚Äò1.svg‚Äô was the ‚Äòground‚Äô tile, and it was found to have the same contents as 336 other tiles in Goldenrod City. Well, this array would include the string ‚Äò1.png‚Äô as the first 336 elements, then a string with the next most repeated file name, and so on. The array that this function returns is the key looping array as we print our hexagonal style pattern in <code>printer.py</code>.</p>\n<p>Here‚Äôs an example of identical tiles and how often they repeat for Goldenrod:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>336 like goldenrod/348.png (ground)\n230 like goldenrod/374.png (pink tiles)\n62 like goldenrod/1409.png (tree top)\n56 like goldenrod/823.png (water)\n56 like goldenrod/1226.png (right corner house)\n56 like goldenrod/201.png (left corner house)\n53 like goldenrod/1353.png (fence)\n51 like goldenrod/943.png (roof top right corner)\n51 like goldenrod/162.png (roof top left corner)\n48 like goldenrod/229.png (house normal wall)\n46 like goldenrod/1186.png (roof center)\n31 like goldenrod/1481.png (tree bottom)\n26 like goldenrod/400.png (roof top edge)\n26 like goldenrod/439.png (roof bottom edge)\n25 like goldenrod/539.png (top edge ground)\n25 like goldenrod/77.png (rock wall middle)\n20 like goldenrod/1368.png (shore)\n18 like goldenrod/1030.png (gold brick wall)\n17 like goldenrod/505.png (brown dirt top edge)\n15 like goldenrod/1387.png (ground with gray fence)\n14 like goldenrod/159.png (etc... you've gotta be kidding if you think I will)\n14 like goldenrod/158.png\n14 like goldenrod/980.png\n14 like goldenrod/198.png\n14 like goldenrod/429.png\n10 like goldenrod/1421.png\n10 like goldenrod/610.png\n9 like goldenrod/758.png\n9 like goldenrod/238.png\n9 like goldenrod/200.png\n9 like goldenrod/403.png\n9 like goldenrod/170.png\n9 like goldenrod/217.png\n9 like goldenrod/377.png\n8 like goldenrod/920.png\n8 like goldenrod/148.png\n6 like goldenrod/107.png\n6 like goldenrod/149.png\n6 like goldenrod/512.png\n5 like goldenrod/260.png\n5 like goldenrod/261.png\n5 like goldenrod/831.png\n5 like goldenrod/836.png\n4 like goldenrod/880.png\n4 like goldenrod/249.png\n4 like goldenrod/1031.png\n4 like goldenrod/784.png\n3 like goldenrod/570.png\n3 like goldenrod/573.png\n3 like goldenrod/548.png\n3 like goldenrod/572.png\n3 like goldenrod/248.png\n3 like goldenrod/571.png\n2 like goldenrod/389.png\n2 like goldenrod/1343.png\n2 like goldenrod/658.png\n2 like goldenrod/1171.png\n2 like goldenrod/659.png\n2 like goldenrod/997.png\n2 like goldenrod/161.png\n2 like goldenrod/924.png\n2 like goldenrod/1173.png\nTotal Duplicates: 1507</code></pre>\n      </div>\n<p>So our return array would contain 1507 string elements, each with the value of that repeated file‚Äôs name.</p>\n<h1>6. Final Results</h1>\n<p>I repeated this process for all the towns of Kanto and Johto (for non-Pokemon nerds: the ‚Äòoriginal‚Äô towns and cities of Pokemon, plus the ‚Äò2nd generation‚Äô towns, a total of 20):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>Azalea Town\t   Johto\nBlackthorn City\t   Johto\nCeladon City\t Kanto\nCerulean City Kanto\nCherrygrove City   Johto\nCinnabar Island\t Kanto\nCianwood City   Johto\nEcruteak City\t   Johto\nFuchsia City Kanto\nGoldenrod City   Johto\nLavender Town\t Kanto\nMahogany Town\t   Johto\nNew Bark Town\t   Johto\nOlivine City   Johto\nPallet Town Kanto\nPewter City\t Kanto\nSaffron City\t Kanto\nVermilion City Kanto\nViolet City   Johto\nViridian City Kanto</code></pre>\n      </div>\n<p>The repository has all the code, 16x16 pngs, svgs, and the final hex images in the <code>results</code> folder. <a href=\"https://github.com/frewinchristopher/pokemon-town-pixel-art\">Check it out on GitHub</a>.</p>\n<p>I may revisit this project for more designs at some point, I think there are a lot of cool things that could be done with these tiles.</p>\n<p>I call it <em>The Pokemon Kaleidoscope Series</em>!!!</p>\n<p>Enjoy!</p>\n<h1>The Pokemon Kaleidoscope Series</h1>\n<p>Azalea Town\t (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACg0lEQVQ4y+3U3UuTURwHcEHwD/BCCAJxD6kj0aZSowRLJZVRbk4jfB2TCArtBS+UZtlmqZublpubbtbs2dQ5h23Ps82xl2Y5QZ0h+ZIz8C7o5SYkybtvTxrdtFXkrb+bw+FwPnwP/H4nLu6wYpV+Un/kwIhhypCgevaw+s5IXaTLfWHXFmztf/fJm/xfGKkvrZM9yV9vdp7E1clU1Ayz0ESlo8t1fkepPKsdkpz5e2KnvzTB7eJUW00lEbnvFBpdaWgYzMPYshpzHwO4ZxehZigVjQzcPpKza+os7B/qTYmdeOH1Xa7FLoRihYO2QAEsKwNY31kFFTFh4JUEy1/CmP3ghZRqQK2BgNaZixln5kRscFHDNTv5uOlhI/ItAvfWOG6QxahUEajsJVD1OAP9wRasfX0DxfQtSB1ZCNK5FPOy+Kjg8qaYSy4V4bY/fQ9sfy5C2QMWhHICQgUBQTdrb7/wOQSljwHtmQh4CuB1Fx6NCr59X8s1LhYwCfdBGS1ikBRUKAlc6iOYlQWBnAXPlhUKz8+Erko4Bq9FB0NzBFcXzP8F9jCXfiQq72awHiZhFwuXe7LwyNuydyajM+EY5sFmbo4OWnU8ruZFHiSLGRDrToOc18C+PopmkwB16mxog1JMb9rRNiFGK1WCTpoDv7oCa2pFdNAsL0yeMNeEDXQxVBvZaHTvtw25oIZvi0abTYR6Yxr6vDkYf3oOU0b+Nt1dbgtI6pP+2I9GjZhn6C0L6+k8KFY5aGL6sX6EQEcoC1ayCPbR69tu6n6H13Il8Z8nZWMjLj40c+yixcEPjy2dALl5HK5Z9va0q6pzflWWdKCZpjwC3ssQuyMQFCYefpO/1XdtanmG3UW5EAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Azalea Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-fb8a0.png\"\n        srcset=\"/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-1a291.png 148w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-2bc4a.png 295w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-fb8a0.png 590w,\n/static/azalea-e4d3add3e4ede95edbcaaf62341d24ab-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nBlackthorn City\t (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADOklEQVQ4y6XU3U9ScRzH8XPV1sbWP9JV3XRVyzVLM3XV2ey5VoSlM0QQPKIgRKE8x+MBJMUAtTIWaUpoakpqmoqi9mS1Huaam2aPGxefDoeN2Zo9+bv53r332s73fAniL55VmctxqvO3EOt9b78Ocbo75eJr2pwFvyEvQdOSoM1n+/fw9/kXnNd9EarLJ1hsu5KDhtps0JocBPR74bOeQF+ZLvSGH/1zeHBAzwkPUuKOPslCS+AcGvUHYK7fi5aZUtz7YMediBUe3UE0a/egvYab6KcuByeftvwavl95g9Mroqm7Dumi7/oZOHWHYGnIQyBeipFPnZj7NIX4+x48+fYE00sTaO9xwK05iAATDphJhK4LQ2PjllS4v7B1W7dZveD38eDSH4bJnRI9+syEVmIYH7VgwJuPB+5MDN8VIP4uwobjy5O4HbbAIMuFvWoHvHWZiauG3XZi8uht0msvhLkuF77p82nR+JgVg037MeDJYmK7f5ojyfAqsb9VCVq2EzZlRpSYz+8g6UunYDHlofdjI6bfdKVEzl3opzPWnox4tLeGjUaGfXBUbQetyIwS8RPtZL2xCGZjLhuMPW39RbTWHAry2GB41At7dQbcqj1RIsbtIK+ZLqSFsbnm38tWzYdtp9lg55IBRkkeXBeZYI/ATDbqCtclTAaFXD3CQkWUMMuzSLfp+LqFZWdNmJU6owT/bA7psXH/Q5iN4VBxOijgmjBVbWc+So+fbKJ5rLBryZRamQknszIH1pQN3SlhtiHM7Okkpr6OoWNJwwqfUe4o4bxUQHq0h+C1n4FUVgD7/ZMYXL6JuS8zmJhwIdp8GAMN+1KiVYsd+zKCtudyyB1HUCU1ws13J6ZLrRFidiiw0Wuo4alF5Lta0XlIi20QVUpA9x3Dw5UgK55dfsyKkqGk6NYrBeS2AlTwzfBU1iNW7AyNZ/m3NG2VcNL/s6AIG27UU0UNeuNLZalsRXbBgXKpMC1eLaJKjNBWexNGpTWoVdX9/uq4xJs3qkRXNlGFVZRKIF+sLtGx4qSokm/CxXIHLCpNSK3o/Pe7yKg5KqFLrBFXLGgr6hJqoTSoKG9Z/+VOhst4o38V+gGzKzRxU/Un3AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Blackthorn City\t (Johto)\"\n        title=\"\"\n        src=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-fb8a0.png\"\n        srcset=\"/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-1a291.png 148w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-2bc4a.png 295w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-fb8a0.png 590w,\n/static/blackthorn-66fda4da8f42feb7839f624a76ecb59a-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nCeladon City\t (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADH0lEQVQ4y6XUzU/TcBzH8V5Nlvg3CLh4wejUxMSDHEA9mDCDlaibCAgbT+PBzbLhfLioCCouDuZDhsDcupWybi3bWNkwUYcPRAz4gIrGp+gOxIOJXpb4sS2RYDDKtMn3+s6rv377I4hlPO7e3arZT0c0xP8+0US5ig3pqaFwXVpMHsmMT1m42Y+W7MPeZ8UqQaiwCZGGuZGkDb3hw3BEqkAzdkREM8IxKx8aaf17+M3kQdXAq22Ub0KfjietGH1mguNhISo9apQ6ctHMbcQFvkIJ84Il42EtnJuuXhr2fN+kEqdLbKOiLLJj9GkjnNOFKLueB7J9NTqYAtDxYlQ58kFeyEWLoFkQcwKFAGfmg+yB+bDzQcFm15guzSdacXO2CZceFSkisiMP7b6tuD9ZjpcvapWZmTHCF9Oi2pn/i9jjM2MoYMwMuYp6iFuijuR4CsIn3S+iiUeVC6HfzWKx9eYG+HxWsNe0KeL91xNkONYG/9sSaE+vQuR26R9Di0cW1zrXoY5Xw0fbEPQdTBFPXjSSLG+F/40UPJODxPi+ZQflMbk0qA2p4ZfOU4hQKSIe0JI0Y0bg3bwwcTfb4HpF6KXbwPGWFGGu6iNv0MfBzhzCrvYcJO9lF2y8rEG9IAWlMxwaMaaI558vklzUDka0K8L+2M6sgg0988L+/lZ0+6WPInzYTzLDFNjECeUMT3q3/NMZerxtcHLFKWLqiomMcDXwhihFSJ5djXPBAkw+/vPaBMaK0eLeAL1jjfLKfX2tuBSUgqlhiozHDF9Yth7nXAZQ9HaUudXY05mHTlbax6lFi/3cCCapRc2Vtcr+NTAb0SUcwABXi55uR+bMKW6UeP/NueL1ZNXKpFhpi0UNc4OMEa6AAW2h7dBdzV0QyyJDdz5KOnLQGFyPjqAevQPSn+XswjH7BG8yQNNSB9WSyyEpVlDxEUNaFruYGhwN7VDEP0WdIT3oQDOGo5aM23uek0N/vXVm7+xVyeKoUD3HDppwWQrLItrfAH7YjEHhOH8jaM3+XpTFUaGSikVN6WikPhMKN3Gefwn9Tjwu7l1W6AcBOiBXE/aowwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Celadon City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-fb8a0.png\"\n        srcset=\"/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-1a291.png 148w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-2bc4a.png 295w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-fb8a0.png 590w,\n/static/celadon-27e1eb6b7dbc557fd459b8d46ad350bf-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nCerulean City (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cerulean-29de227169c032f1a8371bb17468084b-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADtklEQVQ4y73U3U/aVxgH8P4BXPWif0GTLe3cJqmubo1ma7PLtsuSOWdaadNW2OrU1gLyEkQRClaUgiAiLwUt+BPkXX68FqnIdL4tGiRObcfcYjOTZV64JV58hz9a0y5Z6rZkJ3kuzyff85xzniNH/u/lSg0ftYfNEs8UERNag5X/Guoz9B1zRIZkj3KxHXLNhd6QEL5vvRicSCW7kqsfHRpqtiSO2ki/JDa/DzkhJS+hPVyGnnQ5bI/ZCC+FMDKbBrFMxIj0+b9PPGYXHQssNMviT2I70Q0vZJFaiEKlMMfPwFAAu/2lGIiXYWD2HDxZKcILJIyEAExJefKm8+0WxaMS+gGm8Y0KE2TbTmBaTiVSemoxHPwE+sgp3B5+D4xWFa6wkrihqcG9wDswxsqgnz8L/5ICRNQMoaQOEmXFntF6WUeBetKRVw9U4q77IlzOZph9H+OW/X3UsTXgtm7BlfgRU0+/R492G1dZKdzQ1h4k1s5/iMi6EZ2yryEfsUxRoDd9OS/Xn8ZD701I/SVg8O+Bw92CO5nH8s4KVn5/XrsrSG+sQaX7hUrMUJ0FL/Mmguvt4Chk0A09B81uZb5r8AMQvibwibdQX/8U2d0sheT+yL1SL2C99RmquSxwCqBvQwSRrhN9LnER7HE+zPd7KilQMFoE9zf9FXsZpcBWZhF80gZhnwht/qEi2OGO500TVYUjN0DoKkE98/VgIPMDPuexwE6/gcBaO3hqPq4bG4ugym7Jq5YqqB4KRk8eKuHMT6uFIxcT7veQe18I4YOLRbDfdzuvXniph19lMUJuYum3HAUfXEqh9nubzK3DEIiimn+FAg0TLDR2h6EKeovg4Jggr148A3ugFUPeC2ATp8AQyNHC3oRjfJO66ReQREeiRlwDhvU4uImTuDtXAWOqAdc7VtHj9hVBE6HLSh+L0Tv9KbQRAZwuGayB82CPlIMhlOHL9n5I9CFUiz5DneU4BDMnoJqvgi3DLSSN4FZvADyzda87aopRYPbXLG1ows/jBDLbyqgCuhSr8GhFIEYlsPkv4I7zBK4WINHku1AvnoNlqgWRRTs01gzaJE4YEk3++LiAPpmdpL3yn5nOn2lSm4dz3+TYMnllcH2jxdjEGFwueSF1E4jQA4SmHfAtK6AcFe9pbEGPUs6kv3biNFzbpd1pnOWJVZJt7bgboRk3InNOeOc6oA9fg9nG9w/aO+n/eCaqeFW0Jsd3HD5JbukTl/a0dq4nHPyC/p+ndt+z07SutdJDQX8CLC4Stw39Xo8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cerulean City (Kanto)\"\n        title=\"\"\n        src=\"/static/cerulean-29de227169c032f1a8371bb17468084b-fb8a0.png\"\n        srcset=\"/static/cerulean-29de227169c032f1a8371bb17468084b-1a291.png 148w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-2bc4a.png 295w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-fb8a0.png 590w,\n/static/cerulean-29de227169c032f1a8371bb17468084b-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nCherrygrove City (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACVklEQVQ4y+3U20uTARgGcCEQut2FEAT9BUUSjJFoFAQrU2bQmpu5g5uHHWx9m7q5uenct5PlHOYc6tzBbepqaCyHZhRpGOISc6l9IQR1YUGErAvr6kkGBeGnFN76wHv747l43zcv7yj7ZcBYdOLQiEV7NT/iZQu6YkyqM37uRzBw/UM0TNrDlv6C/8ZGesuqvcnidc1YEWRmLxq0C1AMVqPrcTGe3GvKzo93WD8LXjIORAghM/9Oo01gi/ApTfwCatr6ISfeoIZsQY2HgzrdI9QSc7uwCISTiYiuPvt8wmX/SW0epwXVVYWsloQIUnMPlNq3EHdqoQlyMbURx+uvi/DM6iF0VaBePwmpxYab5EUMOarwfXj1JC24KA6xjK5mKBRbEPsKkaIegtqh/prlb0vomJCAf7cEfJMcQYMY28IlejDDm2TpCTeUyi1Ifef3YL9n+JUTPEcJBBY5Yr03sDYepwfXJGMsHdGda1g3tD8YWnL9aTjgu4zRmXp6MOIrZ902t0Ih37/hynYa/gUy15BvlsPWdxa6udP0oL+bzVIZ9WhQbkJkMoEYqUDyfRjvdjZyWGzFjar7ZyAgK1BplIFnlsCrtcN9pZUe9KwyT3nG2tIKRzvETX7UyjMQNJuhiXDgfqbGLRsXlYQVXBMPMicf7vbObFQRSsxwBg5e9I/kg9Ip1XJa19YLIRHYhdchU89CoolCRrLhC/Zlkwmn9emolPHPlwLZp2NfUpnymeiLtMGmgcqgRVg1mJ1vnLbHesoKDnXTIepSaSCltm5cSzCO3uSe/ALSIZfJRh2UMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cherrygrove City (Johto)\"\n        title=\"\"\n        src=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-fb8a0.png\"\n        srcset=\"/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-1a291.png 148w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-2bc4a.png 295w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-fb8a0.png 590w,\n/static/cherrygrove-fbdb9bb80630eb7dca3b17187081c47e-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nCinnabar Island\t (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQ4y2NgGAWjAAwqsuYZXTxXmN522YyTIoOOTLU2mlpVvGFyZefvWZ3T/i9cHnx/Rl9ZdkeGBhvJhjVUbyiZVpf/f8Wksv8rZtb+Xzax+v+s/vn/ZzQv/D+ntuApyQZOqFjUu6I3+f8qoIElmW//56X9+d9Xsf7/nMkz/2+ZmfyfZAMvH4jr3TE5+P+c1in/c9P+/89L//O/uejM/0WtTf+nd2eRbuCaC3696ztS/neWLP+/pLnh/4autP9zm/r/z2if/7+nfRnpBjZuqlHta21avGB25I+u0rn/64r2/p/R3/K/t3l3LdDF8mTH9LF7GRqb5mYvmFhbdXNufXL08SlGbKMZaaQDAJG0hgyIx3StAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Cinnabar Island\t (Kanto)\"\n        title=\"\"\n        src=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-fb8a0.png\"\n        srcset=\"/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-1a291.png 148w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-2bc4a.png 295w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-fb8a0.png 590w,\n/static/cinnabar-0699cdd24a1fdd937134f3e5cbee48c1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nCianwood City (Johto):\n\nEcruteak City\t (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADfklEQVQ4y6WU/U9bZRTH768m939wu21X6yIgC24zxpjIzNyAUeACLU1lMMAwugakFG5oeWmhL7je1r5AAdtSWktXhmV3E7M53OslAzJmjMEZ9Ye5mGbrEmNi9kNjvvbW2IhbQs1OcvL88OT5nM85yXkIooAY7T1G3v1opZR40UDbLyTXNaG3GGpSS4PKzFavI/mr+ub/B3tNVeRW53km2NqdZvoOQze7H9qFV2H1lCBsLEfU9h535qR/dzA3WU/eibH6r3XmlFH/NvRzr6E5IEGDSwyFJ3t6KGgiMkwnyhH0GzPDuo6kVvX6s+Cfv/mCvBxyMNf6htPxgdPony1Ga0QK2kWhwSnGB94SdM8fQ6NLgjqWgsIrBnOpDLGbbQiFzGCtbu7KZyf/BvPXTYe2HJFUXK+FIXIQzcF9OaMm3z4o2SKwXw5g8/E6tv/YxtK3czg9exQKpzRv3J88gOiNVkQ9isxazD5JJHxddKJZh57L+1Hr2Js38qwO4u6TDdx/ev+ZXP5ufodxfVYgekeFaxE3T6yt+OmltkFoV2SosYvQPvUO1h/dfi7o3ykYh9dZ1Fol2XcUHDE5rLp+nlhlnLSpzQUNJwPtEIP+WILNNL8rUMjVh8ugz0ogt1Gwhuoxqu3kifiHLXR/uxtnLspQd1aUq7jxuEDgg2XUCIYTFOzRBnxiPsITi4kBWq/x5QwFoFBx80lhwKtZoNCR3CoY0rAbK3nCa6mjGc1IfoZCxUJbFoD/zFA1IYFlPNvyxo9JOhbshGpakp/h2qPVXWHfP93GlQeJ/AzVbhnMpnaeWLgQoBNhLRQ+Ue5CqKh2l2DqlgH3ftt8LuziDxHoFo6jyVmEyhEq967FXwxDxxs88Xmoi55zKTEcOw6l5xVUmPbkoEq3FGpvMbw3GNz7fT1ndOmnMHqi76ORlUJuEaPCvAfVtr045SlCn68qY+go+4q4yg28dD5wqizqbmQCAXV6KFoB1ZQUJ8YpVI+LcMIkzhkLRrU2CSqGKVSNZVfSTUEbfhO+T5thc/Rydre9dKj9MLljp2c9HeS5mRZ9jBtKmRblOePKsZdRPSbaYdQdeQsXIp2Zh05z8s8Rdvdfx6YpJRMJI3Mu2ZMeybYoGAtGmuBBzMSbEPfWcgWB/hszpiPkzGi5PuRXpCbDdGZxWpWct7z74j8323uAZHWHCgL9BaZ3C++uJtRrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Ecruteak City\t (Johto)\"\n        title=\"\"\n        src=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-fb8a0.png\"\n        srcset=\"/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-1a291.png 148w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-2bc4a.png 295w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-fb8a0.png 590w,\n/static/ecruteak-139c0715346c75ba8b6e2e13b8f09a17-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nFuchsia City (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD20lEQVQ4y6XU60+aVxwHcP6A558Y1FmaLdnslnXZxay1zmZbKlY2rXbeb9SsCFSQWeeqorO13uhaHVIsggp4RR6IMLUgj2i9TRRjl3VGO0Fjvc1uL3jxnTxm1LolbdPz6pzk5Hs+55dzfgzGC4wu63dEFykJY7zqKO4LJ3SNkWJNTaSvtTrCX1d4sttgPPPywYW2dwiFJUWquH123XAzCoP96XCOC0G2Z0BtSEejPcl411Dw/OCynDcJSeVpcbkl3KftiYTNnAHKkwfKl477azlw/pYD+8QlkLoM6FT5/qZOSXedN+y/wd/ntxKVV9KkKjJpvbkzAtaAyCPE6EomJnf5sD1ORqv3c0ztCjC2mgPHYhYtNrcl4057Cm4ac40GU8V+cA+ZdUJeW+zTKS+gn8wKimb+FMK6kYTapXdxdYENiesoKhbfgNb3GaZ3RXCt8GBbSIDe/Ck6VbG4I8/zt+uLbzH6rJe5nepEOH4pBPUoLSi6sXgcxR42sjpCwL3BwrnrLFxQHIF45CjKHrJp8cS2EMNLGdC4TsKsjUWLpoJi9PamcjWaUxid/xbjG7lQrpyCbPEYhPdCEXONibMyJmKrmIipZCK6/DV6nawKCYqndi7DMBWFvmYO5LZUijHvzOFqmz+Ec06KsQ0eGpY/pgUBEecHJjjlrH1hJQvRFXuh9AEsxNWz6H0T2wJoZiJgVEWjhjxPMR5Ky7mttz/Zq50U9zcvovGPcFp4UBQID2j/XQfEX+0FBvZN7AihdUegt+kcGmoLKMa1q3yuoSkOrsCVH198KjwkOiw+KNRPRsFsSEB9WTbF6HfkcU1aDqiFAoxu8Z4KD4kOiw8KAzW0DvAgSImnGGZLdgipjdkcWsiHe5UfFGbqQ+iQ/6th4k9HwOt9/ZkaWn/ORYkol6LfYn/7+aWhB/kY82ZheDsb8uUT9OlFbjbS20LoKwfE8T+yILKHQvb7MbT5vsD4Th7mnhRg0Ps1bAO5qJOJ9gNHnd94XBMCzK7xMerNxMyWAEOb6ZAvvU8rimbZEDlC6XmL9wxmdwvw699FsD9KhWU4DhaLDG3GKv919RUbHSgSiQijIlw6YuWuP1i8hPlVAe4tpWB6iw/7dgYtDry5jjUOPH9JMLycBpPzS5jIUiiUfaiq7jDKZo6HlbjfIp75000l7xFqzQfinoEY35Q7G7aRRFjdCbR45okoKCLJMiibTf76Wx3dtfLS53cdme5toqb9I+nAdPz65FwmBqmkoEip1KOxUWXUG2Uv3xe71FziruO0eGya71O3mP2KBkW3ayjx1Tt3dU0FodGWvlDQPw269KH1R18PAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Fuchsia City (Kanto)\"\n        title=\"\"\n        src=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-fb8a0.png\"\n        srcset=\"/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-1a291.png 148w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-2bc4a.png 295w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-fb8a0.png 590w,\n/static/fuchsia-f1539546e66f1f8b9defa0cfe6ab9c2f-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nGoldenrod City (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVQ4y52U3U9bdRjHzxUJ8S/wRq9MdueFiS9bzHC4CSNDo5lzY3abgq3UQAABYSMFKm/baGm7ri8bbWlPacuBwmmhPaeFlnW0DLBVHENa6NpNUDaURJCJm/Hr8aD4kjnRX/Ikv4vz++Rzvk+ehyD+5YhLxJmN9YXC1oa3TXLZO7uI/3sW713LmJqjxJSlJnVOWoYPa4uhVQk2DZ59lsHY60/tGJReC2UGA+eFA46GpTZpFWrkIuicBej3CdFkOglJUy6U6myY2QMmc/KlfzamjcIMP1Mq7rdWpNql5aiWF0PffxxeRgSz0QCF0gabvQU66j1IO19EXVM2LusObppHDlgUd5/5wzj1nSrzaqhOyASVS1q9Gs6+QngCR+DzlcLcpcPp1k50mhQI0EbUtV2ETGEHaVdy4Hch0b8ASfMrUFtfhib6vIkD7yKCoWaWDVdj8vprCI0dBssKeaOPmtQwGNT4OnAND6IprM/exP3xeQT7SNS2yCGTUzDb2qGlTvLGkrM5MLkObhLhGU1kLJqN4eESdFsvbhuthKK4/1kadxYXkLgXR/yHONKrCazP3cTPU7ewHIwhTH4Fiy4EI3kWStsedGmPgJj49Exk6vpe+IfL0aLoQXSwlzdaXpxHYmML9PdKf5vgjTGRRsx+F10WDdxMDiz6oyCmF/SRqZn98PlL0dxhxyzrwWoq+VDQnyu5lgA405hjBWZSA3poP7ovHwMRvdEcic7sBesV4uN2ErPeIawmdwj8zbDT0IEhXy6sxjLulz+pjERv7IOfM+x2STHn9+7IcOH7OJ/xlqGWAx6CjawHQVmKIpOfZ/EZ9rhL8QXj2ZHhr7U2l9zO0DOczwElIC6pyiNedy6fIeUp5zNcn0thfiPxSNit1Xn+u98z9PjzYbc1gvD5T0QY51aGbqYGpu4qLIfCfKdXbi9w4L+Cbn8zjw2uww8iaYxb78BliMJgbId3JB+u/moQwdGjESdZgCtXBBgJiOFnKmDoLQZFN2Dpagg/xdIcOIkveVAKP04mMOrRQ+PgJsnaClufAP1Dx0G7haApMYjAmOSwrOODeGu9AD1dhxAcPQaGOQGv+32YnSWwOmq3jCe4KRnSQm0RwUBWwkoJQHve4EBV6LNxd0eWaXAga8/2TLsCZQLdpVOzqvNF6LXmcU16Fq7BHJCOSii6RJxRMYzWat7I5X2TA1VzRqc2aeppSzT2xMPXWXhMljE6ri8wkUVxuVIMp7cIgdBu9LnzeSN2+DlucRRyWRViwL6bnZ5+bOcLl9S9JZBIRLNtqjMY4HYhE3wVtF8EmhVtUN1lmsbTrsf/89a+YLyQQbtbCs61yuLB8YpNdqRYlZeX9+Sj3vwCLP+8MNIqwksAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Goldenrod City (Johto)\"\n        title=\"\"\n        src=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-fb8a0.png\"\n        srcset=\"/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-1a291.png 148w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-2bc4a.png 295w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-fb8a0.png 590w,\n/static/goldenrod-89d33b8f2b51e42dc23e1c2df71f0758-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nLavender Town\t (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQ4y2NgGAVDEyzbUCc5Y3ecN8UG7X6SLL/8dPTkA2drfxy7VP5//4XqMxu2Z/kdOb2KmSSD5q0ok5wzt3D6wg0pX1esLvl/6Xr+/xsPCv8fu5D6f/GhgP9LjsSeWbc5l3gXL11fXzilNfr/9nXJ/289LUHFj4r+7zmW8H/h1oRHRBs464p34byuwP/nTiRgGvik5P+JU+n/165NJN7AufvSCvetCvt//lQS3BBk+tCR1P87t8cSb+Ds1UWFe1eE/j91IBpiCBK+dr/o/+HDKf93rifBwLkbS703bUj5tG952P8dq5P/nz+f/v/K3cL/B/bG/V81y/3/2sVhZ9YuTq0lKaZP7QwXW700w3rd+prJy5fV/lixtOL/qqU5Z9avC/PbsSmYmaL0eOxwmeS6ja3eo1l8iAIAqyHVaiuPFeEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Lavender Town\t (Kanto)\"\n        title=\"\"\n        src=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-fb8a0.png\"\n        srcset=\"/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-1a291.png 148w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-2bc4a.png 295w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-fb8a0.png 590w,\n/static/lavender-a0919e6d8a7d167f7c0f0e0913d8edd1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nMahogany Town\t (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABSklEQVQ4y2NgGAVDE5y5skTyyOE+b4oNOrRomvyFzXMn72nv+rGmquz/1Z7lZ+7lHfI717KLmSSDbr85IHlkX//0+RNjvzZPMvs/bYXF/5UHvf7vnRbw/1rN1P/7WlafWdu+iHgXX7+3tbB6hun/mStt/m+5W/T/3JcD/69/u/p/z5sp/zceDfh/cG7E/wex+x4RbeDhfX2FdRNd/m+4EPP/5vebKPjgx0X/Fx+x/X8reTPxBp65vdqoqsfp/8YLsRgGgly7/Lj3/235dY9ICse6Pvv/6477/j/1eQfcsKvfLv4/8mbZ/9VHff9vLqsmzcC+yfbTO/qsvs6fZ/d/042s/7te9vxftsP9/8wJ9v+XLIg7c2bNzFqSk826RVny61eWTl4wMerHnB6f/xMmRJyJmabs1/tOi5mi9LhlaarkmuWl3qNZfIgCAEnp0H59iamRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Mahogany Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-fb8a0.png\"\n        srcset=\"/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-1a291.png 148w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-2bc4a.png 295w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-fb8a0.png 590w,\n/static/mahogany-be23154617193fbda2d2c57d9b5bfe83-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nNew Bark Town (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABj0lEQVQ4y2NgGAVDE6Qu0pJMnKAVsXK2jx1FBnU/NJDvv+c+ueNYyo/ZV+v+l25y+l+7LuDAlj3tTiQZFDNdVbLzWPD0na9mfV1ytfd/wXy//9H9hv/bNuf9X3Cp6f/yEzX/Z6xdsycn46MqUQYmLlArPPxk1/+CBb7/A9vU/ndszf6/5NSk/6kzbf+Hd+v+X3Fu+v8Tr3f9X73HP5QoA3seGBb27iz679sq/3/dhcX/L3+4DMYX3p7/nznb5X/3tsL/Rx8d+19SsZA4A/1bFQvbt2T+92mS/7/12hq4gSCcO9/jf/fWov9n3h79P/VkEXEGLjk5pTB8ovJ/nxb5/5VLY/+DvH/x/fn/7Vsy/idNtvnfu73s/55X8/8furqeOAOPPzru3bMr9lN4n8Z/32aF/wFtSv8Tppj+b16b/X/XpQv/lxxc+H/91aqTRy+v8iY6pq883S1WvcmtPXu99qeURZr/w7q1/k/a2PW/dubcA30XPJ3ITotxSxSFShf5t+Q2Je1pqptnN5rNhyAAANQV22oHQ4NvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"New Bark Town\t (Johto)\"\n        title=\"\"\n        src=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-fb8a0.png\"\n        srcset=\"/static/newbark-6530717b6ce5b243a0edd1f80540ff77-1a291.png 148w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-2bc4a.png 295w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-fb8a0.png 590w,\n/static/newbark-6530717b6ce5b243a0edd1f80540ff77-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nOlivine City (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADX0lEQVQ4y6WU+0+SbRjHn5/a2vgrerH4ue2tVv1UrdY6aw9mZqbGQU0FAXGQQJxSU0HII2rygKAmiD0MD6nN0kftOEtb2XId5qJlreaq1dP6hrhcvL6trGu7tvuH6/7sc3+3+yKI36iZiRDntqx7PfG3NTJcwbnrrVfe1FDhoexW9rngWuB12vWVgxeM7vgaVONFdXP1mTYIDHykXeChrGMXAtRZDGs66PtC76/B7OQjzgN/q/JusS/cLOjAqYIyHDDwsN+4BgmmjdhvWoOUGh70QztxoVfCtjmlAV/l3uXghs4GzlioWjVW7JijxN2QyF04pj+KfYa1SFLnIStnBjniT0hXOnFQtxkHTdyosXZgG7y9GoybL9GzotFFcK23dlPA7g5TAh+kMgpJ2mQcMHKRopMhM3caOUKgUM6ivHI+es7J/ICMQvcyY5vNxFpU8TUETZtJd40TQt3ZWKPIZVXhZ3T0vcT9+Wk8/PgQw9NPUGGfR674a4zx4dI4yOkdKD+dwRB9AQXZUt2ENJ0cpO7QkpGvP4ypd4ug//YC+Ltxej6NhFIu8gM7QEtcDKGTppAtVc04aVQgoWgR2Oh587+gH/vWi8fR2TQJDbI8LgLcjmBuG0N4BBaSKrEgQ6/AYe2fArmQdm6HS61liBsn/GSV+jTSI0/+U8OEc9xohnadgCEmEv2ktUgdk+FKgN8zVFSJ4K8tYQh1XpCs0BbFZLgQ+OTbRz+FjT+dAeWfi8nwjEOM2dERhuit3EY6beZohvGGLRBm3YsOFshYeOhXy8CD957BaPyIU6JPOCF34ohaDL6FC02NEI8HgwxhlknIlnoHlIUU0s2p4FfwkGoWLIEV0i9o6XqFgYnnKC59HwF9QKrUDX7JJiTa/sFxywaca1LA4zGwo+3mfiI/G6vd9SHRuMsx67X6UFDQhOOaDBw9z0OyTohkhQnirJklo3j9ViTZ45Ba+S9K6hRgLvtxq6ea7qrjr7/iTuYs/WeYq1Z5jfbsgYt+a6cnFLY6G5Ft34tE67qICTfGSNuQh6G2LnZqrDUwGFL/eutMDLRzJkeCqv4r7XPlThNEZXuiRmca83GxjsJVlY++s9uz8r24sM6mrgeV3X1U2NfdzPb0OwI39K6/39zBPhOnJ1T8W6Bv2+A2ckYyNh4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Olivine City (Johto)\"\n        title=\"\"\n        src=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-fb8a0.png\"\n        srcset=\"/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-1a291.png 148w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-2bc4a.png 295w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-fb8a0.png 590w,\n/static/olivine-27d3acccba014497195ba5fe5dd0eb1d-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nPallet Town (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABTElEQVQ4y2NgGAVDE9SnaktOb2v2ptig1Vsb5LccLZ+89kTpj3030v6vPBNwpmFmpd+qyS7MJBlUnjZNsvuI0/TFZ/y/XnxR/P/Jn5b/T/+2/L/9reb/thPN/1duLj6zcnEM8S5u6a0pPHA/AWzIoz8N//d9iP+/4qX3/6vfy/4/A4rd+djyf/WiiEdEGzjxtEvh9iM5/5/9a/m/4LnT/7YHWmDc8UDn/6XvQBf/bv0/cbc/8QZOOxhcuGU3xMD5QANb72nC8YVvBWAD+3YFE29g9yE31a17c8EGPvrT+H//p4T/q177/D//Pf//vV91YAMXrmh/RFLErFidMn3Drravl5+1gA0Ahee9zy3/dxyd+n/y9CNnFq3oqSU52VRXV8tPXFY0ec35tB8HL1T9X7cl40xby36/ouz/zBSlx6L9+pJTjjh6j2bxIQoAEDvQtEvr0REAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Pallet Town (Kanto)\"\n        title=\"\"\n        src=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-fb8a0.png\"\n        srcset=\"/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-1a291.png 148w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-2bc4a.png 295w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-fb8a0.png 590w,\n/static/pallet-bdbcba9c878d2984a8a8a1fda6d27201-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nPewter City\t (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADwElEQVQ4y73U7U9TZxjHcf8AXvnC/2AvtiVOnEQ2kFqw0MlAwLJSQGQaJ+I0wbkBMuhYW0oyZMDsypC21B4IUgp9sljaQosKay3FzLVMrEJPaXneMhjOZepv5RxXQ9wSYpad5HpzcvLJ975Pcm3b9n8/+uGa7RrbKaHGxbH2mE4nvTLU3JOwg7icKJbZ9q/KfElQTu6H5d5JeJdq7Z5AdfKWIelS/PbR0BmhuDdjVX4rE4ppFrpD6TCFP0D7vSRovj8Ix3ABxhyF1qu9hf9eLFWf32HVHxVfD3JXB6ePQUWmgQixYQsUYNDBhlnLgMOXB/18LmQTDFzRH8DQSDEUzjz713dSNxdLNInVsoHDq1o/BxLvXhDzqRgK5MM6/B6GexnwuovxIFgGl/F9WPoZsP2USxW3efZBoc5Cd18lrnSLrHoD7zUKJGRccuB+HjpmU2AO8NBiYUDdnQjvxDHMPq5F+JkQgSd8hJ4K8TB8DuPXMjcVtzqZUFuP46ohJ5c+bheX9P5WgaFgASpVb8LlPILg4y8oaGNc66fQSO6G+RceBYcj8EbxWA8L9h9yIXEnQDtWBLnzbRosvbyH/HGtHIOzPNQRbyHw6+cU5F4/jdbZBIgevh6dhpldGF07QaF3bBw0dLLw1fV46J3H4V86T4NVl96lCi2hfIhUOyNgFQV2LbJRN/PGS6NbyaHACcth1LezIGiJh9JdiNv+Whr0BD8lR+5XwxYshFC5M1rYuZC2qe7v0S4/ByOF9bII2PgOlLePoN/Cp8ERdxHZZiyj7lCkfFGoXcl+qe4iGQvDz5xooagtBYKGeJinPgb5u5gGb6yUkNWyo9E7nFmpjP4Qz6MzkM8xcTEQS/+Up3zq/fTiZ/CYc2gwcmTnVA3c/goanFgrIyva8jGwwMUlGxNNiji4IkcIPuJHYfI59CD0CdzGTMhb96CxPQ0CCRtftuzFqLcKRkMBDerDPJ99sgzNjgy03mVjYI6Lb0wZaFHsw5irEMH1GoSeCODznYRcGgeRnAVRUybEnUy0mbPRM5SH0bt8p173UToFiv27Yvp1pReMtpLlPlcRiOBBqBZYMPlLINHx0NyRCEKTEjkeC8INqIuB75xZICxZ0HYx7WrVuX9eFnWB2Bj5TVa5zHRgXn2Lg3ZfMojFVDR0pL8ocmZDN/4hxkMl1infia2ts41ipb34woDr7HL3KBdNk0mQjh2CysvFOHnWPveHIPmVdqJh8NsYxWRmeddE/nyn59Cf6r5S6X+ytYlncTH1U7G7t/LtX0mp7f8zEYg3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Pewter City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-fb8a0.png\"\n        srcset=\"/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-1a291.png 148w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-2bc4a.png 295w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-fb8a0.png 590w,\n/static/pewter-7201d682eccb65f5e0ee98c2d6f12ca3-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nSaffron City\t (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD6klEQVQ4y6WUy08bVxSHZ1Upkv+XqkhI7aaLNpEqdRtvGsJDKtjB2MX24MFjZmwnFLXQKiEVtIHyCBjC+DEez3gYP/Cr2IPf5hUaEposIiTUokrNohsvfh3cBClqmybKlc7mXunTd8495xDEa5wlwajz891txNseJdWjE8ROShTNJ6JENZVor7DGdbw5GGNTul8nv6JF2XLK8Sx42QUpycIvsBCjNhwcs9IJRv8f7BO6dfECSW0vf3kSCnrh42isZ5wQN2wIiVbwMRdi2RFwvA2JTUtz/9gh/Cv4GcZ19ccMnch7TgMRr2ZCQ067IMRJrHFDmJm/jsllJ5buuhAUbJCzNKSEC/4wiUR+ANLqp5I0+d7f4EzF/n6m5D4JiB6s+F3nRqurGmjOi2+EXszmu7BS6MdkshO3fcNYXKCfG1NQMiMIRuzgVq40+R8+/J7YTHbow5ERyBtORBJD50Y3o32YU7uQrLuwuedBruFGbseDQOUaprLdLxlv7rIISRSCc5dUopq5ovcHtRQ0YChswy2fE7PqVSRrLmTqbiTzw6hULdjfMyGn2pEssq378LYJ36V6MD/HoHyoAUUHirsDKlEomfV81AM55QQXtONW2AKxOIS4yqLWsODRw/6X4v6+CdniMJS8Gys5M2ZXbagcMuAlB2oPB1Uif39EA3ohaG3BiyRuhiwIF0jEC65/wF7EVsWGaI5FoGTCNPc5KrsOrZ3MqB9ZVaL4YFQflr0IJ9xIV8Y0wy9ahskt5j+BtT07YqobwfIAZnkjqvs0lJgRjSO7Shz85tVzvKZ8BqyOYTI8+ErDo18GUNsnIW+y4IomzAkGbNW1Eqz3YbH8iUpsPx3Vc4K7BUyVx1o1FMpWhOIsclUXDh5Zn8NMqB84kCyxrbdQnEGgZsS82I/qntY+ihEL1YsqkX5M6kOys5VytnEdi2vjmI6ZsbTdgWDaAS7KIFuhUdqh4JdHtGDgb/RiptCF1Xi/1thWrQQODdiH+crHKjHxoF3vV6wIrmsfk2CRytPIlbxY9n+L6bgZKzudCGjgM6PgtgGzxU4si4MoNkhUdylEFRsiUj+iP33WnKl+tEHc/uPdCwu5HkMoRh3fExwIyB5wEQa5Io20VvglbqJlPFPo0UA2FGskKjvDiCbskKReiLnL4A4uShOHbW2G6Xbd+Tw//XPqnUCeNAWiQ0+WeAqBdY82Oe5z4/X01yjvnU2UA4J8TTO63OR+viT8+Hv7q7cOwzAXbpQ/MNxJXn2ycG/49IWxkh5CRDZAkbuxkbBIM8/a3nwv+vzjujt3ScoXpE/8YbqpxK1CKnvj7Td3VaV0mTT5WqC/AEZbTFGZpsKFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Saffron City\t (Kanto)\"\n        title=\"\"\n        src=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-fb8a0.png\"\n        srcset=\"/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-1a291.png 148w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-2bc4a.png 295w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-fb8a0.png 590w,\n/static/saffron-00614ab1a5cc6a3886a9a2b7e83633d0-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nVermilion City (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/vermilion-eb24a68335401b3b896252920b705870-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADHUlEQVQ4y6XU60tTcRgH8PMHnD8kyC6sIIOgjIIiIiIWWVSWUelc0x3Xsbm5+9bOdra1k83bsMgtncttHV3pnDMvK7rYTS2QIo1i1V6URREjvuUZrkzIzB88bw4PH748POchiH9402DIse/lImKpz6NeR3a27aLvjxSm/P35Ge/A2rBrYt3i4VBMQ3bFqpXeBiptYRSoDuVD274NhuhKXLq7CRdHt/L0ifDCcEu4iOS7jtGBNjrFnDNCwR6E68oR9NxRYXhci5auCuiC22GMr4GnQ5Lx1HrDKRjnw4kRExmKKpTnHbK0jauBwlEId6AIPbc1GEsZMfnVItTzaQuGRnVovUEJiY29a9ExchjxuJwPcwVZuKn/UH6Q16VYzoSjhh046V6P1n5JDnqWdsEXHIbN/hJDT3zCtxefzHMSV1/fCG/HwYxbvd9DvDHbxZc4J/axy3A5VpKDnr5z43LgFijpN0iPI1cMM4nBR/45if1ROeS8CGfVVUmir1crbuTMOOBYjkevslhraGAe9GfNJH44WS/0X0uoUB4Rwe+jk4TjyQYxZzkhgA8ms6Dy9Me/YrPVcysk9Ef6VJCFRAhcpZKEL1Yp5gylOGrZ/BM0/Bc4k1DOr0ZtYk+SGHhJiZ36MpSpC/Fw6v8TKqIrwHUcShINE1tWsS7rtKSmMDfDxYJdg2pQnXmwGZuSwuo47M6pMu2x3Ay16vcLYibjayTutQv9dyb0kEfy4LRyWdBmZackNcW4+zw7w4kPLNoiN3G64ss86Pe1EXbycxYsdxUgwp/MgrUe6zgl00OmF6O5uxhjb3/B7XwCNPVZSDS72NkdNCP2mIbGsxtqswQMJ8t0Rkt7BbAzzpKNzRqlzWxLnyplUW7ci4u9xRh/Z8rBszs3k6hvtAqa+p2QnTkFq9WJOi/Nu+so0b0kTc75p4PdNFnXqKLPGppSlFQ3J/HvieQ1UjjstRlfqyrcHy9Z+OroTFKyvkGp5CymdIWUERLPJrIzVjR5S/kb3UcWfxdbAgwZ9MvpC3YuVXXclqkuU4fr2C1Lv9yVlZXkGYn+n6Afo3kqDhcytQYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Vermilion City (Kanto)\"\n        title=\"\"\n        src=\"/static/vermilion-eb24a68335401b3b896252920b705870-fb8a0.png\"\n        srcset=\"/static/vermilion-eb24a68335401b3b896252920b705870-1a291.png 148w,\n/static/vermilion-eb24a68335401b3b896252920b705870-2bc4a.png 295w,\n/static/vermilion-eb24a68335401b3b896252920b705870-fb8a0.png 590w,\n/static/vermilion-eb24a68335401b3b896252920b705870-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nViolet City (Johto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADp0lEQVQ4y6XU/08TdxzH8fsD+j9UW9omM24R2SQGkn1xiwvju0eBpobNKXOjhVkLrLQFWlv6/eu10NBSLVRqYdhR5nCwCEJaNt3YOu38kv20LNZJ2Eac/tAfXjsOqRaWDOP9crkf7vl55P25+xDEDi6j5CBLd7KwkHjRa25UzPqCKuv47OOXM62n9mTl7++LqZv3P3/4Stc4K9jWq+jt6lyRe8qh/m4vLL8WQxZ9CadVB+C2N8WjY93/H8bx31g/1Ic6RqSDmU5vE1RLr+LcfRESaxNYvD+NydUemO4egHx8D6Sy17LdraJY/LJje/jPT5ZZae2MYo4aWjntaoL6WiFCf4ix8NcYwte8OOYtRa2ZD/2kBPO/X0J8VcOIO/1W6DUxhM5R8d72so0wpXy9eIYyZ2yTFVAv7c2J0g9vwjOnQrmejSM2LoRuLipNbNQY+TBMSXJiW0qE7sEwFLJL2e52cT8x3n+CpCbEoO6VILkWw89rKQSTNohdRaix7AZp56LRLYCIEqDBzUOtdTeqjZw8ceTBSSiDI9AppQkiYBCRplA5BjJv4/bj25CFqxlRo4eHOjsdMNB3iwD1dgFIMw819HMjxc+JlWNHcfPRT0ww5HIkCLuWJFt6XkH/vUNMsCV4mF69gBHVO/kgrXTAJWCUQgcPpIWHBietdfFR0cdGV/Qo89568Gr0qwTx/TfnSammCKYvPRvBs3TQVJAnElqfCC1PxUIrH5VGNlSfPw1GfPoEkVqIkHJdCQwXgzkho9oi2ipeF65v2LNCqu+jBDFgEJJt2n25oCR0GFV9nG2irWKhnZ+b4WYwPNSXINLNcdIYOZQnrDLQu2gsQJ2N958zrDXw6XBB3gxVQy4EB3wJYmq4jTRPvZELjt0YRHOghPlkynW7UN7LQZ15Q1il56KsZxeqTRyQ9GLGyxJMpIeeBK3we/wJQqsIF9tmSzOtbiNcVyjMr0Zx6/EviKQ8OD5Yive0bFSc4dBj4DKialpnnJbg+moSPz5cxIVbPmi9cRic3myw3zfL/C3XkydYSa9JEVCbVmQOM5yzPiysjSL96AYd9jLiTdG3D64i9c8SIncoKN0BnJGPYETfEv/aVVo4qjvI2nY43JFOdZzV6jOnnOY88bOiLmoY7Z9ezJoNjtii/52dnTrB5bcUmsiRlVavlhFvimwfLsKoCcadAefzn4vev4tY/qU3O2zBYxnnB/PZmYbp2N3K+Iuf3MP7O1nL757fUehfsnzeT3FypGUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Violet City (Johto)\"\n        title=\"\"\n        src=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-fb8a0.png\"\n        srcset=\"/static/violet-62bb77c2550c29e671c93056a7fe697d-1a291.png 148w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-2bc4a.png 295w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-fb8a0.png 590w,\n/static/violet-62bb77c2550c29e671c93056a7fe697d-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nViridian City (Kanto):\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-8189c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADsUlEQVQ4y6WU+09TZxjHz69L+k+MCrVmyzJG50zmspgtcpmTFo6EDSnMcjGTQVDpcrgUtS1UbMdF6CgaLmukpUVLLyi20NouR3ZxAy+j0yDMVtawZpEly5AK37UvsablBzW+yfnhvOc5n+fzvOc5D0W9wJqZkXFcHlk69apLr9dzhg31UpNXHDK7CyOWKYnF4zr68uDA3UrOlfHjzLCzJGx0ZcFjF+GGrxgO6ycwugvR3s3YTklVzwfrLSWcS5P5UrOnIGR05MBtE8J/rxrBNTkersux8HcDfo6CrWOZGB3fFzFZ3rd0/pm+FWyfVHNUXUeZs8OHw/bLn8Jnzcfd+RoEnyjwYL0ZUytiGJdz8NvqcSxFwYsrTcT4ojELqu4PwahzbbJK8Sb44tXG94YmvgiNOvbBO5YXNwqun4yCitEZEEC5uINcrYtvwLCcDf9aXYKxqTcTckYSUQzt11Kd5lL6O6cIN1kxgpGo0ZMTmHokhuaPdCju89F0k48KcxqKerfhmJcH+fwOsp9g/EgG6/m9UJrfZamGkTfpQe8B3P6ljDwcCO0hNs13+CgbSYWwNQX56hSITqcgt+V1fKbdhrrvt8eNb63WRitS4uqVg+jpymQp7XgObfAW4c6v5QSoe7ibGOSd4UKoSoGwhQtaw0XeaS5yo/BcZSwBFzVOHomb/a8agSjw2o9foludzVIjtira5JXEDfuWPiDZnxrtjwJicFHbs/uY8VcTaSRudrWGAKfYw+hSZ7GUaU5ED7gkWw2TjJKNqy6nxQ1jJXt9Epw5u4ellA0ZdEvr6FbDJKNk4+oJXtwwBpyeLAKjE7CU7XoV3dFj32JYbkolkOQzPNDORa2bB+bG9oQznHYfxKn2vSzV6xbT33TbiGGst67/Ww7nyudoD7yDplt8SAyppOSYcWEPF3Xs5hce+SsHM6vVWIg0EuBP14qh1RaxVMfYTlqhcsJlrcTc79Fsj+XENLhxgjR2xwMBmm7zcczHQ8vCs8aOxQQeKzG/3IDZHw7B58iLmI1iF6Xwv/XayYkyASO9xwwN1Ifd4xLMzR0hTU5e2miG5x8xMZpb22zkmFEMNDNdCruxFIauj2xDql3pfc27OAn/tEKh4Kg1Kqn+gizkth9KMF7akJMkT40cxpJI/znGcu587/OnTkVFBUczWMD0XxKGfZOF8PuP4H64nhhZB7LRpymw6XS6l5+L2sadHHX/29ILYx+HbIPZkW8Vuy0dXwtefXK31WRw2mozXgj0P70eDYxLsolbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Viridian City (Kanto)\"\n        title=\"\"\n        src=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-fb8a0.png\"\n        srcset=\"/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-1a291.png 148w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-2bc4a.png 295w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-fb8a0.png 590w,\n/static/viridian-a05cf2b44f2ea14f046ca9bb8e9d81f1-8189c.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>"},{"id":"transformer-remark-markdown-ast-2a5b3d4651708a0159352d5944e272b6-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Fully Automating Chrisfrew.in Productions - Part 3 of ??? - Building a GitHub Webhook Monitor\ndate: \"2018-07-20\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":144},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Background and Overview of this Technologically Amazing Accomplishment","position":{"start":{"line":7,"column":4,"offset":151},"end":{"line":7,"column":74,"offset":221},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":148},"end":{"line":7,"column":74,"offset":221},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After a bit of thinking about my automation project, I settled on a single subdomain (at least for now), fittedly named ","position":{"start":{"line":9,"column":1,"offset":225},"end":{"line":9,"column":121,"offset":345},"indent":[]}},{"type":"link","title":null,"url":"https://webhooks.chrisfrew.in","children":[{"type":"text","value":"https://webhooks.chrisfrew.in","position":{"start":{"line":9,"column":122,"offset":346},"end":{"line":9,"column":151,"offset":375},"indent":[]}}],"position":{"start":{"line":9,"column":121,"offset":345},"end":{"line":9,"column":183,"offset":407},"indent":[]}},{"type":"text","value":". (Go on, you can try clicking on it). However, if you‚Äôre not an authorized party (which I check via a ","position":{"start":{"line":9,"column":183,"offset":407},"end":{"line":9,"column":286,"offset":510},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"secret key","position":{"start":{"line":9,"column":287,"offset":511},"end":{"line":9,"column":297,"offset":521},"indent":[]}}],"position":{"start":{"line":9,"column":286,"offset":510},"end":{"line":9,"column":298,"offset":522},"indent":[]}},{"type":"text","value":") you‚Äôll just be redirected to the plain ol‚Äô ","position":{"start":{"line":9,"column":298,"offset":522},"end":{"line":9,"column":343,"offset":567},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in","children":[{"type":"text","value":"https://chrisfrew.in","position":{"start":{"line":9,"column":344,"offset":568},"end":{"line":9,"column":364,"offset":588},"indent":[]}}],"position":{"start":{"line":9,"column":343,"offset":567},"end":{"line":9,"column":387,"offset":611},"indent":[]}},{"type":"text","value":" - yeah I know, what a crappy blog.","position":{"start":{"line":9,"column":387,"offset":611},"end":{"line":9,"column":422,"offset":646},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":225},"end":{"line":9,"column":422,"offset":646},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If any of this stuff sounds cool, or perhaps more importantly, sounds like a foreign language, then c‚Äômon in and dive in - we‚Äôll get into the technical details and all steps of how all of this can be set up.","position":{"start":{"line":11,"column":1,"offset":650},"end":{"line":11,"column":208,"offset":857},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":650},"end":{"line":11,"column":208,"offset":857},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember, all this stuff is open source too. The repository for the monitor is here: ","position":{"start":{"line":13,"column":1,"offset":861},"end":{"line":13,"column":86,"offset":946},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor","children":[{"type":"text","value":"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor","position":{"start":{"line":13,"column":86,"offset":946},"end":{"line":13,"column":172,"offset":1032},"indent":[]}}],"position":{"start":{"line":13,"column":86,"offset":946},"end":{"line":13,"column":172,"offset":1032},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":861},"end":{"line":13,"column":172,"offset":1032},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(The full code is also posted at the bottom of this post.)","position":{"start":{"line":15,"column":1,"offset":1036},"end":{"line":15,"column":59,"offset":1094},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":1036},"end":{"line":15,"column":59,"offset":1094},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Setting Up a Catch-All webhooks subdomain","position":{"start":{"line":17,"column":4,"offset":1101},"end":{"line":17,"column":45,"offset":1142},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1098},"end":{"line":17,"column":45,"offset":1142},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So ","position":{"start":{"line":19,"column":1,"offset":1146},"end":{"line":19,"column":4,"offset":1149},"indent":[]}},{"type":"link","title":null,"url":"chrisfrew.in","children":[{"type":"text","value":"chrisfrew.in","position":{"start":{"line":19,"column":5,"offset":1150},"end":{"line":19,"column":17,"offset":1162},"indent":[]}}],"position":{"start":{"line":19,"column":4,"offset":1149},"end":{"line":19,"column":32,"offset":1177},"indent":[]}},{"type":"text","value":" is registered on Namecheap. We have to just setup two A Records, both for webhooks www.webhooks. It looks like this:","position":{"start":{"line":19,"column":32,"offset":1177},"end":{"line":19,"column":149,"offset":1294},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1146},"end":{"line":19,"column":149,"offset":1294},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"namecheap_config.png","alt":"Namecheap configuration","position":{"start":{"line":21,"column":1,"offset":1298},"end":{"line":21,"column":49,"offset":1346},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-f171e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 21.066907775768534%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQY052OSw6AIAxEewZODzvuWOVjWmqHqHHBwjjJS5mGvJRExGpvVlqz6owxDDvMnLOFECboK/ZaTVXnm5mNxAtk76Bjn1IyIpqsAgn+qk+EeXPh4sJ+HHPGGB/h9wtdWC7RDTr4IzwB8BogAWct9BoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Namecheap configuration\"\n        title=\"\"\n        src=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-fb8a0.png\"\n        srcset=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-1a291.png 148w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-2bc4a.png 295w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-fb8a0.png 590w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-526de.png 885w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-f171e.png 1106w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":21,"column":1,"offset":1298},"end":{"line":21,"column":49,"offset":1346},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Listing on Webhooks subdomain - POST and ‚Äòall‚Äô","position":{"start":{"line":23,"column":4,"offset":1353},"end":{"line":23,"column":50,"offset":1399},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1350},"end":{"line":23,"column":50,"offset":1399},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So first off, we want our express app to only do special things on a post to the root (in this case, because I run NGINX, we are already in the webhooks.chrisfrew.in namespace here) - otherwise we redirect to ","position":{"start":{"line":25,"column":1,"offset":1403},"end":{"line":25,"column":210,"offset":1612},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in","children":[{"type":"text","value":"https://chrisfrew.in","position":{"start":{"line":25,"column":210,"offset":1612},"end":{"line":25,"column":230,"offset":1632},"indent":[]}}],"position":{"start":{"line":25,"column":210,"offset":1612},"end":{"line":25,"column":230,"offset":1632},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1403},"end":{"line":25,"column":230,"offset":1632},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Notice that even when ARE POSTed to, we still verify the signature of the request, otherwise just like the ","position":{"start":{"line":27,"column":1,"offset":1636},"end":{"line":27,"column":108,"offset":1743},"indent":[]}},{"type":"inlineCode","value":"all('*')","position":{"start":{"line":27,"column":108,"offset":1743},"end":{"line":27,"column":118,"offset":1753},"indent":[]}},{"type":"text","value":", we redirect (301) the traffic to chrisfrew.in.","position":{"start":{"line":27,"column":118,"offset":1753},"end":{"line":27,"column":166,"offset":1801},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1636},"end":{"line":27,"column":166,"offset":1801},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">verifySignature</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">determineWebhook</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// authentic source</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication successful; processing data:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'text/plain'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Someone else calling</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Someone else calling</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Only webhook requests allowed at this address</span>\n</code></pre>\n      </div>","position":{"start":{"line":29,"column":1,"offset":1805},"end":{"line":48,"column":4,"offset":2549},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Determine What type of Webhook","position":{"start":{"line":50,"column":4,"offset":2556},"end":{"line":50,"column":34,"offset":2586},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2553},"end":{"line":50,"column":34,"offset":2586},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Right now I only process GitHub and Bitbucket Webhooks. It‚Äôs rudimentary, and it‚Äôs not even finished, but it works for GitHub:","position":{"start":{"line":52,"column":1,"offset":2590},"end":{"line":52,"column":127,"offset":2716},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2590},"end":{"line":52,"column":127,"offset":2716},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">determineWebhook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> sStatus<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// GitHub</span>\n    sStatus <span class=\"token operator\">=</span> <span class=\"token string\">\"New head commit in \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" (\"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>url <span class=\"token operator\">+</span> <span class=\"token string\">\"): \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>committer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span> <span class=\"token string\">\" added \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" modified \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, and\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" removed \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files.\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sStatus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attempting to pull from this repository...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>oRepositoryPathValuePairs<span class=\"token punctuation\">[</span>oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>actor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Bitbucket</span>\n    \n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// some other webhook (there are no others yet)</span>\n    \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":54,"column":1,"offset":2720},"end":{"line":79,"column":4,"offset":3722},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"GitHub Integration","position":{"start":{"line":81,"column":4,"offset":3729},"end":{"line":81,"column":22,"offset":3747},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":3726},"end":{"line":81,"column":22,"offset":3747},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With our subdomain set up and our express server serving there, we can start processing requests for ","position":{"start":{"line":83,"column":1,"offset":3751},"end":{"line":83,"column":102,"offset":3852},"indent":[]}},{"type":"inlineCode","value":"webhooks.chrisfrew.in","position":{"start":{"line":83,"column":102,"offset":3852},"end":{"line":83,"column":125,"offset":3875},"indent":[]}},{"type":"text","value":". The important thing here is to validate requests. Imagine what could happen without validation, (if I eventualy do hook this up to my twitter bot to post every time a repository is updated) just anyone could send random github-ish looking json data to ","position":{"start":{"line":83,"column":125,"offset":3875},"end":{"line":83,"column":379,"offset":4129},"indent":[]}},{"type":"inlineCode","value":"webhooks.chrisfrew.in","position":{"start":{"line":83,"column":379,"offset":4129},"end":{"line":83,"column":402,"offset":4152},"indent":[]}},{"type":"text","value":", and my server would take action, even when its not coming from a validate That would be really annoying, and plus, it would make me seem ","position":{"start":{"line":83,"column":402,"offset":4152},"end":{"line":83,"column":541,"offset":4291},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"way","position":{"start":{"line":83,"column":542,"offset":4292},"end":{"line":83,"column":545,"offset":4295},"indent":[]}}],"position":{"start":{"line":83,"column":541,"offset":4291},"end":{"line":83,"column":546,"offset":4296},"indent":[]}},{"type":"text","value":" more productive than I am with my repositories. üòÇüòÇüòÇ So yeah, validation is an important step. ","position":{"start":{"line":83,"column":546,"offset":4296},"end":{"line":83,"column":644,"offset":4394},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":3751},"end":{"line":83,"column":644,"offset":4394},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"GitHub‚Äôs way of doing authentication for webhooks is to take the content of the payload, concatenate that with the secret key, and then hash it. You then do the same on your server, since you yourself also know the secret key, and if the hashes match, viol√°! You know it‚Äôs coming from GitHub. We accomplish this in Nodejs in a function called ","position":{"start":{"line":85,"column":1,"offset":4398},"end":{"line":85,"column":344,"offset":4741},"indent":[]}},{"type":"inlineCode","value":"verifySignature","position":{"start":{"line":85,"column":344,"offset":4741},"end":{"line":85,"column":361,"offset":4758},"indent":[]}},{"type":"text","value":" like so:","position":{"start":{"line":85,"column":361,"offset":4758},"end":{"line":85,"column":370,"offset":4767},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":4398},"end":{"line":85,"column":370,"offset":4767},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token comment\">// Verification function to check if it is actually GitHub who is POSTing here</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">verifySignature</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'user-agent'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GitHub-Hookshot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Compare their hmac signature to our hmac signature</span>\n  <span class=\"token comment\">// (hmac = hash-based message authentication code)</span>\n  <span class=\"token keyword\">const</span> sExternalSignature <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'x-hub-signature'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> sSecret <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>WEBHOOK_SECRET<span class=\"token punctuation\">;</span> \n  <span class=\"token keyword\">const</span> sInternalSignature <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`sha1=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sha1'</span><span class=\"token punctuation\">,</span> sSecret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">timingSafeEqual</span><span class=\"token punctuation\">(</span>Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sExternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sInternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":87,"column":1,"offset":4771},"end":{"line":101,"column":4,"offset":5466},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"GitHub Integration","position":{"start":{"line":103,"column":4,"offset":5473},"end":{"line":103,"column":22,"offset":5491},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":5470},"end":{"line":103,"column":22,"offset":5491},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, we know - then on the production server we want to naturally pull this newest code from the remote? For that, there is the NPM package ","position":{"start":{"line":105,"column":1,"offset":5495},"end":{"line":105,"column":140,"offset":5634},"indent":[]}},{"type":"inlineCode","value":"simple-git","position":{"start":{"line":105,"column":140,"offset":5634},"end":{"line":105,"column":152,"offset":5646},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":105,"column":152,"offset":5646},"end":{"line":105,"column":153,"offset":5647},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/steveukx/git-js#readme","children":[{"type":"text","value":"https://github.com/steveukx/git-js#readme","position":{"start":{"line":105,"column":154,"offset":5648},"end":{"line":105,"column":195,"offset":5689},"indent":[]}}],"position":{"start":{"line":105,"column":153,"offset":5647},"end":{"line":105,"column":239,"offset":5733},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":105,"column":239,"offset":5733},"end":{"line":105,"column":240,"offset":5734},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":5495},"end":{"line":105,"column":240,"offset":5734},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>update <span class=\"token operator\">&amp;&amp;</span> update<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>changes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// there is indeed an update found on the remote</span>\n        <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is an app templated by create-react-app; We need to issue 'npm run build' to build new source...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"commit your changes or stash them\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changes need to be stashed; stashing automatically...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token function\">stashAndPull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token comment\">// TODO: more error cases? ...</span>\n     <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">stashAndPull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Stash succesfull, attempting to pull again...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>","position":{"start":{"line":107,"column":1,"offset":5738},"end":{"line":128,"column":4,"offset":6614},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Build Integration","position":{"start":{"line":130,"column":4,"offset":6621},"end":{"line":130,"column":21,"offset":6638},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":6618},"end":{"line":130,"column":21,"offset":6638},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, I thought it was nice that we could detect pushes to the repository and then . But, with my create-react-apps, could I also build the source. If you were eagle-eyed, you may have seen that sneaky ","position":{"start":{"line":132,"column":1,"offset":6642},"end":{"line":132,"column":201,"offset":6842},"indent":[]}},{"type":"inlineCode","value":"build()","position":{"start":{"line":132,"column":201,"offset":6842},"end":{"line":132,"column":210,"offset":6851},"indent":[]}},{"type":"text","value":" function. That function looks like this:","position":{"start":{"line":132,"column":210,"offset":6851},"end":{"line":132,"column":251,"offset":6892},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":6642},"end":{"line":132,"column":251,"offset":6892},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">build</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'npm run build'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'../charge-keyboard.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Build command successfully sent. The site should be live with the newly commited changes incorporated.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>","position":{"start":{"line":134,"column":1,"offset":6896},"end":{"line":146,"column":4,"offset":7286},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":148,"column":1,"offset":7290},"end":{"line":148,"column":5,"offset":7294},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"very","position":{"start":{"line":148,"column":6,"offset":7295},"end":{"line":148,"column":10,"offset":7299},"indent":[]}}],"position":{"start":{"line":148,"column":5,"offset":7294},"end":{"line":148,"column":11,"offset":7300},"indent":[]}},{"type":"text","value":" cool thing here, at least I think, is that since I run my ","position":{"start":{"line":148,"column":11,"offset":7300},"end":{"line":148,"column":70,"offset":7359},"indent":[]}},{"type":"inlineCode","value":"index.js","position":{"start":{"line":148,"column":70,"offset":7359},"end":{"line":148,"column":80,"offset":7369},"indent":[]}},{"type":"text","value":" servers with ","position":{"start":{"line":148,"column":80,"offset":7369},"end":{"line":148,"column":94,"offset":7383},"indent":[]}},{"type":"inlineCode","value":"forever","position":{"start":{"line":148,"column":94,"offset":7383},"end":{"line":148,"column":103,"offset":7392},"indent":[]}},{"type":"text","value":", when the source is built, whatever ","position":{"start":{"line":148,"column":103,"offset":7392},"end":{"line":148,"column":140,"offset":7429},"indent":[]}},{"type":"inlineCode","value":"index.js","position":{"start":{"line":148,"column":140,"offset":7429},"end":{"line":148,"column":150,"offset":7439},"indent":[]}},{"type":"text","value":" is serving is updated, without affecting the runtime of ","position":{"start":{"line":148,"column":150,"offset":7439},"end":{"line":148,"column":207,"offset":7496},"indent":[]}},{"type":"inlineCode","value":"index.js","position":{"start":{"line":148,"column":207,"offset":7496},"end":{"line":148,"column":217,"offset":7506},"indent":[]}},{"type":"text","value":" itself! So, I am nearly approaching a fully integrated build system that was all custom built. üòÑ","position":{"start":{"line":148,"column":217,"offset":7506},"end":{"line":148,"column":315,"offset":7604},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":7290},"end":{"line":148,"column":315,"offset":7604},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Other Fun stuff","position":{"start":{"line":150,"column":4,"offset":7611},"end":{"line":150,"column":19,"offset":7626},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":7608},"end":{"line":150,"column":19,"offset":7626},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You know how when your ","position":{"start":{"line":152,"column":1,"offset":7630},"end":{"line":152,"column":24,"offset":7653},"indent":[]}},{"type":"inlineCode","value":"npm start","position":{"start":{"line":152,"column":24,"offset":7653},"end":{"line":152,"column":35,"offset":7664},"indent":[]}},{"type":"text","value":" wont work, only because of a missing module? I‚Äôve always been like, well, the ","position":{"start":{"line":152,"column":35,"offset":7664},"end":{"line":152,"column":114,"offset":7743},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"single","position":{"start":{"line":152,"column":115,"offset":7744},"end":{"line":152,"column":121,"offset":7750},"indent":[]}}],"position":{"start":{"line":152,"column":114,"offset":7743},"end":{"line":152,"column":122,"offset":7751},"indent":[]}},{"type":"text","value":" solution here ","position":{"start":{"line":152,"column":122,"offset":7751},"end":{"line":152,"column":137,"offset":7766},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"is to just install the friggen module","position":{"start":{"line":152,"column":138,"offset":7767},"end":{"line":152,"column":175,"offset":7804},"indent":[]}}],"position":{"start":{"line":152,"column":137,"offset":7766},"end":{"line":152,"column":176,"offset":7805},"indent":[]}},{"type":"text","value":" Well, thanks to stdout, we can try to read those missing modules, install it, and try ","position":{"start":{"line":152,"column":176,"offset":7805},"end":{"line":152,"column":263,"offset":7892},"indent":[]}},{"type":"inlineCode","value":"npm start","position":{"start":{"line":152,"column":263,"offset":7892},"end":{"line":152,"column":274,"offset":7903},"indent":[]}},{"type":"text","value":" again. This is something I am working on.","position":{"start":{"line":152,"column":274,"offset":7903},"end":{"line":152,"column":316,"offset":7945},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":7630},"end":{"line":152,"column":316,"offset":7945},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You‚Äôll notice a lot of the code is parsing ","position":{"start":{"line":154,"column":1,"offset":7949},"end":{"line":154,"column":44,"offset":7992},"indent":[]}},{"type":"inlineCode","value":"stdout","position":{"start":{"line":154,"column":44,"offset":7992},"end":{"line":154,"column":52,"offset":8000},"indent":[]}},{"type":"text","value":" as strings - I realize out to an infinite time scale, this isn‚Äôt a most robust way of checking error messages, so I‚Äôm working towards parsing the actual errors codes from Nodejs and reacting from those, instead of the error text itself.","position":{"start":{"line":154,"column":52,"offset":8000},"end":{"line":154,"column":289,"offset":8237},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":7949},"end":{"line":154,"column":289,"offset":8237},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You may have also noticed the function messageHub for nearly every logging type message. Indeed, we do log to the console, but I built this hub-type function so we could add more ways of messaging, one of them is through a Slack bot, which I show how to do in ","position":{"start":{"line":156,"column":1,"offset":8241},"end":{"line":156,"column":261,"offset":8501},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-4-of-building-a-slack-bot/","children":[{"type":"text","value":"Part 4","position":{"start":{"line":156,"column":262,"offset":8502},"end":{"line":156,"column":268,"offset":8508},"indent":[]}}],"position":{"start":{"line":156,"column":261,"offset":8501},"end":{"line":156,"column":365,"offset":8605},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":8241},"end":{"line":156,"column":365,"offset":8605},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You‚Äôll see I have logging util and twitter util functions commented out - they are coming - all with good time!","position":{"start":{"line":158,"column":1,"offset":8609},"end":{"line":158,"column":112,"offset":8720},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":8609},"end":{"line":158,"column":112,"offset":8720},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"To Do List","position":{"start":{"line":160,"column":4,"offset":8727},"end":{"line":160,"column":14,"offset":8737},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":8724},"end":{"line":160,"column":14,"offset":8737},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôve still got to add all my other sites to the monitor - this is just a matter adding to that key:value that the server monitors - see ","position":{"start":{"line":162,"column":1,"offset":8741},"end":{"line":162,"column":137,"offset":8877},"indent":[]}},{"type":"inlineCode","value":"oRepositoryPathValuePairs","position":{"start":{"line":162,"column":137,"offset":8877},"end":{"line":162,"column":164,"offset":8904},"indent":[]}},{"type":"text","value":" in the code below for what I am talking about.","position":{"start":{"line":162,"column":164,"offset":8904},"end":{"line":162,"column":211,"offset":8951},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":8741},"end":{"line":162,"column":211,"offset":8951},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What will be really cool is for the GitHub monitor to update itself when it sees that it‚Äôs remote - yes, this is like some Terminator-level crap. This will be a special case, because in order for a flawless execution of the monitor server itself, it would have to spawn a child process of itself, then update its code, then start itself, finally killing the child process of its older version.","position":{"start":{"line":164,"column":1,"offset":8955},"end":{"line":164,"column":394,"offset":9348},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":8955},"end":{"line":164,"column":394,"offset":9348},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Full code","position":{"start":{"line":166,"column":4,"offset":9355},"end":{"line":166,"column":13,"offset":9364},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":9352},"end":{"line":166,"column":13,"offset":9364},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"index.js","position":{"start":{"line":168,"column":1,"offset":9368},"end":{"line":168,"column":11,"offset":9378},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":9368},"end":{"line":168,"column":11,"offset":9378},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// strict</span>\n\n<span class=\"token comment\">// external library requires</span>\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> bodyParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> twitterBotUtils <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../chrisfrew.in-productions-shared-functions/utils/twitterBotUtils.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> simpleGit <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'simple-git'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> git <span class=\"token operator\">=</span> <span class=\"token function\">simpleGit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> exec <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'child_process'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>exec<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// fixed port on dell</span>\n<span class=\"token keyword\">const</span> iPort <span class=\"token operator\">=</span> <span class=\"token number\">8087</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> oRepositoryPathValuePairs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"charge-keyboard-splash-page\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"../charge-keyboard.com\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"chrisfrew.in-productions-github-bitbucket-monitor\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// super meta - will restart itself</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// The GitHub webhook MUST be configured to be sent as \"application/json\"</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>bodyParser<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Verification function to check if it is actually GitHub who is POSTing here</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">verifySignature</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'user-agent'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GitHub-Hookshot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Compare their hmac signature to our hmac signature</span>\n  <span class=\"token comment\">// (hmac = hash-based message authentication code)</span>\n  <span class=\"token keyword\">const</span> sExternalSignature <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'x-hub-signature'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> sSecret <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>WEBHOOK_SECRET<span class=\"token punctuation\">;</span> \n  <span class=\"token keyword\">const</span> sInternalSignature <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`sha1=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sha1'</span><span class=\"token punctuation\">,</span> sSecret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">timingSafeEqual</span><span class=\"token punctuation\">(</span>Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sExternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sInternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">determineWebhook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> sStatus<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// GitHub</span>\n    sStatus <span class=\"token operator\">=</span> <span class=\"token string\">\"New head commit in \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" (\"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>url <span class=\"token operator\">+</span> <span class=\"token string\">\"): \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>committer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span> <span class=\"token string\">\" added \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" modified \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, and\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" removed \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files.\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sStatus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attempting to pull from this repository...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>oRepositoryPathValuePairs<span class=\"token punctuation\">[</span>oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>actor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Bitbucket</span>\n    \n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// some other webhook (there are no others yet)</span>\n    \n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>update <span class=\"token operator\">&amp;&amp;</span> update<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>changes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// there is indeed an update found on the remote</span>\n        <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is an app templated by create-react-app; We need to issue 'npm run build' to build new source...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"commit your changes or stash them\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changes need to be stashed; stashing automatically...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token function\">stashAndPull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token comment\">// TODO: more error cases? ...</span>\n     <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">stashAndPull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Stash succesfull, attempting to pull again...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">build</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'npm run build'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'../charge-keyboard.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Build command successfully sent. The site should be live with the newly commited changes incorporated.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">messageHub</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// all the ways of messaging combined into one messaging \"hub\"</span>\n  <span class=\"token comment\">//twitterBotUtils.postStatus(sMessage); // // TODO: : make live!!!</span>\n  <span class=\"token comment\">//loggingUtils.logMessage(sMessage): // TODO: also make live!!!</span>\n  <span class=\"token function\">slackBotWebHook</span><span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">slackBotWebHook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_SLACK_BOT_WEBHOOK_URL<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    text<span class=\"token punctuation\">:</span> sMessage\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">verifySignature</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">determineWebhook</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// authentic source</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication successful; processing data:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'text/plain'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Someone else calling</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Someone else calling</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Only webhook requests allowed at this address</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>iPort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Webhook service running at http://localhost:'</span> <span class=\"token operator\">+</span> iPort<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":169,"column":1,"offset":9380},"end":{"line":299,"column":4,"offset":14360},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And again, don‚Äôt forget the updated code is all available on GitHub: ","position":{"start":{"line":301,"column":1,"offset":14364},"end":{"line":301,"column":70,"offset":14433},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor","children":[{"type":"text","value":"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor","position":{"start":{"line":301,"column":70,"offset":14433},"end":{"line":301,"column":156,"offset":14519},"indent":[]}}],"position":{"start":{"line":301,"column":70,"offset":14433},"end":{"line":301,"column":156,"offset":14519},"indent":[]}}],"position":{"start":{"line":301,"column":1,"offset":14364},"end":{"line":301,"column":156,"offset":14519},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":303,"column":1,"offset":14523},"end":{"line":303,"column":11,"offset":14533},"indent":[]}}],"position":{"start":{"line":303,"column":1,"offset":14523},"end":{"line":303,"column":11,"offset":14533},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":303,"column":11,"offset":14533}}}},{"id":"transformer-remark-markdown-html-2a5b3d4651708a0159352d5944e272b6-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>Background and Overview of this Technologically Amazing Accomplishment</h2>\n<p>After a bit of thinking about my automation project, I settled on a single subdomain (at least for now), fittedly named <a href=\"https://webhooks.chrisfrew.in\">https://webhooks.chrisfrew.in</a>. (Go on, you can try clicking on it). However, if you‚Äôre not an authorized party (which I check via a <em>secret key</em>) you‚Äôll just be redirected to the plain ol‚Äô <a href=\"https://chrisfrew.in\">https://chrisfrew.in</a> - yeah I know, what a crappy blog.</p>\n<p>If any of this stuff sounds cool, or perhaps more importantly, sounds like a foreign language, then c‚Äômon in and dive in - we‚Äôll get into the technical details and all steps of how all of this can be set up.</p>\n<p>Remember, all this stuff is open source too. The repository for the monitor is here: <a href=\"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor\">https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor</a></p>\n<p>(The full code is also posted at the bottom of this post.)</p>\n<h2>Setting Up a Catch-All webhooks subdomain</h2>\n<p>So <a href=\"chrisfrew.in\">chrisfrew.in</a> is registered on Namecheap. We have to just setup two A Records, both for webhooks www.webhooks. It looks like this:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-f171e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 21.066907775768534%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQY052OSw6AIAxEewZODzvuWOVjWmqHqHHBwjjJS5mGvJRExGpvVlqz6owxDDvMnLOFECboK/ZaTVXnm5mNxAtk76Bjn1IyIpqsAgn+qk+EeXPh4sJ+HHPGGB/h9wtdWC7RDTr4IzwB8BogAWct9BoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Namecheap configuration\"\n        title=\"\"\n        src=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-fb8a0.png\"\n        srcset=\"/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-1a291.png 148w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-2bc4a.png 295w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-fb8a0.png 590w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-526de.png 885w,\n/static/namecheap_config-31f8d6e653672fd7d4238a57a2f72a1b-f171e.png 1106w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Listing on Webhooks subdomain - POST and ‚Äòall‚Äô</h2>\n<p>So first off, we want our express app to only do special things on a post to the root (in this case, because I run NGINX, we are already in the webhooks.chrisfrew.in namespace here) - otherwise we redirect to <a href=\"https://chrisfrew.in\">https://chrisfrew.in</a></p>\n<p>Notice that even when ARE POSTed to, we still verify the signature of the request, otherwise just like the <code>all('*')</code>, we redirect (301) the traffic to chrisfrew.in.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code>app<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">verifySignature</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">determineWebhook</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// authentic source</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication successful; processing data:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'text/plain'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Someone else calling</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Someone else calling</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Only webhook requests allowed at this address</span>\n</code></pre>\n      </div>\n<h2>Determine What type of Webhook</h2>\n<p>Right now I only process GitHub and Bitbucket Webhooks. It‚Äôs rudimentary, and it‚Äôs not even finished, but it works for GitHub:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">determineWebhook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> sStatus<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// GitHub</span>\n    sStatus <span class=\"token operator\">=</span> <span class=\"token string\">\"New head commit in \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" (\"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>url <span class=\"token operator\">+</span> <span class=\"token string\">\"): \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>committer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span> <span class=\"token string\">\" added \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" modified \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, and\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" removed \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files.\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sStatus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attempting to pull from this repository...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>oRepositoryPathValuePairs<span class=\"token punctuation\">[</span>oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>actor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Bitbucket</span>\n    \n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// some other webhook (there are no others yet)</span>\n    \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<h2>GitHub Integration</h2>\n<p>With our subdomain set up and our express server serving there, we can start processing requests for <code>webhooks.chrisfrew.in</code>. The important thing here is to validate requests. Imagine what could happen without validation, (if I eventualy do hook this up to my twitter bot to post every time a repository is updated) just anyone could send random github-ish looking json data to <code>webhooks.chrisfrew.in</code>, and my server would take action, even when its not coming from a validate That would be really annoying, and plus, it would make me seem <em>way</em> more productive than I am with my repositories. üòÇüòÇüòÇ So yeah, validation is an important step. </p>\n<p>GitHub‚Äôs way of doing authentication for webhooks is to take the content of the payload, concatenate that with the secret key, and then hash it. You then do the same on your server, since you yourself also know the secret key, and if the hashes match, viol√°! You know it‚Äôs coming from GitHub. We accomplish this in Nodejs in a function called <code>verifySignature</code> like so:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token comment\">// Verification function to check if it is actually GitHub who is POSTing here</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">verifySignature</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'user-agent'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GitHub-Hookshot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Compare their hmac signature to our hmac signature</span>\n  <span class=\"token comment\">// (hmac = hash-based message authentication code)</span>\n  <span class=\"token keyword\">const</span> sExternalSignature <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'x-hub-signature'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> sSecret <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>WEBHOOK_SECRET<span class=\"token punctuation\">;</span> \n  <span class=\"token keyword\">const</span> sInternalSignature <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`sha1=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sha1'</span><span class=\"token punctuation\">,</span> sSecret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">timingSafeEqual</span><span class=\"token punctuation\">(</span>Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sExternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sInternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<h2>GitHub Integration</h2>\n<p>So, we know - then on the production server we want to naturally pull this newest code from the remote? For that, there is the NPM package <code>simple-git</code> <a href=\"https://github.com/steveukx/git-js#readme\">https://github.com/steveukx/git-js#readme</a>.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>update <span class=\"token operator\">&amp;&amp;</span> update<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>changes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// there is indeed an update found on the remote</span>\n        <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is an app templated by create-react-app; We need to issue 'npm run build' to build new source...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"commit your changes or stash them\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changes need to be stashed; stashing automatically...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token function\">stashAndPull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token comment\">// TODO: more error cases? ...</span>\n     <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">stashAndPull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Stash succesfull, attempting to pull again...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>\n<h2>Build Integration</h2>\n<p>So, I thought it was nice that we could detect pushes to the repository and then . But, with my create-react-apps, could I also build the source. If you were eagle-eyed, you may have seen that sneaky <code>build()</code> function. That function looks like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">build</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'npm run build'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'../charge-keyboard.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Build command successfully sent. The site should be live with the newly commited changes incorporated.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>\n<p>The <em>very</em> cool thing here, at least I think, is that since I run my <code>index.js</code> servers with <code>forever</code>, when the source is built, whatever <code>index.js</code> is serving is updated, without affecting the runtime of <code>index.js</code> itself! So, I am nearly approaching a fully integrated build system that was all custom built. üòÑ</p>\n<h2>Other Fun stuff</h2>\n<p>You know how when your <code>npm start</code> wont work, only because of a missing module? I‚Äôve always been like, well, the <em>single</em> solution here <em>is to just install the friggen module</em> Well, thanks to stdout, we can try to read those missing modules, install it, and try <code>npm start</code> again. This is something I am working on.</p>\n<p>You‚Äôll notice a lot of the code is parsing <code>stdout</code> as strings - I realize out to an infinite time scale, this isn‚Äôt a most robust way of checking error messages, so I‚Äôm working towards parsing the actual errors codes from Nodejs and reacting from those, instead of the error text itself.</p>\n<p>You may have also noticed the function messageHub for nearly every logging type message. Indeed, we do log to the console, but I built this hub-type function so we could add more ways of messaging, one of them is through a Slack bot, which I show how to do in <a href=\"https://chrisfrew.in/fully-automating-chrisfrew-in-productions-part-4-of-building-a-slack-bot/\">Part 4</a></p>\n<p>You‚Äôll see I have logging util and twitter util functions commented out - they are coming - all with good time!</p>\n<h2>To Do List</h2>\n<p>I‚Äôve still got to add all my other sites to the monitor - this is just a matter adding to that key:value that the server monitors - see <code>oRepositoryPathValuePairs</code> in the code below for what I am talking about.</p>\n<p>What will be really cool is for the GitHub monitor to update itself when it sees that it‚Äôs remote - yes, this is like some Terminator-level crap. This will be a special case, because in order for a flawless execution of the monitor server itself, it would have to spawn a child process of itself, then update its code, then start itself, finally killing the child process of its older version.</p>\n<h2>Full code</h2>\n<p><code>index.js</code></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// strict</span>\n\n<span class=\"token comment\">// external library requires</span>\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> bodyParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body-parser'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> twitterBotUtils <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../chrisfrew.in-productions-shared-functions/utils/twitterBotUtils.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> simpleGit <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'simple-git'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> git <span class=\"token operator\">=</span> <span class=\"token function\">simpleGit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> exec <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'child_process'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>exec<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// fixed port on dell</span>\n<span class=\"token keyword\">const</span> iPort <span class=\"token operator\">=</span> <span class=\"token number\">8087</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> oRepositoryPathValuePairs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"charge-keyboard-splash-page\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"../charge-keyboard.com\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"chrisfrew.in-productions-github-bitbucket-monitor\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// super meta - will restart itself</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// The GitHub webhook MUST be configured to be sent as \"application/json\"</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>bodyParser<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Verification function to check if it is actually GitHub who is POSTing here</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">verifySignature</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'user-agent'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GitHub-Hookshot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Compare their hmac signature to our hmac signature</span>\n  <span class=\"token comment\">// (hmac = hash-based message authentication code)</span>\n  <span class=\"token keyword\">const</span> sExternalSignature <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">'x-hub-signature'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> oData <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> sSecret <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>WEBHOOK_SECRET<span class=\"token punctuation\">;</span> \n  <span class=\"token keyword\">const</span> sInternalSignature <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`sha1=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sha1'</span><span class=\"token punctuation\">,</span> sSecret<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> crypto<span class=\"token punctuation\">.</span><span class=\"token function\">timingSafeEqual</span><span class=\"token punctuation\">(</span>Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sExternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Buffer<span class=\"token punctuation\">.</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">(</span>sInternalSignature<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">determineWebhook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> sStatus<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// GitHub</span>\n    sStatus <span class=\"token operator\">=</span> <span class=\"token string\">\"New head commit in \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" (\"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>url <span class=\"token operator\">+</span> <span class=\"token string\">\"): \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>committer<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span> <span class=\"token string\">\" added \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>added<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" modified \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>modified<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files, and\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      sStatus <span class=\"token operator\">=</span> sStatus <span class=\"token operator\">+</span>  <span class=\"token string\">\" removed \"</span> <span class=\"token operator\">+</span> oData<span class=\"token punctuation\">.</span>head_commit<span class=\"token punctuation\">.</span>removed<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token string\">\" files.\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sStatus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attempting to pull from this repository...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>oRepositoryPathValuePairs<span class=\"token punctuation\">[</span>oData<span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>oData<span class=\"token punctuation\">.</span>actor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Bitbucket</span>\n    \n    <span class=\"token comment\">//twitterBotUtils.postStatus(sStatus);</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// some other webhook (there are no others yet)</span>\n    \n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>update <span class=\"token operator\">&amp;&amp;</span> update<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>changes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// there is indeed an update found on the remote</span>\n        <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This is an app templated by create-react-app; We need to issue 'npm run build' to build new source...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"commit your changes or stash them\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changes need to be stashed; stashing automatically...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token function\">stashAndPull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span><span class=\"token comment\">// TODO: more error cases? ...</span>\n     <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">stashAndPull</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  git<span class=\"token punctuation\">.</span><span class=\"token function\">cwd</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stash</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Stash succesfull, attempting to pull again...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">pull</span><span class=\"token punctuation\">(</span>sRootRepositoryDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">build</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'npm run build'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> cwd<span class=\"token punctuation\">:</span> <span class=\"token string\">'../charge-keyboard.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span>stderr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token function\">messageHub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Build command successfully sent. The site should be live with the newly commited changes incorporated.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">messageHub</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// all the ways of messaging combined into one messaging \"hub\"</span>\n  <span class=\"token comment\">//twitterBotUtils.postStatus(sMessage); // // TODO: : make live!!!</span>\n  <span class=\"token comment\">//loggingUtils.logMessage(sMessage): // TODO: also make live!!!</span>\n  <span class=\"token function\">slackBotWebHook</span><span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">slackBotWebHook</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sMessage<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>CHRISFREW_IN_SLACK_BOT_WEBHOOK_URL<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    text<span class=\"token punctuation\">:</span> sMessage\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">verifySignature</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">determineWebhook</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// authentic source</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication successful; processing data:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'text/plain'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Someone else calling</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Someone else calling</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Authentication failed; redirecting them to https://chrisfrew.in'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token number\">301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'https://chrisfrew.in/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Redirect to domain root</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Only webhook requests allowed at this address</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span>iPort<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Webhook service running at http://localhost:'</span> <span class=\"token operator\">+</span> iPort<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<p>And again, don‚Äôt forget the updated code is all available on GitHub: <a href=\"https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor\">https://github.com/frewinchristopher/chrisfrew.in-productions-github-bitbucket-monitor</a></p>\n<p>Cheers! üç∫</p>"},{"id":"transformer-remark-markdown-ast-b2f5b3c4728705422b75d423810a0812-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: My Laptop Stickers Arrived! Am I a Real Developer Now?!\ndate: \"2017-12-19\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":106},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Laptop Stickers!","position":{"start":{"line":7,"column":3,"offset":112},"end":{"line":7,"column":19,"offset":128},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":110},"end":{"line":7,"column":19,"offset":128},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./laptopstickers1.jpg","alt":"So hipster. Much win. Yes.","position":{"start":{"line":9,"column":1,"offset":132},"end":{"line":9,"column":53,"offset":184},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-b2a60.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAE7wbB9CHGf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECERIh/9oACAEBAAEFAovkeGmUrs0f/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABgQAAIDAAAAAAAAAAAAAAAAAAABIDFx/9oACAEBAAY/AsE2XD//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYYH/2gAIAQEAAT8htSuwnyGkK8P0uUdMhblYe0//2gAMAwEAAgADAAAAEOA//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EIyM/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELDD/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFhcZHR/9oACAEBAAE/EDc99Z1XcoY0BlSz3iZ4At5F7cCm7YaYS+6BW0//2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"So hipster. Much win. Yes.\"\n        title=\"\"\n        src=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-f8fb9.jpg\"\n        srcset=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-e8976.jpg 148w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-63df2.jpg 295w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-f8fb9.jpg 590w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-85e3d.jpg 885w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-d1924.jpg 1180w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-9452e.jpg 1770w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-b2a60.jpg 3264w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":9,"column":1,"offset":132},"end":{"line":9,"column":53,"offset":184},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Nothing shows others better that you are a humble, totally epic developer, than putting really cheap stickers on your really expensive laptop!","position":{"start":{"line":11,"column":1,"offset":188},"end":{"line":11,"column":143,"offset":330},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":188},"end":{"line":11,"column":143,"offset":330},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(Okay, I can‚Äôt be ","position":{"start":{"line":13,"column":1,"offset":334},"end":{"line":13,"column":19,"offset":352},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"that","position":{"start":{"line":13,"column":20,"offset":353},"end":{"line":13,"column":24,"offset":357},"indent":[]}}],"position":{"start":{"line":13,"column":19,"offset":352},"end":{"line":13,"column":25,"offset":358},"indent":[]}},{"type":"text","value":" humble since I‚Äôm bragging about a few 50","position":{"start":{"line":13,"column":25,"offset":358},"end":{"line":13,"column":66,"offset":399},"indent":[]}},{"type":"text","value":"¬¢","position":{"start":{"line":13,"column":66,"offset":399},"end":{"line":13,"column":72,"offset":405},"indent":[]}},{"type":"text","value":" stickers on a blog - and I‚Äôm even wrong on a second account - my Mac here is used, from 2013, and only set me back about $700 üòÑ)","position":{"start":{"line":13,"column":72,"offset":405},"end":{"line":13,"column":202,"offset":535},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":334},"end":{"line":13,"column":202,"offset":535},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Tech stack","position":{"start":{"line":15,"column":3,"offset":541},"end":{"line":15,"column":13,"offset":551},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":539},"end":{"line":15,"column":13,"offset":551},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Okay, I‚Äôm lying; there are a few stickers there of tools I haven‚Äôt used in one of my applications yet, but am learning and plan to very soon:","position":{"start":{"line":17,"column":1,"offset":555},"end":{"line":17,"column":142,"offset":696},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":555},"end":{"line":17,"column":142,"offset":696},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Redux","position":{"start":{"line":19,"column":3,"offset":702},"end":{"line":19,"column":8,"offset":707},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":702},"end":{"line":19,"column":8,"offset":707},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":700},"end":{"line":19,"column":8,"offset":707},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"TypeScript","position":{"start":{"line":20,"column":3,"offset":711},"end":{"line":20,"column":13,"offset":721},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":711},"end":{"line":20,"column":13,"offset":721},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":709},"end":{"line":20,"column":13,"offset":721},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ReactiveX","position":{"start":{"line":21,"column":3,"offset":725},"end":{"line":21,"column":12,"offset":734},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":725},"end":{"line":21,"column":12,"offset":734},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":723},"end":{"line":21,"column":12,"offset":734},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":700},"end":{"line":21,"column":12,"offset":734},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Otherwise, it‚Äôs my honest-to-goodness workflow tools.","position":{"start":{"line":23,"column":1,"offset":738},"end":{"line":23,"column":54,"offset":791},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":738},"end":{"line":23,"column":54,"offset":791},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"So You Wanna Be Cool Too, Eh?","position":{"start":{"line":25,"column":3,"offset":797},"end":{"line":25,"column":32,"offset":826},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":795},"end":{"line":25,"column":32,"offset":826},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I ordered all of these on ","position":{"start":{"line":27,"column":1,"offset":830},"end":{"line":27,"column":27,"offset":856},"indent":[]}},{"type":"link","title":null,"url":"redbubble.com","children":[{"type":"text","value":"redbubble.com","position":{"start":{"line":27,"column":28,"offset":857},"end":{"line":27,"column":41,"offset":870},"indent":[]}}],"position":{"start":{"line":27,"column":27,"offset":856},"end":{"line":27,"column":57,"offset":886},"indent":[]}},{"type":"text","value":" No, no, it‚Äôs not what you think, its not an affiliate link! In fact, a good start portal for RedBubble is ","position":{"start":{"line":27,"column":57,"offset":886},"end":{"line":27,"column":164,"offset":993},"indent":[]}},{"type":"link","title":null,"url":"devstickers.com","children":[{"type":"text","value":"devstickers.com","position":{"start":{"line":27,"column":165,"offset":994},"end":{"line":27,"column":180,"offset":1009},"indent":[]}}],"position":{"start":{"line":27,"column":164,"offset":993},"end":{"line":27,"column":198,"offset":1027},"indent":[]}},{"type":"text","value":". Unfortunately, I found I often had to find the 4-per-page stickers in order to have a sticker size that was suitable for me, ","position":{"start":{"line":27,"column":198,"offset":1027},"end":{"line":27,"column":325,"offset":1154},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"obviously","position":{"start":{"line":27,"column":326,"offset":1155},"end":{"line":27,"column":335,"offset":1164},"indent":[]}}],"position":{"start":{"line":27,"column":325,"offset":1154},"end":{"line":27,"column":336,"offset":1165},"indent":[]}},{"type":"text","value":" so I could fit as many dev stickers as possible on my laptop üòÇ - see the picture for reference.","position":{"start":{"line":27,"column":336,"offset":1165},"end":{"line":27,"column":433,"offset":1262},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":830},"end":{"line":27,"column":433,"offset":1262},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"(Update as of March 16, 2018 - I just couldn‚Äôt resist buying more, and because of the multi-sticker / size of sticker struggles I had above, I ended up creating my own sticker sheet! (I wanted a weird mishmash of stickers for my development interests - spanning from perl to raiblocks to solidity - I know, weird) You can snag the same exact sticker sheet (I found the ‚Äòmedium‚Äô sized sheet to produce the stickers with the best size for a laptop) ","position":{"start":{"line":29,"column":2,"offset":1267},"end":{"line":29,"column":449,"offset":1714},"indent":[]}},{"type":"link","title":null,"url":"https://www.redbubble.com/people/chrisfrewin/works/30313316-dev-stickers?p=sticker&size=small&size=medium","children":[{"type":"text","value":"https://www.redbubble.com/people/chrisfrewin/works/30313316-dev-stickers?p=sticker&size=small&size=medium","position":{"start":{"line":29,"column":450,"offset":1715},"end":{"line":29,"column":555,"offset":1820},"indent":[]}}],"position":{"start":{"line":29,"column":449,"offset":1714},"end":{"line":29,"column":663,"offset":1928},"indent":[]}},{"type":"text","value":" *Disclaimer: that is indeed my product on RedBubble!","position":{"start":{"line":29,"column":663,"offset":1928},"end":{"line":29,"column":716,"offset":1981},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1266},"end":{"line":29,"column":717,"offset":1982},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1266},"end":{"line":29,"column":717,"offset":1982},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here‚Äôs how my mac looks now:","position":{"start":{"line":31,"column":1,"offset":1986},"end":{"line":31,"column":29,"offset":2014},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1986},"end":{"line":31,"column":29,"offset":2014},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./laptopstickers2.jpg","alt":"Much cool. Many Sticker. Yes.","position":{"start":{"line":33,"column":1,"offset":2018},"end":{"line":33,"column":56,"offset":2073},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-245aa.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 68.82272416153319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIA/9oADAMBAAIQAxAAAAHfSJBvFG//xAAZEAADAAMAAAAAAAAAAAAAAAAAARECEkH/2gAIAQEAAQUCo6nvDjYsz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAARASEgMZH/2gAIAQEABj8Cl7LFfMP/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhUbH/2gAIAQEAAT8h3o4ZI71Dv4CJYUhptII//9oADAMBAAIAAwAAABAo/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPxBJ/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEhgf/aAAgBAgEBPxCOmH//xAAcEAEBAAMBAQEBAAAAAAAAAAABEQAhMUGhUZH/2gAIAQEAAT8QpoGsL3XDOUQ9FpPfucxp+yf3JsrUQ37r7lwu5EGmDKN9Z1z/2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Much cool. Many Sticker. Yes.\"\n        title=\"\"\n        src=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-f8fb9.jpg\"\n        srcset=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-e8976.jpg 148w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-63df2.jpg 295w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-f8fb9.jpg 590w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-85e3d.jpg 885w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-d1924.jpg 1180w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-9452e.jpg 1770w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-245aa.jpg 2922w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":33,"column":1,"offset":2018},"end":{"line":33,"column":56,"offset":2073},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yep, lots of tools.","position":{"start":{"line":35,"column":1,"offset":2077},"end":{"line":35,"column":20,"offset":2096},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2077},"end":{"line":35,"column":20,"offset":2096},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":37,"column":1,"offset":2100},"end":{"line":37,"column":11,"offset":2110},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":2100},"end":{"line":37,"column":11,"offset":2110},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":38,"column":1,"offset":2112}}}},{"id":"transformer-remark-markdown-html-b2f5b3c4728705422b75d423810a0812-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Laptop Stickers!</h1>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-b2a60.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAADBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAE7wbB9CHGf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECERIh/9oACAEBAAEFAovkeGmUrs0f/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABgQAAIDAAAAAAAAAAAAAAAAAAABIDFx/9oACAEBAAY/AsE2XD//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYYH/2gAIAQEAAT8htSuwnyGkK8P0uUdMhblYe0//2gAMAwEAAgADAAAAEOA//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EIyM/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELDD/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFhcZHR/9oACAEBAAE/EDc99Z1XcoY0BlSz3iZ4At5F7cCm7YaYS+6BW0//2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"So hipster. Much win. Yes.\"\n        title=\"\"\n        src=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-f8fb9.jpg\"\n        srcset=\"/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-e8976.jpg 148w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-63df2.jpg 295w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-f8fb9.jpg 590w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-85e3d.jpg 885w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-d1924.jpg 1180w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-9452e.jpg 1770w,\n/static/laptopstickers1-ce10386796d1b866b5dd08091672a70c-b2a60.jpg 3264w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Nothing shows others better that you are a humble, totally epic developer, than putting really cheap stickers on your really expensive laptop!</p>\n<p>(Okay, I can‚Äôt be <em>that</em> humble since I‚Äôm bragging about a few 50¬¢ stickers on a blog - and I‚Äôm even wrong on a second account - my Mac here is used, from 2013, and only set me back about $700 üòÑ)</p>\n<h1>Tech stack</h1>\n<p>Okay, I‚Äôm lying; there are a few stickers there of tools I haven‚Äôt used in one of my applications yet, but am learning and plan to very soon:</p>\n<ul>\n<li>Redux</li>\n<li>TypeScript</li>\n<li>ReactiveX</li>\n</ul>\n<p>Otherwise, it‚Äôs my honest-to-goodness workflow tools.</p>\n<h1>So You Wanna Be Cool Too, Eh?</h1>\n<p>I ordered all of these on <a href=\"redbubble.com\">redbubble.com</a> No, no, it‚Äôs not what you think, its not an affiliate link! In fact, a good start portal for RedBubble is <a href=\"devstickers.com\">devstickers.com</a>. Unfortunately, I found I often had to find the 4-per-page stickers in order to have a sticker size that was suitable for me, <em>obviously</em> so I could fit as many dev stickers as possible on my laptop üòÇ - see the picture for reference.</p>\n<p><em>(Update as of March 16, 2018 - I just couldn‚Äôt resist buying more, and because of the multi-sticker / size of sticker struggles I had above, I ended up creating my own sticker sheet! (I wanted a weird mishmash of stickers for my development interests - spanning from perl to raiblocks to solidity - I know, weird) You can snag the same exact sticker sheet (I found the ‚Äòmedium‚Äô sized sheet to produce the stickers with the best size for a laptop) <a href=\"https://www.redbubble.com/people/chrisfrewin/works/30313316-dev-stickers?p=sticker&#x26;size=small&#x26;size=medium\">https://www.redbubble.com/people/chrisfrewin/works/30313316-dev-stickers?p=sticker&#x26;size=small&#x26;size=medium</a> *Disclaimer: that is indeed my product on RedBubble!</em></p>\n<p>Here‚Äôs how my mac looks now:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-245aa.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 68.82272416153319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBP/EABUBAQEAAAAAAAAAAAAAAAAAAAIA/9oADAMBAAIQAxAAAAHfSJBvFG//xAAZEAADAAMAAAAAAAAAAAAAAAAAARECEkH/2gAIAQEAAQUCo6nvDjYsz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAARASEgMZH/2gAIAQEABj8Cl7LFfMP/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhUbH/2gAIAQEAAT8h3o4ZI71Dv4CJYUhptII//9oADAMBAAIAAwAAABAo/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPxBJ/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEhgf/aAAgBAgEBPxCOmH//xAAcEAEBAAMBAQEBAAAAAAAAAAABEQAhMUGhUZH/2gAIAQEAAT8QpoGsL3XDOUQ9FpPfucxp+yf3JsrUQ37r7lwu5EGmDKN9Z1z/2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Much cool. Many Sticker. Yes.\"\n        title=\"\"\n        src=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-f8fb9.jpg\"\n        srcset=\"/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-e8976.jpg 148w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-63df2.jpg 295w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-f8fb9.jpg 590w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-85e3d.jpg 885w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-d1924.jpg 1180w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-9452e.jpg 1770w,\n/static/laptopstickers2-50e9d14fe8c84d0c1f9ddfc65d1da267-245aa.jpg 2922w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Yep, lots of tools.</p>\n<p>Cheers! üç∫</p>"},{"id":"transformer-remark-markdown-ast-cd09cefe144d3b2d915e6c18172d0685-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Colors For SAP Web IDE!\ndate: \"2018-01-11\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":74},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Dude, where‚Äôs my color scheme?!","position":{"start":{"line":7,"column":3,"offset":80},"end":{"line":7,"column":34,"offset":111},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":78},"end":{"line":7,"column":34,"offset":111},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At some point, ","position":{"start":{"line":9,"column":1,"offset":115},"end":{"line":9,"column":16,"offset":130},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"SAP took away my Monokai Color scheme from the SAPUI5 Web IDE!","position":{"start":{"line":9,"column":17,"offset":131},"end":{"line":9,"column":79,"offset":193},"indent":[]}}],"position":{"start":{"line":9,"column":16,"offset":130},"end":{"line":9,"column":80,"offset":194},"indent":[]}},{"type":"text","value":" That is unforgivable‚Ä¶","position":{"start":{"line":9,"column":80,"offset":194},"end":{"line":9,"column":104,"offset":218},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":115},"end":{"line":9,"column":104,"offset":218},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/unforgivable-595b9ad46814fa0343339c67fe02f92a.gif","alt":"Like I said, unforgivable.","position":{"start":{"line":11,"column":1,"offset":222},"end":{"line":11,"column":48,"offset":269},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":222},"end":{"line":11,"column":48,"offset":269},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Don‚Äôt worry - code to the rescue!","position":{"start":{"line":13,"column":4,"offset":276},"end":{"line":13,"column":37,"offset":309},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":273},"end":{"line":13,"column":37,"offset":309},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I wrote a small tampermonkey script that address this issue, and you can get your monokai colors back! ","position":{"start":{"line":15,"column":1,"offset":313},"end":{"line":15,"column":104,"offset":416},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/ajaxorg/ace/tree/master/lib/ace/theme","children":[{"type":"text","value":"(See Ace‚Äôs GitHub for all possible themes.)","position":{"start":{"line":15,"column":105,"offset":417},"end":{"line":15,"column":148,"offset":460},"indent":[]}}],"position":{"start":{"line":15,"column":104,"offset":416},"end":{"line":15,"column":207,"offset":519},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":313},"end":{"line":15,"column":207,"offset":519},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"sapwebidecolors.png","alt":"What's this trickery?!?! Is that MONOKAI for SAP Web IDE?!","position":{"start":{"line":17,"column":1,"offset":523},"end":{"line":17,"column":83,"offset":605},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-d437b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.99250936329588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB50lEQVQoz42SXWsTQRSG979oze7s7uzs19SNpK1aWvMHRMHeFrzQK0FEUEoupIpUU0HailjtlYh/QqQIImgh0iY2MTHJJtukjV/g1evsxBqDXfTi5SzszMMz5xwle2YWudv3MZ9fEVnG4oM1LCw9Qm7hHq7fuIO5+TzmbuaRu7X4X1FmrtxFvdlCM9pDp/ddJtr9hnCnh1KljqXlFaw+foKnz57j4eraP6Ocu3gNYa2EWjNCV8D2vv74nXeFTVi2Ds9TkT1lI5MxoGqHkVIPJUaZuXAV3cYHeflTuIN298sQ0PFMMG4hM8HBRx04LoXtmMnA07OXUCxt483bDay/eo3N4jZK5arMi5frsF0DhpkCYwSUqqCWCsvSRNVkJfrIUJSz5y+j1/6IYrU29Nw/Dak2giBNERzPiGrBdVVhmYLzK0Q/MjCUwKiGciNMBMYH40uuZwiYIXpqCqAOZhNpr4t/+72VwFbUQUE8tdHeTQZaOizugAemsPSQTvs4Griirwyca6K3ZACMV2SrUhUD+XwAkMqDuu9gcvokxscYpqZPwOf2wUOJgZWwhY3CltzBv4Bu35CJ9ZFmx3w55XgAGumHkMG3BNbbXbwvllEPO4mG1CKYEGZj2SmMT6Zhj1KwgMNnfdC+4U87GBduPa1pyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"What's this trickery?!?! Is that MONOKAI for SAP Web IDE?!\"\n        title=\"\"\n        src=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fb8a0.png\"\n        srcset=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-1a291.png 148w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-2bc4a.png 295w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fb8a0.png 590w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-526de.png 885w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fa2eb.png 1180w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-08f6a.png 1770w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-d437b.png 2136w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "},{"type":"text","value":"\nWhat‚Äôs this trickery?!?! Is that the MONOKAI color scheme for SAP Web IDE?!","position":{"start":{"line":17,"column":83,"offset":605},"end":{"line":18,"column":76,"offset":682},"indent":[1]}}],"position":{"start":{"line":17,"column":1,"offset":523},"end":{"line":18,"column":76,"offset":682},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This obviously requires that you have tampermonkey installed for your browser - check out the ","position":{"start":{"line":20,"column":1,"offset":686},"end":{"line":20,"column":95,"offset":780},"indent":[]}},{"type":"link","title":null,"url":"https://tampermonkey.net/","children":[{"type":"text","value":"tampermonkey website on how to install it","position":{"start":{"line":20,"column":96,"offset":781},"end":{"line":20,"column":137,"offset":822},"indent":[]}}],"position":{"start":{"line":20,"column":95,"offset":780},"end":{"line":20,"column":165,"offset":850},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":20,"column":165,"offset":850},"end":{"line":20,"column":166,"offset":851},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":686},"end":{"line":20,"column":166,"offset":851},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once you‚Äôve installed tampermonkey, just copy in and paste the script from below (or the ","position":{"start":{"line":22,"column":1,"offset":855},"end":{"line":22,"column":90,"offset":944},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/sapwebidecolors","children":[{"type":"text","value":"GitHub","position":{"start":{"line":22,"column":91,"offset":945},"end":{"line":22,"column":97,"offset":951},"indent":[]}}],"position":{"start":{"line":22,"column":90,"offset":944},"end":{"line":22,"column":152,"offset":1006},"indent":[]}},{"type":"text","value":" page) and all you should need to change is the ","position":{"start":{"line":22,"column":152,"offset":1006},"end":{"line":22,"column":200,"offset":1054},"indent":[]}},{"type":"inlineCode","value":"[YOUR_USER_NAME_HERE]","position":{"start":{"line":22,"column":200,"offset":1054},"end":{"line":22,"column":223,"offset":1077},"indent":[]}},{"type":"text","value":" value in the ","position":{"start":{"line":22,"column":223,"offset":1077},"end":{"line":22,"column":237,"offset":1091},"indent":[]}},{"type":"inlineCode","value":"@match","position":{"start":{"line":22,"column":237,"offset":1091},"end":{"line":22,"column":245,"offset":1099},"indent":[]}},{"type":"text","value":" variable. This username is your SAP ‚Äòs‚Äô username, an ‚Äòs‚Äô followed by 10 numbers, i.e. ","position":{"start":{"line":22,"column":245,"offset":1099},"end":{"line":22,"column":332,"offset":1186},"indent":[]}},{"type":"inlineCode","value":"S0123456789","position":{"start":{"line":22,"column":332,"offset":1186},"end":{"line":22,"column":345,"offset":1199},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":22,"column":345,"offset":1199},"end":{"line":22,"column":346,"offset":1200},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":855},"end":{"line":22,"column":346,"offset":1200},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"TL;DR: Gimme Code!","position":{"start":{"line":24,"column":4,"offset":1207},"end":{"line":24,"column":22,"offset":1225},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1204},"end":{"line":24,"column":22,"offset":1225},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The full code (as of January 11, 2018) is as follows:","position":{"start":{"line":26,"column":1,"offset":1229},"end":{"line":26,"column":54,"offset":1282},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1229},"end":{"line":26,"column":54,"offset":1282},"indent":[]}},{"type":"html","lang":"javascript","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token comment\">// ==UserScript==</span>\n<span class=\"token comment\">// @name         Monokai Web IDE colors</span>\n<span class=\"token comment\">// @namespace    http://tampermonkey.net/</span>\n<span class=\"token comment\">// @version      1.0</span>\n<span class=\"token comment\">// @description  Changes the Ace Shell CSS in SAP Web IDE from any defaults to Monokai.</span>\n<span class=\"token comment\">// @author       Chris Frewin</span>\n<span class=\"token comment\">// @match        https://webide-[YOUR_USER_NAME_HERE]trial.dispatcher.hanatrial.ondemand.com</span>\n<span class=\"token comment\">// @grant        GM_getResourceText</span>\n<span class=\"token comment\">// @grant        GM_addStyle</span>\n<span class=\"token comment\">// @resource     customCSS https://raw.githubusercontent.com/ajaxorg/ace/master/lib/ace/theme/monokai.css</span>\n<span class=\"token comment\">// @require      http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js</span>\n<span class=\"token comment\">// @require      http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js</span>\n<span class=\"token comment\">// ==/UserScript==</span>\n\n<span class=\"token comment\">// *** NOTE: feel free to replace the 'customCSS' link above with any of the following ace themes found here: (make sure to select the raw version!)</span>\n<span class=\"token comment\">// https://github.com/ajaxorg/ace/tree/master/lib/ace/theme</span>\n\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> newCSS <span class=\"token operator\">=</span> <span class=\"token function\">GM_getResourceText</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"customCSS\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// monokai css for ace editor</span>\n    <span class=\"token function\">GM_addStyle</span> <span class=\"token punctuation\">(</span>newCSS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"added css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> editor <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#__editor0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// select editor ID</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// remove any of the default classes</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"removed default css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ace_editor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// add back in original class</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ace-monokai\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// monokai colors class!</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"added ace-monokai css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>","position":{"start":{"line":28,"column":1,"offset":1286},"end":{"line":57,"column":4,"offset":2758},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I would recommend you check out the newest version on GitHub: ","position":{"start":{"line":59,"column":1,"offset":2762},"end":{"line":59,"column":63,"offset":2824},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/sapwebidecolors","children":[{"type":"text","value":"https://github.com/frewinchristopher/sapwebidecolors","position":{"start":{"line":59,"column":64,"offset":2825},"end":{"line":59,"column":116,"offset":2877},"indent":[]}}],"position":{"start":{"line":59,"column":63,"offset":2824},"end":{"line":59,"column":171,"offset":2932},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":2762},"end":{"line":59,"column":171,"offset":2932},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":61,"column":1,"offset":2936},"end":{"line":61,"column":11,"offset":2946},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":2936},"end":{"line":61,"column":11,"offset":2946},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":62,"column":1,"offset":2948}}}},{"id":"transformer-remark-markdown-html-cd09cefe144d3b2d915e6c18172d0685-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>Dude, where‚Äôs my color scheme?!</h1>\n<p>At some point, <em>SAP took away my Monokai Color scheme from the SAPUI5 Web IDE!</em> That is unforgivable‚Ä¶</p>\n<p><img src=\"/unforgivable-595b9ad46814fa0343339c67fe02f92a.gif\" alt=\"Like I said, unforgivable.\"></p>\n<h2>Don‚Äôt worry - code to the rescue!</h2>\n<p>I wrote a small tampermonkey script that address this issue, and you can get your monokai colors back! <a href=\"https://github.com/ajaxorg/ace/tree/master/lib/ace/theme\">(See Ace‚Äôs GitHub for all possible themes.)</a></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-d437b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.99250936329588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB50lEQVQoz42SXWsTQRSG979oze7s7uzs19SNpK1aWvMHRMHeFrzQK0FEUEoupIpUU0HailjtlYh/QqQIImgh0iY2MTHJJtukjV/g1evsxBqDXfTi5SzszMMz5xwle2YWudv3MZ9fEVnG4oM1LCw9Qm7hHq7fuIO5+TzmbuaRu7X4X1FmrtxFvdlCM9pDp/ddJtr9hnCnh1KljqXlFaw+foKnz57j4eraP6Ocu3gNYa2EWjNCV8D2vv74nXeFTVi2Ds9TkT1lI5MxoGqHkVIPJUaZuXAV3cYHeflTuIN298sQ0PFMMG4hM8HBRx04LoXtmMnA07OXUCxt483bDay/eo3N4jZK5arMi5frsF0DhpkCYwSUqqCWCsvSRNVkJfrIUJSz5y+j1/6IYrU29Nw/Dak2giBNERzPiGrBdVVhmYLzK0Q/MjCUwKiGciNMBMYH40uuZwiYIXpqCqAOZhNpr4t/+72VwFbUQUE8tdHeTQZaOizugAemsPSQTvs4Griirwyca6K3ZACMV2SrUhUD+XwAkMqDuu9gcvokxscYpqZPwOf2wUOJgZWwhY3CltzBv4Bu35CJ9ZFmx3w55XgAGumHkMG3BNbbXbwvllEPO4mG1CKYEGZj2SmMT6Zhj1KwgMNnfdC+4U87GBduPa1pyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"What's this trickery?!?! Is that MONOKAI for SAP Web IDE?!\"\n        title=\"\"\n        src=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fb8a0.png\"\n        srcset=\"/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-1a291.png 148w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-2bc4a.png 295w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fb8a0.png 590w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-526de.png 885w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-fa2eb.png 1180w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-08f6a.png 1770w,\n/static/sapwebidecolors-e6d59dd4b3c1c3b91006bfdb294938f4-d437b.png 2136w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nWhat‚Äôs this trickery?!?! Is that the MONOKAI color scheme for SAP Web IDE?!</p>\n<p>This obviously requires that you have tampermonkey installed for your browser - check out the <a href=\"https://tampermonkey.net/\">tampermonkey website on how to install it</a>.</p>\n<p>Once you‚Äôve installed tampermonkey, just copy in and paste the script from below (or the <a href=\"https://github.com/frewinchristopher/sapwebidecolors\">GitHub</a> page) and all you should need to change is the <code>[YOUR_USER_NAME_HERE]</code> value in the <code>@match</code> variable. This username is your SAP ‚Äòs‚Äô username, an ‚Äòs‚Äô followed by 10 numbers, i.e. <code>S0123456789</code>.</p>\n<h2>TL;DR: Gimme Code!</h2>\n<p>The full code (as of January 11, 2018) is as follows:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-javascript\"><code><span class=\"token comment\">// ==UserScript==</span>\n<span class=\"token comment\">// @name         Monokai Web IDE colors</span>\n<span class=\"token comment\">// @namespace    http://tampermonkey.net/</span>\n<span class=\"token comment\">// @version      1.0</span>\n<span class=\"token comment\">// @description  Changes the Ace Shell CSS in SAP Web IDE from any defaults to Monokai.</span>\n<span class=\"token comment\">// @author       Chris Frewin</span>\n<span class=\"token comment\">// @match        https://webide-[YOUR_USER_NAME_HERE]trial.dispatcher.hanatrial.ondemand.com</span>\n<span class=\"token comment\">// @grant        GM_getResourceText</span>\n<span class=\"token comment\">// @grant        GM_addStyle</span>\n<span class=\"token comment\">// @resource     customCSS https://raw.githubusercontent.com/ajaxorg/ace/master/lib/ace/theme/monokai.css</span>\n<span class=\"token comment\">// @require      http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js</span>\n<span class=\"token comment\">// @require      http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js</span>\n<span class=\"token comment\">// ==/UserScript==</span>\n\n<span class=\"token comment\">// *** NOTE: feel free to replace the 'customCSS' link above with any of the following ace themes found here: (make sure to select the raw version!)</span>\n<span class=\"token comment\">// https://github.com/ajaxorg/ace/tree/master/lib/ace/theme</span>\n\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> newCSS <span class=\"token operator\">=</span> <span class=\"token function\">GM_getResourceText</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"customCSS\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// monokai css for ace editor</span>\n    <span class=\"token function\">GM_addStyle</span> <span class=\"token punctuation\">(</span>newCSS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"added css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> editor <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#__editor0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// select editor ID</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// remove any of the default classes</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"removed default css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ace_editor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// add back in original class</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>editor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ace-monokai\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// monokai colors class!</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"added ace-monokai css...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n      </div>\n<p>I would recommend you check out the newest version on GitHub: <a href=\"https://github.com/frewinchristopher/sapwebidecolors\">https://github.com/frewinchristopher/sapwebidecolors</a></p>\n<p>Cheers! üç∫</p>"},{"id":"transformer-remark-markdown-ast-ffd35947ebfe1aa0d2796b1f5575a14e-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: How to Create Posts That Reach the Top of the Front Page on Subreddits (And How I Created Two of Them for /r/wallstreetbets)\ndate: \"2018-04-08\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":175},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"The Posts","position":{"start":{"line":7,"column":3,"offset":181},"end":{"line":7,"column":12,"offset":190},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":179},"end":{"line":7,"column":12,"offset":190},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, here are the two meme posts, in all their glory, the first of which is a Robinhood (albeit grim) Parody:","position":{"start":{"line":9,"column":1,"offset":194},"end":{"line":9,"column":109,"offset":302},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":194},"end":{"line":9,"column":109,"offset":302},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"robinhood_parody.png","alt":"First post that made it to the front page.","position":{"start":{"line":11,"column":1,"offset":306},"end":{"line":11,"column":68,"offset":373},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2777b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 177.76666666666665%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAACZzAAAmcwHzbHUKAAACgklEQVRIx+2Wy08TURSH2w0LKi2lmxKJAn1YpC1t05el7fQ5bWc6nSlGSVB0686F7nRlYkIMFVQ0opHExIWJkKiRxAVoQBJYqXHjX+P9eeeCQq19ULuTSb7cc8+c+eaemZvJaKIrMz9Cr24T+4sbdcm9nSPp1xUiry6Qq59ekstrS0R694CMr8z8jiffPyb8m7tEY1mfJZa1WTTCul6B4+M87B/m2OjZXGA5i8reedveXDP0eZGI35dh+/IUNG4b/7fncH5dosKdhyS+/Qy2jfsY3pj/K0Ob9zC4Vf+8ytjWI3i3F6EZuX6JeDw+NGI0EsbJs3k0q3NnuA4L0/EjYT2hkoP91hW48skWhNemmwq9U+fgXa3AnYx1RuhJ5+BfvtNiy+eFpsJTShGuJzcx1kw4HqbCkdGGQmcohIEpCTY+AYuYbix0exoL1RUdn5bhCgb24hKcwWD7Qgd9CcOl7P5qwyGcmBTbFw7SvTdKJQdzavttC21031mF1P4KabsDF6R/e4aDEzkMXCwxkYorEGhfeFiOhNVEIlFkszmkUmnk8wIdMxDFIstxXPLwQr8/iFiMY+JwOMJGdR6NxhEKnWksDAR2N69aWC5PQJJkFIsSSiUFhYLIYllW6EoLNCcjk+HB8zlWp97A5/NXCzkuwVoRBJEVqxJBKLI2s4UCREWBUFYglsus/WQyzWp4Pk8fg8SuUfNut7eFlxKNwMNFd2n2gf1P96HDcZqoQSdwOt30Z2nISijoBFarHRqd7hjp6zOht9fIoHN0d+vaQq83QEMPQsEvzGYzDAYDDuaMRiP6+/urciqJRAJarfbPfLVQr9fXFHV1daGnp6dGaDKZanI/AdXHplW/glBkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First post that made it to the front page.\"\n        title=\"\"\n        src=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fb8a0.png\"\n        srcset=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-1a291.png 148w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2bc4a.png 295w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fb8a0.png 590w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-526de.png 885w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fa2eb.png 1180w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-08f6a.png 1770w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2777b.png 3000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":11,"column":1,"offset":306},"end":{"line":11,"column":68,"offset":373},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Reddit Response:","position":{"start":{"line":13,"column":1,"offset":377},"end":{"line":13,"column":17,"offset":393},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":377},"end":{"line":13,"column":17,"offset":393},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"deargod.png","alt":"First front page post response.","position":{"start":{"line":15,"column":1,"offset":397},"end":{"line":15,"column":48,"offset":444},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-5d35e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 15.590200445434299%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnklEQVQI142O6wrCMAyF9/4v5k9BnKC7dJe265ama0dB1B/HbL6AgUNCLidfoUqH66lDddYY7oR5CLCKpV6OrG4OuiHomuD6gOExQ5UTTOMxVoSpY9QXg1Hmr+cHRc4ZMUYQeRHBuyimK0zrMRsGc8C6xmOHmZFSQms39EuGMz2CD/KIYTsPJzCFSW85jELza1gx2jVWy0Gz97SQ/BtfWUvg+hq5rGwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First front page post response.\"\n        title=\"\"\n        src=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-fb8a0.png\"\n        srcset=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-1a291.png 148w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-2bc4a.png 295w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-fb8a0.png 590w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-526de.png 885w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-5d35e.png 898w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":15,"column":1,"offset":397},"end":{"line":15,"column":48,"offset":444},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The second of which (this one did even better than, launching to the top post in just 4 hours, the other one took about a full day)","position":{"start":{"line":17,"column":1,"offset":448},"end":{"line":17,"column":132,"offset":579},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":448},"end":{"line":17,"column":132,"offset":579},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"sandp_parody.png","alt":"Second post that made it to the front page.","position":{"start":{"line":19,"column":1,"offset":583},"end":{"line":19,"column":65,"offset":647},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-75ec9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABPNAAATzQFxESm3AAADGElEQVQozx2S229UVRTGT0gNRHwwxBcNhRgbNPHFKMYCZTr3M3PmduacmTntzLRTWortUErSVAxatF6wSpj40IvUWKG0KYjYG/LQTkkhE0O0ggZTbAlGaYwX3vwH9s+lDzvZWcn61nfTJk1HfW4k1YgroN50h9UJb0SV9vrUbJ1fjYZMdTrfpnr9cTURtVSbL6I6AjH1cTythjPN6lTYVIN6XI0Ihi17g96w0r4PxtRKdw9f7n6FoZf3MVxbz7I3wsP9fpZqPXyRbOSDF2tZbG5nLGxxJWyy4A4z39LBmaDJVxGbYbOBN6wmKskGpU25dHUxkaLk0nl75zOUdj3HyadrOLHtCUaff4Hu6h1kNm9mxWqgHEsxm84xqyf4JnuAhWCMy54w/f4oA4E446JIuxh31NW2IlNydaHOQ2bLFkrVO+nfvgND0+jctImigM/F0/+znUlkmDUd5tsPM+o1mE5luVCvcy6UYMxnKO1uIq3uFw6y4vLxXs0uBp7cjlX1CCEB++/Fq6oo7d7DlO1wQ+SORVNMCsByQ4GlqM2KHuOKP8a4YVMWb7VyKqsWWw4x6QvR+VQ15qNbcR7fhrn1MYo1z3ImnWcwU2C6q5uzSYc+X5QP9/mZz7ZSEda3DZPVQJRl+c8kxMN1w1RrQne953U22jr5p6uHvzu6uXf8LdY6j3Kz4whl8fjroz2MmCl6W7vocxtUfBFu1Pn5JZ7ivj/CNaeJ6x5J+Y7U5U59kFthAd3j4S95qzGbVVeQuzLfyB3gB5/B1JFejusWx3KvMhC2uWY3cknkzkhQ4wJ4NpbmZMRW2nXpUMVI8nMizT1ZvCk+VZxmPrVyzAmD32T+nUh67dBh3jVzjDgtlIXdn8Ls15f28lCCeSBJvy9HejOt0kO3rn5y68LQ5FbE4lu5+IlT4LSdpxgzOe+NMiG+TaabuCCBDMmhy9KI3wVk3RXgRzPDknjbL/O+QlFpDyTqPyyHRQGckzpMWI1My/K5hMNHktwxM8s7wmpRQhiVAg9JkT+rD7EhqtZCJrczeS5JD/uyBzmVb1f/Av7l6MlEogx4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Second post that made it to the front page.\"\n        title=\"\"\n        src=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fb8a0.png\"\n        srcset=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-1a291.png 148w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-2bc4a.png 295w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fb8a0.png 590w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-526de.png 885w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fa2eb.png 1180w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-08f6a.png 1770w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-75ec9.png 2000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":19,"column":1,"offset":583},"end":{"line":19,"column":65,"offset":647},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Reddit Response: ","position":{"start":{"line":21,"column":1,"offset":651},"end":{"line":21,"column":18,"offset":668},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"(update 2 hours later as of publishing time: still growing at 1500+, just published it today while I wrote this post)","position":{"start":{"line":21,"column":19,"offset":669},"end":{"line":21,"column":136,"offset":786},"indent":[]}}],"position":{"start":{"line":21,"column":18,"offset":668},"end":{"line":21,"column":137,"offset":787},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":651},"end":{"line":21,"column":137,"offset":787},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"rowrowrow.png","alt":"Second front page post response.","position":{"start":{"line":23,"column":1,"offset":791},"end":{"line":23,"column":51,"offset":841},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-59197.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.3265306122449%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjUlEQVQI142OwQ6CMBiDef9H8g3Ugzc0KAGHg7GN/TDmhcsnEB+AJk3TtEmbPW+a66kgPysuf9183wj13dDVgSo3tNXAEWQpJUIIeO9xzmG1YJTQFJZWObwbsL1DZNx74xSp+kRtE+ZTEsd5HR3WQY/vJjIlC2/73QsbX93MQ0eKNlKambyZ9lzScujhD2aE4sE+vjNMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Second front page post response.\"\n        title=\"\"\n        src=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-fb8a0.png\"\n        srcset=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-1a291.png 148w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-2bc4a.png 295w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-fb8a0.png 590w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-59197.png 882w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":23,"column":1,"offset":791},"end":{"line":23,"column":51,"offset":841},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that both of these posts play a bit into the current state of the market - trading mostly down the last few weeks. But I‚Äôd like to think the larger part of the popularity is the artwork.","position":{"start":{"line":25,"column":1,"offset":845},"end":{"line":25,"column":192,"offset":1036},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":845},"end":{"line":25,"column":192,"offset":1036},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"1. Ideas, Ideas, Ideas!","position":{"start":{"line":27,"column":3,"offset":1042},"end":{"line":27,"column":26,"offset":1065},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1040},"end":{"line":27,"column":26,"offset":1065},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want a post that does really well (like make front page well), it has to be very creative. Anything even slightly subpar in the creativity region, even if it is your own original content, will fail (trust me, I‚Äôve had my share of failed attempts). The problem with this is because the subreddit has seen dozens of others of very similar posts of whatever you think is a ‚Äúlittle bit‚Äù creative. Many members of the subreddit have posted ‚Äúsemi-creative‚Äù content before you, trust me. My tips for doing this are:","position":{"start":{"line":29,"column":1,"offset":1069},"end":{"line":29,"column":516,"offset":1584},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1069},"end":{"line":29,"column":516,"offset":1584},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"leverage your own skills - are you an expert in skills related to the subreddit, an artist, a programmer, are you a great organizer of content or ideas - do you have any skill that could be used in a helpful way by members of the subreddit?","position":{"start":{"line":31,"column":3,"offset":1590},"end":{"line":31,"column":243,"offset":1830},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":1590},"end":{"line":31,"column":243,"offset":1830},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1588},"end":{"line":31,"column":243,"offset":1830},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"spend a while on the subreddit, take notes of what posts do well (of the type of post you think you can make - info post) my two best have been on /r/wallstreetbets because I‚Äôve been getting into investing and the market a lot recently, and setting aside the jokes and memes (of which I am a prime contributor), I think there is a lot of correct information on the subreddit","position":{"start":{"line":32,"column":3,"offset":1834},"end":{"line":32,"column":377,"offset":2208},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":1834},"end":{"line":32,"column":377,"offset":2208},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1832},"end":{"line":32,"column":377,"offset":2208},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"get creative - can you combine some ideas that members of the subreddit won‚Äôt expect or will be funny, no matter what you do, I think the key point is to bring something new. Perhaps slightly with this idea is that a bonus point is if it is something - something completely new is almost always good, but a topic that has just happened recently or is relevant to current subreddit and hasn‚Äôt been discussed is a golden opportunity","position":{"start":{"line":33,"column":3,"offset":2212},"end":{"line":33,"column":433,"offset":2642},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":2212},"end":{"line":33,"column":433,"offset":2642},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2210},"end":{"line":33,"column":433,"offset":2642},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a good test is to check if your rushing about an idea - if you ","position":{"start":{"line":34,"column":3,"offset":2646},"end":{"line":34,"column":66,"offset":2709},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"are","position":{"start":{"line":34,"column":67,"offset":2710},"end":{"line":34,"column":70,"offset":2713},"indent":[]}}],"position":{"start":{"line":34,"column":66,"offset":2709},"end":{"line":34,"column":71,"offset":2714},"indent":[]}},{"type":"text","value":", I would guess it is likely an idea many other people are or have posted about. I realized I wasn‚Äôt rushing with creating my posts, because I knew they were so creative that nobody would come close to posting anything like it.","position":{"start":{"line":34,"column":71,"offset":2714},"end":{"line":34,"column":298,"offset":2941},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":2646},"end":{"line":34,"column":298,"offset":2941},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2644},"end":{"line":34,"column":298,"offset":2941},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1588},"end":{"line":34,"column":298,"offset":2941},"indent":[1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"2. Pick your Skill and Leverage It!","position":{"start":{"line":36,"column":3,"offset":2947},"end":{"line":36,"column":38,"offset":2982},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":2945},"end":{"line":36,"column":38,"offset":2982},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I selected my art and graphic design skills as my meme / post advantages. (You can examples of my previous digital (and hand made) artwork at (","position":{"start":{"line":38,"column":1,"offset":2986},"end":{"line":38,"column":144,"offset":3129},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrewin.design","children":[{"type":"text","value":"https://chrisfrewin.design","position":{"start":{"line":38,"column":144,"offset":3129},"end":{"line":38,"column":170,"offset":3155},"indent":[]}}],"position":{"start":{"line":38,"column":144,"offset":3129},"end":{"line":38,"column":170,"offset":3155},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":38,"column":170,"offset":3155},"end":{"line":38,"column":171,"offset":3156},"indent":[]}},{"type":"linkReference","identifier":"https://chrisfrewin.design","referenceType":"shortcut","children":[{"type":"text","value":"https://chrisfrewin.design","position":{"start":{"line":38,"column":172,"offset":3157},"end":{"line":38,"column":198,"offset":3183},"indent":[]}}],"position":{"start":{"line":38,"column":171,"offset":3156},"end":{"line":38,"column":199,"offset":3184},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":38,"column":199,"offset":3184},"end":{"line":38,"column":200,"offset":3185},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2986},"end":{"line":38,"column":200,"offset":3185},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The fun part for me was that these ‚Äòmemes‚Äô were just pieces of art I wanted to create anyway - the advantage is that they could of course be sweet, sweet karma generators.","position":{"start":{"line":40,"column":1,"offset":3189},"end":{"line":40,"column":172,"offset":3360},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3189},"end":{"line":40,"column":172,"offset":3360},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"3. Publish it! (and Post Title selection)","position":{"start":{"line":42,"column":3,"offset":3366},"end":{"line":42,"column":44,"offset":3407},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":3364},"end":{"line":42,"column":44,"offset":3407},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once you‚Äôre satisfied with your content your going to post (whatever it be video, blog post, image, text, whatever), its time to post! I‚Äôve found that despite what reddit recommends, as long as your title is somewhat creative, your super awesome creative post will do just fine. Also a note with post timing / and time of day of the post, I‚Äôve found it doesn‚Äôt really matter - I just post whenever my post is ready, I don‚Äôt do any special timings. That first one for example was posted late on a Friday evening, and the S&P Map on a  If it is truly a front page post, it will gain traction regardless - I suppose the posting time of day could control exactly ","position":{"start":{"line":44,"column":1,"offset":3411},"end":{"line":44,"column":660,"offset":4070},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"how","position":{"start":{"line":44,"column":661,"offset":4071},"end":{"line":44,"column":664,"offset":4074},"indent":[]}}],"position":{"start":{"line":44,"column":660,"offset":4070},"end":{"line":44,"column":665,"offset":4075},"indent":[]}},{"type":"text","value":" fast.","position":{"start":{"line":44,"column":665,"offset":4075},"end":{"line":44,"column":671,"offset":4081},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":3411},"end":{"line":44,"column":671,"offset":4081},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As a final check you can review your own confidence at posting time - if you find yourself not worried at all, it‚Äôs going to do fine. If it‚Äôs a winner, you‚Äôll know soon enough as you are bombarded with the replies to your post. I left my S&P meme for 4 hours and when I can back to check on reddit I was welcomed with over 1300 upvotes and 60+ post replies.","position":{"start":{"line":46,"column":1,"offset":4085},"end":{"line":46,"column":358,"offset":4442},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":4085},"end":{"line":46,"column":358,"offset":4442},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If there is interest, I can go through my process of the technical graphic design portion of how I built these posts (I use Gimp and Inkscape - yes I‚Äôm a cheapass nerd who uses open source graphic design software ü§ì)","position":{"start":{"line":48,"column":1,"offset":4446},"end":{"line":48,"column":217,"offset":4662},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":4446},"end":{"line":48,"column":217,"offset":4662},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Hope you enjoyed and picked up a tip or two and got a laugh out of the memes!","position":{"start":{"line":50,"column":1,"offset":4666},"end":{"line":50,"column":78,"offset":4743},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":4666},"end":{"line":50,"column":78,"offset":4743},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"-Cheers! üç∫","position":{"start":{"line":52,"column":1,"offset":4747},"end":{"line":52,"column":12,"offset":4758},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":4747},"end":{"line":52,"column":12,"offset":4758},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":53,"column":1,"offset":4760}}}},{"id":"transformer-remark-markdown-html-ffd35947ebfe1aa0d2796b1f5575a14e-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h1>The Posts</h1>\n<p>So, here are the two meme posts, in all their glory, the first of which is a Robinhood (albeit grim) Parody:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2777b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 177.76666666666665%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAACZzAAAmcwHzbHUKAAACgklEQVRIx+2Wy08TURSH2w0LKi2lmxKJAn1YpC1t05el7fQ5bWc6nSlGSVB0686F7nRlYkIMFVQ0opHExIWJkKiRxAVoQBJYqXHjX+P9eeeCQq19ULuTSb7cc8+c+eaemZvJaKIrMz9Cr24T+4sbdcm9nSPp1xUiry6Qq59ekstrS0R694CMr8z8jiffPyb8m7tEY1mfJZa1WTTCul6B4+M87B/m2OjZXGA5i8reedveXDP0eZGI35dh+/IUNG4b/7fncH5dosKdhyS+/Qy2jfsY3pj/K0Ob9zC4Vf+8ytjWI3i3F6EZuX6JeDw+NGI0EsbJs3k0q3NnuA4L0/EjYT2hkoP91hW48skWhNemmwq9U+fgXa3AnYx1RuhJ5+BfvtNiy+eFpsJTShGuJzcx1kw4HqbCkdGGQmcohIEpCTY+AYuYbix0exoL1RUdn5bhCgb24hKcwWD7Qgd9CcOl7P5qwyGcmBTbFw7SvTdKJQdzavttC21031mF1P4KabsDF6R/e4aDEzkMXCwxkYorEGhfeFiOhNVEIlFkszmkUmnk8wIdMxDFIstxXPLwQr8/iFiMY+JwOMJGdR6NxhEKnWksDAR2N69aWC5PQJJkFIsSSiUFhYLIYllW6EoLNCcjk+HB8zlWp97A5/NXCzkuwVoRBJEVqxJBKLI2s4UCREWBUFYglsus/WQyzWp4Pk8fg8SuUfNut7eFlxKNwMNFd2n2gf1P96HDcZqoQSdwOt30Z2nISijoBFarHRqd7hjp6zOht9fIoHN0d+vaQq83QEMPQsEvzGYzDAYDDuaMRiP6+/urciqJRAJarfbPfLVQr9fXFHV1daGnp6dGaDKZanI/AdXHplW/glBkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First post that made it to the front page.\"\n        title=\"\"\n        src=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fb8a0.png\"\n        srcset=\"/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-1a291.png 148w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2bc4a.png 295w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fb8a0.png 590w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-526de.png 885w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-fa2eb.png 1180w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-08f6a.png 1770w,\n/static/robinhood_parody-8828d8b0302e0f37976816b6ae0b941f-2777b.png 3000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Reddit Response:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-5d35e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 15.590200445434299%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnklEQVQI142O6wrCMAyF9/4v5k9BnKC7dJe265ama0dB1B/HbL6AgUNCLidfoUqH66lDddYY7oR5CLCKpV6OrG4OuiHomuD6gOExQ5UTTOMxVoSpY9QXg1Hmr+cHRc4ZMUYQeRHBuyimK0zrMRsGc8C6xmOHmZFSQms39EuGMz2CD/KIYTsPJzCFSW85jELza1gx2jVWy0Gz97SQ/BtfWUvg+hq5rGwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First front page post response.\"\n        title=\"\"\n        src=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-fb8a0.png\"\n        srcset=\"/static/deargod-3933adf9db8b9e158d0112ac677b67e1-1a291.png 148w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-2bc4a.png 295w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-fb8a0.png 590w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-526de.png 885w,\n/static/deargod-3933adf9db8b9e158d0112ac677b67e1-5d35e.png 898w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>The second of which (this one did even better than, launching to the top post in just 4 hours, the other one took about a full day)</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-75ec9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABPNAAATzQFxESm3AAADGElEQVQozx2S229UVRTGT0gNRHwwxBcNhRgbNPHFKMYCZTr3M3PmduacmTntzLRTWortUErSVAxatF6wSpj40IvUWKG0KYjYG/LQTkkhE0O0ggZTbAlGaYwX3vwH9s+lDzvZWcn61nfTJk1HfW4k1YgroN50h9UJb0SV9vrUbJ1fjYZMdTrfpnr9cTURtVSbL6I6AjH1cTythjPN6lTYVIN6XI0Ihi17g96w0r4PxtRKdw9f7n6FoZf3MVxbz7I3wsP9fpZqPXyRbOSDF2tZbG5nLGxxJWyy4A4z39LBmaDJVxGbYbOBN6wmKskGpU25dHUxkaLk0nl75zOUdj3HyadrOLHtCUaff4Hu6h1kNm9mxWqgHEsxm84xqyf4JnuAhWCMy54w/f4oA4E446JIuxh31NW2IlNydaHOQ2bLFkrVO+nfvgND0+jctImigM/F0/+znUlkmDUd5tsPM+o1mE5luVCvcy6UYMxnKO1uIq3uFw6y4vLxXs0uBp7cjlX1CCEB++/Fq6oo7d7DlO1wQ+SORVNMCsByQ4GlqM2KHuOKP8a4YVMWb7VyKqsWWw4x6QvR+VQ15qNbcR7fhrn1MYo1z3ImnWcwU2C6q5uzSYc+X5QP9/mZz7ZSEda3DZPVQJRl+c8kxMN1w1RrQne953U22jr5p6uHvzu6uXf8LdY6j3Kz4whl8fjroz2MmCl6W7vocxtUfBFu1Pn5JZ7ivj/CNaeJ6x5J+Y7U5U59kFthAd3j4S95qzGbVVeQuzLfyB3gB5/B1JFejusWx3KvMhC2uWY3cknkzkhQ4wJ4NpbmZMRW2nXpUMVI8nMizT1ZvCk+VZxmPrVyzAmD32T+nUh67dBh3jVzjDgtlIXdn8Ls15f28lCCeSBJvy9HejOt0kO3rn5y68LQ5FbE4lu5+IlT4LSdpxgzOe+NMiG+TaabuCCBDMmhy9KI3wVk3RXgRzPDknjbL/O+QlFpDyTqPyyHRQGckzpMWI1My/K5hMNHktwxM8s7wmpRQhiVAg9JkT+rD7EhqtZCJrczeS5JD/uyBzmVb1f/Av7l6MlEogx4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Second post that made it to the front page.\"\n        title=\"\"\n        src=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fb8a0.png\"\n        srcset=\"/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-1a291.png 148w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-2bc4a.png 295w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fb8a0.png 590w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-526de.png 885w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-fa2eb.png 1180w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-08f6a.png 1770w,\n/static/sandp_parody-5d1ebf59183e0c1cadd871b444395d20-75ec9.png 2000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Reddit Response: <em>(update 2 hours later as of publishing time: still growing at 1500+, just published it today while I wrote this post)</em></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-59197.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.3265306122449%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjUlEQVQI142OwQ6CMBiDef9H8g3Ugzc0KAGHg7GN/TDmhcsnEB+AJk3TtEmbPW+a66kgPysuf9183wj13dDVgSo3tNXAEWQpJUIIeO9xzmG1YJTQFJZWObwbsL1DZNx74xSp+kRtE+ZTEsd5HR3WQY/vJjIlC2/73QsbX93MQ0eKNlKambyZ9lzScujhD2aE4sE+vjNMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Second front page post response.\"\n        title=\"\"\n        src=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-fb8a0.png\"\n        srcset=\"/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-1a291.png 148w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-2bc4a.png 295w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-fb8a0.png 590w,\n/static/rowrowrow-7b4363b453fae0b4af4b6a27609b03d9-59197.png 882w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Note that both of these posts play a bit into the current state of the market - trading mostly down the last few weeks. But I‚Äôd like to think the larger part of the popularity is the artwork.</p>\n<h1>1. Ideas, Ideas, Ideas!</h1>\n<p>If you want a post that does really well (like make front page well), it has to be very creative. Anything even slightly subpar in the creativity region, even if it is your own original content, will fail (trust me, I‚Äôve had my share of failed attempts). The problem with this is because the subreddit has seen dozens of others of very similar posts of whatever you think is a ‚Äúlittle bit‚Äù creative. Many members of the subreddit have posted ‚Äúsemi-creative‚Äù content before you, trust me. My tips for doing this are:</p>\n<ul>\n<li>leverage your own skills - are you an expert in skills related to the subreddit, an artist, a programmer, are you a great organizer of content or ideas - do you have any skill that could be used in a helpful way by members of the subreddit?</li>\n<li>spend a while on the subreddit, take notes of what posts do well (of the type of post you think you can make - info post) my two best have been on /r/wallstreetbets because I‚Äôve been getting into investing and the market a lot recently, and setting aside the jokes and memes (of which I am a prime contributor), I think there is a lot of correct information on the subreddit</li>\n<li>get creative - can you combine some ideas that members of the subreddit won‚Äôt expect or will be funny, no matter what you do, I think the key point is to bring something new. Perhaps slightly with this idea is that a bonus point is if it is something - something completely new is almost always good, but a topic that has just happened recently or is relevant to current subreddit and hasn‚Äôt been discussed is a golden opportunity</li>\n<li>a good test is to check if your rushing about an idea - if you <em>are</em>, I would guess it is likely an idea many other people are or have posted about. I realized I wasn‚Äôt rushing with creating my posts, because I knew they were so creative that nobody would come close to posting anything like it.</li>\n</ul>\n<h1>2. Pick your Skill and Leverage It!</h1>\n<p>I selected my art and graphic design skills as my meme / post advantages. (You can examples of my previous digital (and hand made) artwork at (<a href=\"https://chrisfrewin.design\">https://chrisfrewin.design</a>)[https://chrisfrewin.design])</p>\n<p>The fun part for me was that these ‚Äòmemes‚Äô were just pieces of art I wanted to create anyway - the advantage is that they could of course be sweet, sweet karma generators.</p>\n<h1>3. Publish it! (and Post Title selection)</h1>\n<p>Once you‚Äôre satisfied with your content your going to post (whatever it be video, blog post, image, text, whatever), its time to post! I‚Äôve found that despite what reddit recommends, as long as your title is somewhat creative, your super awesome creative post will do just fine. Also a note with post timing / and time of day of the post, I‚Äôve found it doesn‚Äôt really matter - I just post whenever my post is ready, I don‚Äôt do any special timings. That first one for example was posted late on a Friday evening, and the S&#x26;P Map on a  If it is truly a front page post, it will gain traction regardless - I suppose the posting time of day could control exactly <em>how</em> fast.</p>\n<p>As a final check you can review your own confidence at posting time - if you find yourself not worried at all, it‚Äôs going to do fine. If it‚Äôs a winner, you‚Äôll know soon enough as you are bombarded with the replies to your post. I left my S&#x26;P meme for 4 hours and when I can back to check on reddit I was welcomed with over 1300 upvotes and 60+ post replies.</p>\n<p>If there is interest, I can go through my process of the technical graphic design portion of how I built these posts (I use Gimp and Inkscape - yes I‚Äôm a cheapass nerd who uses open source graphic design software ü§ì)</p>\n<p>Hope you enjoyed and picked up a tip or two and got a laugh out of the memes!</p>\n<p>-Cheers! üç∫</p>"},{"id":"transformer-remark-markdown-ast-84470d87b9e5eb34a58ba6cf158bd441-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Warn SAP Users of Locked Objects Then Kill Their Session\ndate: \"2018-05-09\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":107},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"SAP users lockin‚Äô up your objects?","position":{"start":{"line":7,"column":4,"offset":114},"end":{"line":7,"column":38,"offset":148},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":111},"end":{"line":7,"column":38,"offset":148},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"We‚Äôre gonna write an ABAP report and run it as a batch job to ü§ñ ","position":{"start":{"line":8,"column":5,"offset":154},"end":{"line":8,"column":70,"offset":219},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"Automatically","position":{"start":{"line":8,"column":71,"offset":220},"end":{"line":8,"column":84,"offset":233},"indent":[]}}],"position":{"start":{"line":8,"column":70,"offset":219},"end":{"line":8,"column":85,"offset":234},"indent":[]}},{"type":"text","value":" ü§ñ get rid of them!","position":{"start":{"line":8,"column":85,"offset":234},"end":{"line":8,"column":105,"offset":254},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":150},"end":{"line":8,"column":105,"offset":254},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Overview","position":{"start":{"line":10,"column":4,"offset":261},"end":{"line":10,"column":12,"offset":269},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":258},"end":{"line":10,"column":12,"offset":269},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Alright everyone, we‚Äôre gonna walk through a fun ABAP report that involves functional programming, some challenging and creative BDC techniques, and a ","position":{"start":{"line":12,"column":1,"offset":273},"end":{"line":12,"column":152,"offset":424},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"‚Äòforbidden‚Äô SAP Kernel Call!!!","position":{"start":{"line":12,"column":153,"offset":425},"end":{"line":12,"column":183,"offset":455},"indent":[]}}],"position":{"start":{"line":12,"column":152,"offset":424},"end":{"line":12,"column":184,"offset":456},"indent":[]}},{"type":"text","value":" üò± üò± üò±","position":{"start":{"line":12,"column":184,"offset":456},"end":{"line":12,"column":193,"offset":465},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":273},"end":{"line":12,"column":193,"offset":465},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"SAP and it‚Äôs Locked Objects","position":{"start":{"line":14,"column":4,"offset":472},"end":{"line":14,"column":31,"offset":499},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":469},"end":{"line":14,"column":31,"offset":499},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Anyone with a bit of technical sided SAP/ABAP experience knows that SAP has a locked object system - that is, a maximum of one entity can change an object at a time, wether it be a human user, a program, or any process. These ‚Äòobjects‚Äô in SAP are numerous - orders, HUs, even warehouse bins are ‚Äòobjects‚Äô that can be ‚Äòlocked‚Äô when they are under modification somewhere in the system.","position":{"start":{"line":16,"column":1,"offset":503},"end":{"line":16,"column":384,"offset":886},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":503},"end":{"line":16,"column":384,"offset":886},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This can get very annoying when multiple entities want to change multiple objects in similar time frames.","position":{"start":{"line":18,"column":1,"offset":890},"end":{"line":18,"column":106,"offset":995},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":890},"end":{"line":18,"column":106,"offset":995},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"A Remedy for the Problem","position":{"start":{"line":20,"column":4,"offset":1002},"end":{"line":20,"column":28,"offset":1026},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":999},"end":{"line":20,"column":28,"offset":1026},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ABAP report I‚Äôm going to go through alleviates this problem and could be useful for any company that has automatic processes applied to objects in the system, but at the same time have human users that ","position":{"start":{"line":22,"column":1,"offset":1030},"end":{"line":22,"column":207,"offset":1236},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"also","position":{"start":{"line":22,"column":208,"offset":1237},"end":{"line":22,"column":212,"offset":1241},"indent":[]}}],"position":{"start":{"line":22,"column":207,"offset":1236},"end":{"line":22,"column":213,"offset":1242},"indent":[]}},{"type":"text","value":" modify these objects.","position":{"start":{"line":22,"column":213,"offset":1242},"end":{"line":22,"column":235,"offset":1264},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1030},"end":{"line":22,"column":235,"offset":1264},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The example program I will go through is for orders specifically (think TYPE AUFNR). Feel free to modify the code for any locked objects of your liking üòä - the program logic following the locked object selection will not change, as we will soon see.","position":{"start":{"line":24,"column":1,"offset":1268},"end":{"line":24,"column":251,"offset":1518},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1268},"end":{"line":24,"column":251,"offset":1518},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Specific Problem","position":{"start":{"line":26,"column":4,"offset":1525},"end":{"line":26,"column":20,"offset":1541},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1522},"end":{"line":26,"column":20,"offset":1541},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At my company we had some batch jobs that were attempting to change orders, only to find that the users were locked by some of our employees in their own SAP GUI transactions. Nothing ‚Äòbad‚Äô per say was happening, we were just seeing in the protocol of those various batch jobs that the orders couldn‚Äôt be accessed. We realized a human user could easily forget they had a transaction open which locked an order, while they went off to work on something else, or were totally away from their work station.","position":{"start":{"line":28,"column":1,"offset":1545},"end":{"line":28,"column":504,"offset":2048},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1545},"end":{"line":28,"column":504,"offset":2048},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We decided ultimately to build a timed warning system for users that happened to be locking orders, functioning as follows:","position":{"start":{"line":30,"column":1,"offset":2052},"end":{"line":30,"column":124,"offset":2175},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2052},"end":{"line":30,"column":124,"offset":2175},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A warning popup for the user at 5 minutes of lock time","position":{"start":{"line":32,"column":4,"offset":2182},"end":{"line":32,"column":58,"offset":2236},"indent":[]}}],"position":{"start":{"line":32,"column":4,"offset":2182},"end":{"line":32,"column":58,"offset":2236},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2179},"end":{"line":32,"column":58,"offset":2236},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A second warning popup for the user warning at 10 minutes of lock time","position":{"start":{"line":33,"column":4,"offset":2241},"end":{"line":33,"column":74,"offset":2311},"indent":[]}}],"position":{"start":{"line":33,"column":4,"offset":2241},"end":{"line":33,"column":74,"offset":2311},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2238},"end":{"line":33,"column":74,"offset":2311},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Forcefully close the transaction that was locking the order at 15 minutes of lock time","position":{"start":{"line":34,"column":4,"offset":2316},"end":{"line":34,"column":90,"offset":2402},"indent":[]}}],"position":{"start":{"line":34,"column":4,"offset":2316},"end":{"line":34,"column":90,"offset":2402},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2313},"end":{"line":34,"column":90,"offset":2402},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2179},"end":{"line":34,"column":90,"offset":2402},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And yes, this can all be done from an automatic process with no overseeing required! üòä","position":{"start":{"line":36,"column":1,"offset":2406},"end":{"line":36,"column":88,"offset":2493},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":2406},"end":{"line":36,"column":88,"offset":2493},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs get started!","position":{"start":{"line":38,"column":1,"offset":2497},"end":{"line":38,"column":19,"offset":2515},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2497},"end":{"line":38,"column":19,"offset":2515},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Identify Locked Objects","position":{"start":{"line":40,"column":4,"offset":2522},"end":{"line":40,"column":27,"offset":2545},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":2519},"end":{"line":40,"column":27,"offset":2545},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The first thing we need to do is get the locked objects and times of all those locked objects across the whole system. As I said, for this example case, we are only interested in locked ","position":{"start":{"line":42,"column":1,"offset":2549},"end":{"line":42,"column":187,"offset":2735},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"orders","position":{"start":{"line":42,"column":188,"offset":2736},"end":{"line":42,"column":194,"offset":2742},"indent":[]}}],"position":{"start":{"line":42,"column":187,"offset":2735},"end":{"line":42,"column":195,"offset":2743},"indent":[]}},{"type":"text","value":". This is object type ","position":{"start":{"line":42,"column":195,"offset":2743},"end":{"line":42,"column":217,"offset":2765},"indent":[]}},{"type":"inlineCode","value":"AUFK","position":{"start":{"line":42,"column":217,"offset":2765},"end":{"line":42,"column":223,"offset":2771},"indent":[]}},{"type":"text","value":" - the order head table. To get a list of all locked object across the system with this type, we can use function module ","position":{"start":{"line":42,"column":223,"offset":2771},"end":{"line":42,"column":344,"offset":2892},"indent":[]}},{"type":"inlineCode","value":"ENQUEUE_READ","position":{"start":{"line":42,"column":344,"offset":2892},"end":{"line":42,"column":358,"offset":2906},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2549},"end":{"line":42,"column":358,"offset":2906},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" Get all AUFK table locks</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'ENQUEUE_READ'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    gname                 <span class=\"token operator\">=</span> <span class=\"token string\">'AUFK'</span>\n    guname                <span class=\"token operator\">=</span> <span class=\"token string\">'*'</span>              <span class=\"token eol-comment comment\">\" Users (all)</span>\n  <span class=\"token keyword\">TABLES</span>\n    enq                   <span class=\"token operator\">=</span> gt_enq\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">OTHERS</span>                <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":44,"column":1,"offset":2910},"end":{"line":56,"column":4,"offset":3243},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"So, by now we have our table of objects, and the users who are locking them. We will also need all the sessions open across the system. We can get that with the nice SAP Standard class ","position":{"start":{"line":58,"column":1,"offset":3247},"end":{"line":58,"column":186,"offset":3432},"indent":[]}},{"type":"inlineCode","value":"cl_server_info","position":{"start":{"line":58,"column":186,"offset":3432},"end":{"line":58,"column":202,"offset":3448},"indent":[]}},{"type":"text","value":" (pretty obvious name, eh? üòÇ). ","position":{"start":{"line":58,"column":202,"offset":3448},"end":{"line":58,"column":234,"offset":3480},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":3247},"end":{"line":58,"column":234,"offset":3480},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" Get all user sessions</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> server_info<span class=\"token punctuation\">.</span>\ngt_session_list <span class=\"token operator\">=</span> server_info<span class=\"token token-operator punctuation\">-></span>get_session_list<span class=\"token punctuation\">(</span> with_application_info <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":60,"column":1,"offset":3484},"end":{"line":64,"column":4,"offset":3628},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"However, we can‚Äôt just kill all of a user‚Äôs sessions - we only want to shut down (indeed, this is bad luck for the user that has only one SAP application window open that is blocking an order, but hey, they get two warnings before we shut them down)","position":{"start":{"line":66,"column":1,"offset":3632},"end":{"line":66,"column":250,"offset":3881},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3632},"end":{"line":66,"column":250,"offset":3881},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The ‚ÄòForbidden‚Äô Kernel Call","position":{"start":{"line":68,"column":4,"offset":3888},"end":{"line":68,"column":31,"offset":3915},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3885},"end":{"line":68,"column":31,"offset":3915},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get the fidelity needed to find exactly which index of SAP application window, we‚Äôre gonna have go down the system rabbithole and use a f (remember, it is always 1-7 ‚Äî> the classic SAP limit of 7 open windows per client)","position":{"start":{"line":70,"column":1,"offset":3919},"end":{"line":70,"column":225,"offset":4143},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3919},"end":{"line":70,"column":225,"offset":4143},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":72,"column":1,"offset":4147},"end":{"line":77,"column":4,"offset":4358},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"What this kernel call retrieves and puts in table ","position":{"start":{"line":79,"column":1,"offset":4362},"end":{"line":79,"column":51,"offset":4412},"indent":[]}},{"type":"inlineCode","value":"gt_user_info","position":{"start":{"line":79,"column":51,"offset":4412},"end":{"line":79,"column":65,"offset":4426},"indent":[]}},{"type":"text","value":" can be also found be found through the standard SAP GUI in transaction ","position":{"start":{"line":79,"column":65,"offset":4426},"end":{"line":79,"column":137,"offset":4498},"indent":[]}},{"type":"inlineCode","value":"SM04","position":{"start":{"line":79,"column":137,"offset":4498},"end":{"line":79,"column":143,"offset":4504},"indent":[]}},{"type":"text","value":" by selecting a session and going to the top menu bar and selecting User->Technical Information):","position":{"start":{"line":79,"column":143,"offset":4504},"end":{"line":79,"column":240,"offset":4601},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":4362},"end":{"line":79,"column":240,"offset":4601},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"technical-information.png","alt":"How to navigate to technical information in SAP GUI transaction SM04","position":{"start":{"line":81,"column":1,"offset":4605},"end":{"line":81,"column":99,"offset":4703},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 234px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.52991452991454%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACSElEQVQ4y62T228SQRTG+TtNfKiXR5/1Rft/GNPSlybWxKhNTKy9AL2xIIW2XARKgV0KdKHALnthF3Z/DlPbtEn1wTjJlzkz3znfmTNnJjKuN7BU9b8hMnVcKkmFi2IJvXpOq1CiU6ow0lpY/T66SOiODKa2w1jXuVI1XMOEmY95qTNsd5lNPKxen2GrRSQIAoxej5Egc1sxvq6+J5dIYrY76JpKs1TCn0zwHJuLaoVGoYgztpiPZj6P3mpLu6c20Mrl+Qkdkd3GHY7whKNrmtjSHot5iNG/whoa+JaNNRjI5O5oJPd7Iqkt9rpqC8cwZHyEWYDn2eydrslMnu+xv7fP9tY36udVvm/GaOs9yRkiKJVS+JFJc3R8TCweI51OoWoa80rnIxKGodAM6XTy0FliqkUxq28J2ytM1WVmrShecwmn/k5wy8JnRc7BRRSEz9yPO5Ale4YoVVfh7CXh2SKN+As2oo9IfnzK7ocF0p+ecbz+XKyfEF99zI5AYm0B8+QV1BdFzGuovZGQTdGzeQbispnUmBo/MbtZcGuEdlWCv+CGD8ZlaUtBLaHQTWWv71A8gUIhz/b2Jqcnebk39xE38+AIfxPNZhNdPCspqMYO6SrZ2+BrgRBLdNoUXZ/Ngtvg8A+CNzGRUBi9XJHLk7IkpqLLGeWQRGKXynmNxE6cvd04qaMMtjO5J/LgCeeCl9kipwd5KTYRP8ITv+dfcd2UXIFBsSozuaLrW5sbJFPpe6XcPY3nWKQzGT6vf0FJHpBU0vi+L7lfkFnBCRvEn1AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"How to navigate to technical information in SAP GUI transaction SM04\"\n        title=\"\"\n        src=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png\"\n        srcset=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-04291.png 148w,\n/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png 234w\"\n        sizes=\"(max-width: 234px) 100vw, 234px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":81,"column":1,"offset":4605},"end":{"line":81,"column":99,"offset":4703},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You will see a giant list of multiple fields for each session number (0-6) that the user has open. So, what can we do with this giant technical information list of key value pairs? ","position":{"start":{"line":83,"column":1,"offset":4707},"end":{"line":83,"column":182,"offset":4888},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":4707},"end":{"line":83,"column":182,"offset":4888},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In SAP, this works as follows: each ","position":{"start":{"line":85,"column":1,"offset":4892},"end":{"line":85,"column":37,"offset":4928},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"login","position":{"start":{"line":85,"column":38,"offset":4929},"end":{"line":85,"column":43,"offset":4934},"indent":[]}}],"position":{"start":{"line":85,"column":37,"offset":4928},"end":{"line":85,"column":44,"offset":4935},"indent":[]}},{"type":"text","value":" by a user (not session number, we‚Äôre not there yet üòÑ)  is assigned a unique login ID which is generated based on things you log in with: the client number, system, and language. This session ID has the form of ","position":{"start":{"line":85,"column":44,"offset":4935},"end":{"line":85,"column":256,"offset":5147},"indent":[]}},{"type":"inlineCode","value":"TXX_UXXXXX","position":{"start":{"line":85,"column":256,"offset":5147},"end":{"line":85,"column":268,"offset":5159},"indent":[]}},{"type":"text","value":", where ","position":{"start":{"line":85,"column":268,"offset":5159},"end":{"line":85,"column":276,"offset":5167},"indent":[]}},{"type":"inlineCode","value":"X","position":{"start":{"line":85,"column":276,"offset":5167},"end":{"line":85,"column":279,"offset":5170},"indent":[]}},{"type":"text","value":" can be any number 0-9. ","position":{"start":{"line":85,"column":279,"offset":5170},"end":{"line":85,"column":303,"offset":5194},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":4892},"end":{"line":85,"column":303,"offset":5194},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Each session then has a session ID which is comprised of first the login ID as described above, with an appended ","position":{"start":{"line":87,"column":1,"offset":5198},"end":{"line":87,"column":114,"offset":5311},"indent":[]}},{"type":"inlineCode","value":"_MX","position":{"start":{"line":87,"column":114,"offset":5311},"end":{"line":87,"column":119,"offset":5316},"indent":[]}},{"type":"text","value":", where ","position":{"start":{"line":87,"column":119,"offset":5316},"end":{"line":87,"column":127,"offset":5324},"indent":[]}},{"type":"inlineCode","value":"X","position":{"start":{"line":87,"column":127,"offset":5324},"end":{"line":87,"column":130,"offset":5327},"indent":[]}},{"type":"text","value":" in this case is the session number, 0-6 (session 1-7). So, we are interested in the ","position":{"start":{"line":87,"column":130,"offset":5327},"end":{"line":87,"column":215,"offset":5412},"indent":[]}},{"type":"inlineCode","value":".session","position":{"start":{"line":87,"column":215,"offset":5412},"end":{"line":87,"column":225,"offset":5422},"indent":[]}},{"type":"text","value":" value of this technical list:","position":{"start":{"line":87,"column":225,"offset":5422},"end":{"line":87,"column":255,"offset":5452},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":5198},"end":{"line":87,"column":255,"offset":5452},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"session-id.png","alt":"Session ID in the technical information.","position":{"start":{"line":89,"column":1,"offset":5456},"end":{"line":89,"column":60,"offset":5515},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-5ec0d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.265646731571628%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAYElEQVQI12O4umTu/wuzJ/+/OGfK/+frFv3/tnMtGN/ZvfL//ZNb/z87v+v/l3uH/3+9f4QozHBz/qr/l6ct/H9j5tL/V4D08yWb/n9bu/f/22PH/3++dQWMv96+SjQGANqBiivK4jA7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Session ID in the technical information.\"\n        title=\"\"\n        src=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-fb8a0.png\"\n        srcset=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-1a291.png 148w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-2bc4a.png 295w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-fb8a0.png 590w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-5ec0d.png 719w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":89,"column":1,"offset":5456},"end":{"line":89,"column":60,"offset":5515},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can notice then that session 2 would have ","position":{"start":{"line":91,"column":1,"offset":5519},"end":{"line":91,"column":47,"offset":5565},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":5519},"end":{"line":91,"column":47,"offset":5565},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"modeinfo[1].session = T23_U31974_M1","position":{"start":{"line":93,"column":1,"offset":5569},"end":{"line":93,"column":38,"offset":5606},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":93,"column":38,"offset":5606},"end":{"line":93,"column":39,"offset":5607},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":5569},"end":{"line":93,"column":39,"offset":5607},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"session 3 would have","position":{"start":{"line":95,"column":1,"offset":5611},"end":{"line":95,"column":21,"offset":5631},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":5611},"end":{"line":95,"column":21,"offset":5631},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"modeinfo[2].session = T23_U31974_M2","position":{"start":{"line":97,"column":1,"offset":5635},"end":{"line":97,"column":38,"offset":5672},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":97,"column":38,"offset":5672},"end":{"line":97,"column":39,"offset":5673},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":5635},"end":{"line":97,"column":39,"offset":5673},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"and so on, all the way up to session 7 - or index 6. We will see in the code that I leverage this pattern. The only way to find the true session that is blocking the order is to first guess the logon instance for the user (in the case for example that htey have logged on with multiple languages), then you can back out all the session ID‚Äôs until you get a match of the ","position":{"start":{"line":99,"column":1,"offset":5677},"end":{"line":99,"column":371,"offset":6047},"indent":[]}},{"type":"inlineCode","value":"session_hdl","position":{"start":{"line":99,"column":371,"offset":6047},"end":{"line":99,"column":384,"offset":6060},"indent":[]}},{"type":"text","value":" from the returned list of ","position":{"start":{"line":99,"column":384,"offset":6060},"end":{"line":99,"column":411,"offset":6087},"indent":[]}},{"type":"inlineCode","value":"gt_sessions_list","position":{"start":{"line":99,"column":411,"offset":6087},"end":{"line":99,"column":429,"offset":6105},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":99,"column":429,"offset":6105},"end":{"line":99,"column":430,"offset":6106},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":5677},"end":{"line":99,"column":430,"offset":6106},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CLEAR</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_session_list <span class=\"token keyword\">INTO</span> gs_session_list <span class=\"token keyword\">WHERE</span> tenant <span class=\"token keyword\">EQ</span> sy<span class=\"token token-operator punctuation\">-</span>mandt<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions to build a list of just the user sessions</span>\n\n  <span class=\"token eol-comment comment\">\" if a user is not in the given so, we continue (that means with exclude users, they are skipped, those with equals and all others keep going)</span>\n  <span class=\"token keyword\">IF</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">IN</span> so_bname<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  gv_user_name   <span class=\"token operator\">=</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Only add to list if user is current lock user - also get the session id for this user</span>\n  <span class=\"token keyword\">IF</span> gv_user_name <span class=\"token keyword\">EQ</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gv_modus_index<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gs_usr_info<span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" get detailed technical info for this user to find which specific session to close</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONCATENATE</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gusrvb <span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">INTO</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" We need to use the </span><span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">in</span> the technical info <span class=\"token keyword\">to</span> <span class=\"token keyword\">get</span> the <span class=\"token keyword\">exact</span> session <span class=\"token keyword\">assigned</span> <span class=\"token keyword\">to</span> the specific locked <span class=\"token keyword\">object</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">EQ</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" find the field from the value</span>\n      gv_modus_index <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>field+<span class=\"token number\">9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" the key for the value is </span><span class=\"token string\">'modeinfo[X].enq_info'</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> we need just the <span class=\"token keyword\">X</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> so we +<span class=\"token number\">9</span> <span class=\"token keyword\">then</span> take the <span class=\"token keyword\">single</span> <span class=\"token keyword\">character</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" If we found a session with that number, we know we had the correct logon... we can add this to the user list</span>\n    <span class=\"token keyword\">IF</span> gv_modus_index <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" convert to type ssi_session_handle for later lookup</span>\n      gv_modus_num_found <span class=\"token operator\">=</span> gv_modus_index<span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" get the session id for this specific</span>\n      <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'modeinfo['</span> gv_modus_index <span class=\"token string\">'].session'</span> <span class=\"token keyword\">INTO</span> gv_field<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this time we need to find the value from the field</span>\n      <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">EQ</span> gv_field<span class=\"token punctuation\">.</span>\n        gv_ssi_session_id <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>value<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> gs_session_list <span class=\"token keyword\">TO</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":101,"column":1,"offset":6110},"end":{"line":139,"column":4,"offset":8148},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Here - as will make more sense in the full code - I am building a ","position":{"start":{"line":141,"column":1,"offset":8152},"end":{"line":141,"column":67,"offset":8218},"indent":[]}},{"type":"inlineCode","value":"gt_sessions_user","position":{"start":{"line":141,"column":67,"offset":8218},"end":{"line":141,"column":85,"offset":8236},"indent":[]}},{"type":"text","value":" list on the fly, which is what is passed to a BDC method to close that specific session ID for that user alone (explained below). I decided to run the program with this one-user-at-a-time method in order to have the minimum amount of time between finding a session that was locking an object and messaging / deleting that session. ","position":{"start":{"line":141,"column":85,"offset":8236},"end":{"line":141,"column":417,"offset":8568},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":8152},"end":{"line":141,"column":417,"offset":8568},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If we had say, 1000 locked orders on our system, and I built an entire list of all blocking sessions across all users, it could be the case that by the time we get to the BDC method (which, by the way, is slow itself, especially when you need it to be synchronous as we need in this process), the user could have already closed that blocking session, or worse, switched to a transaction in that session number which was no longer blocking the order! In such a case we would be unnecessarily sending warning messages or closing the transaction to a session which didn‚Äôt apply anymore! Bad.","position":{"start":{"line":143,"column":1,"offset":8572},"end":{"line":143,"column":589,"offset":9160},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":8572},"end":{"line":143,"column":589,"offset":9160},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So - we‚Äôve pinpointed the exact user and their session number that is blocking the order - let‚Äôs send them our warning messages at 5 and 10 minutes.","position":{"start":{"line":145,"column":1,"offset":9164},"end":{"line":145,"column":149,"offset":9312},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":9164},"end":{"line":145,"column":149,"offset":9312},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"No Way! A ","position":{"start":{"line":147,"column":4,"offset":9319},"end":{"line":147,"column":14,"offset":9329},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"SECOND","position":{"start":{"line":147,"column":15,"offset":9330},"end":{"line":147,"column":21,"offset":9336},"indent":[]}}],"position":{"start":{"line":147,"column":14,"offset":9329},"end":{"line":147,"column":22,"offset":9337},"indent":[]}},{"type":"text","value":" ‚ÄòForbidden‚Äô Module?!","position":{"start":{"line":147,"column":22,"offset":9337},"end":{"line":147,"column":43,"offset":9358},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":9316},"end":{"line":147,"column":43,"offset":9358},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To send a popup message to a user, we need to now make use of ","position":{"start":{"line":149,"column":1,"offset":9362},"end":{"line":149,"column":63,"offset":9424},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"second","position":{"start":{"line":149,"column":64,"offset":9425},"end":{"line":149,"column":70,"offset":9431},"indent":[]}}],"position":{"start":{"line":149,"column":63,"offset":9424},"end":{"line":149,"column":71,"offset":9432},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":149,"column":71,"offset":9432},"end":{"line":149,"column":72,"offset":9433},"indent":[]}},{"type":"inlineCode","value":"TH*","position":{"start":{"line":149,"column":72,"offset":9433},"end":{"line":149,"column":77,"offset":9438},"indent":[]}},{"type":"text","value":" function, ","position":{"start":{"line":149,"column":77,"offset":9438},"end":{"line":149,"column":88,"offset":9449},"indent":[]}},{"type":"inlineCode","value":"TH_POPUP","position":{"start":{"line":149,"column":88,"offset":9449},"end":{"line":149,"column":98,"offset":9459},"indent":[]}},{"type":"text","value":" (though at least this time it is at least a SAP function, and not a sneaky system function):","position":{"start":{"line":149,"column":98,"offset":9459},"end":{"line":149,"column":191,"offset":9552},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":9362},"end":{"line":149,"column":191,"offset":9552},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">'in TC'</span> gv_tcode <span class=\"token string\">' for >5min. Please save and leave the transaction.'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":151,"column":1,"offset":9556},"end":{"line":161,"column":4,"offset":9955},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This function module actually heads to the kernel as well, because the user won‚Äôt get a popup directly in the SAP GUI, but rather a warning message directly in the their operating system. It looks like this when testing from ","position":{"start":{"line":163,"column":1,"offset":9959},"end":{"line":163,"column":226,"offset":10184},"indent":[]}},{"type":"inlineCode","value":"SE37","position":{"start":{"line":163,"column":226,"offset":10184},"end":{"line":163,"column":232,"offset":10190},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":163,"column":232,"offset":10190},"end":{"line":163,"column":233,"offset":10191},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":9959},"end":{"line":163,"column":233,"offset":10191},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"TH_POPUP-function-test.png","alt":"Testing TH_POPUP in transaction SE37.","position":{"start":{"line":165,"column":1,"offset":10195},"end":{"line":165,"column":69,"offset":10263},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-ed9a9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 18.867924528301888%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgklEQVQY05WOuwoCMRBF8/8/JCJiZbXNuhhiyGQSs+MriyxWlte4hSAR0eLAcA5cRi00YdYazDuLdT+8WGmH5S68uV9QQh73caw4xwjxn9s3lGk3uOVchQN7sDG47BOECFeR4hinEHDkMLlobbkZvXNTyylBdU0D2upqcCgD/3735AHWuSeWZEXtyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Testing TH_POPUP in transaction SE37.\"\n        title=\"\"\n        src=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-fb8a0.png\"\n        srcset=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-1a291.png 148w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-2bc4a.png 295w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-fb8a0.png 590w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-ed9a9.png 636w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":165,"column":1,"offset":10195},"end":{"line":165,"column":69,"offset":10263},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And our resulting system popup (at least how it looks on windows operating system)","position":{"start":{"line":167,"column":1,"offset":10267},"end":{"line":167,"column":83,"offset":10349},"indent":[]}}],"position":{"start":{"line":167,"column":1,"offset":10267},"end":{"line":167,"column":83,"offset":10349},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"TH_POPUP-result.png","alt":"What a successful call of TH_POPUP from SE37 looks like.","position":{"start":{"line":169,"column":1,"offset":10353},"end":{"line":169,"column":81,"offset":10433},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 436px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.18348623853211%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz62QWUvDQBSF83sF/4WgiA+CKKI++CCiIAhFUIvWfUm6WG1N7ZJaW1NrmrRJk7Z2/ZxE9FnEAx/3zjCce89Ihv7GzW0aWVaJRjPE4lkSdzmSyTz3DxqpdJHHx2fUzAtP2TLZfIV8QUcrVimWapTK75QrBhXdpFYzkVJpjemlfebWjphZDrOwccHK1rWoVyxv3zK1csrs+hXzmzKLOwlWQynWD57YjGjsXJYJKVX2kybHqs3xdQKp49j46rZaDIdD+v0+vV4v6H2NRiOGgt8qMPQMA2VygpwcFZFjRONxYjGFyOkZ5xfnyIqC7Ti/NxyPx9Tvk3S7H9i2TaPRoNls4jitoPp3lmVhmvUAQyzgv/GxBK7nBsl+DL81GAxoiegNYdJuezii98+u59HudGiL+mVs4bpuMKxpfw38EN8UGNr1d3S99GcKhQyalv1BMt9eUdXEnwmH99jd3SJycsDhYQjJqurk1NS/8QnOkItAGE+OqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"What a successful call of TH_POPUP from SE37 looks like.\"\n        title=\"\"\n        src=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png\"\n        srcset=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-0e5b7.png 148w,\n/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8eb70.png 295w,\n/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png 436w\"\n        sizes=\"(max-width: 436px) 100vw, 436px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":169,"column":1,"offset":10353},"end":{"line":169,"column":81,"offset":10433},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Ok, so we‚Äôve warned the users twice by now with our popup, but they still are blocking a dang order! Remember, each run we‚Äôve still got their exact session number that is blocking the order, so let‚Äôs finally go in for the kill and shut down that session! Once we do that, we log which session/user/transaction combo we deleted to the spool, and this report is done!","position":{"start":{"line":171,"column":1,"offset":10437},"end":{"line":171,"column":366,"offset":10802},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":10437},"end":{"line":171,"column":366,"offset":10802},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"BDC Tricks To Finally Close The User Session","position":{"start":{"line":173,"column":4,"offset":10809},"end":{"line":173,"column":48,"offset":10853},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":10806},"end":{"line":173,"column":48,"offset":10853},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I searched and searched, but there seems to be no function module that can explicitely close a specific user session - there‚Äôs probably good reason for this! (Though I can‚Äôt ","position":{"start":{"line":175,"column":1,"offset":10857},"end":{"line":175,"column":175,"offset":11031},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"possibly","position":{"start":{"line":175,"column":176,"offset":11032},"end":{"line":175,"column":184,"offset":11040},"indent":[]}}],"position":{"start":{"line":175,"column":175,"offset":11031},"end":{"line":175,"column":185,"offset":11041},"indent":[]}},{"type":"text","value":" think of why ü§î üòâ) ","position":{"start":{"line":175,"column":185,"offset":11041},"end":{"line":175,"column":206,"offset":11062},"indent":[]}}],"position":{"start":{"line":175,"column":1,"offset":10857},"end":{"line":175,"column":206,"offset":11062},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I couldn‚Äôt even find another ‚Äòforbidden‚Äô ","position":{"start":{"line":177,"column":1,"offset":11066},"end":{"line":177,"column":42,"offset":11107},"indent":[]}},{"type":"inlineCode","value":"Th****","position":{"start":{"line":177,"column":42,"offset":11107},"end":{"line":177,"column":50,"offset":11115},"indent":[]}},{"type":"text","value":" function module that can do this. However, this ","position":{"start":{"line":177,"column":50,"offset":11115},"end":{"line":177,"column":99,"offset":11164},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"is","position":{"start":{"line":177,"column":100,"offset":11165},"end":{"line":177,"column":102,"offset":11167},"indent":[]}}],"position":{"start":{"line":177,"column":99,"offset":11164},"end":{"line":177,"column":103,"offset":11168},"indent":[]}},{"type":"text","value":" possible through the standard SAP GUI, and we‚Äôve already mentioned it in this post, our friend transaction ","position":{"start":{"line":177,"column":103,"offset":11168},"end":{"line":177,"column":211,"offset":11276},"indent":[]}},{"type":"inlineCode","value":"SM04","position":{"start":{"line":177,"column":211,"offset":11276},"end":{"line":177,"column":217,"offset":11282},"indent":[]}},{"type":"text","value":". By double clicking on a user (using me for an example), we get a list like this (sorry for the black boxes - don‚Äôt want to inadvertantly reveal anything that may be proprietary):","position":{"start":{"line":177,"column":217,"offset":11282},"end":{"line":177,"column":397,"offset":11462},"indent":[]}}],"position":{"start":{"line":177,"column":1,"offset":11066},"end":{"line":177,"column":397,"offset":11462},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"server-sessions-list.png","alt":"List of user sessions on the server.","position":{"start":{"line":179,"column":1,"offset":11466},"end":{"line":179,"column":66,"offset":11531},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-07ee3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 48.319327731092436%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVQoz42RvW/TYBDGPSDYqPiSGPhDYGJiZUBiQ0JIXRhAqkCoiIXO7AhEkFgQpUoKKRKgRE1cx3bs1HYS58MktklSx0lJQwhpnCAq8XB2iWklBoaf7u69e5/37l5m2Oli2OlgvLODyeAbRl96GDgOxf3Aev2v+L69jZ9j779gfngepgcYD4cYj0Zwe3VMa2kM6DGz3cd0dxce4ddPyJqtNtUM0XBc/NrbC2G4V1HwyzH41keOxpGLvUOGfPblawgrb3Hx/IV/koutoSsqh2BaQhpWikeTF+FIMoyMgs+itE+Why0KaHAcutImmqIKdUOmnIZCRoAlkYhaxUAthzAlToCyziL5Zg1SMoXEahwfo6uBr7EZFCnfKJRQFiTofBZO2Qgw6IFKNgdTKcDWiqhS7JQMMLX4Cyxcu4JjR44GMAwTsnR3ERO7E2AJKgpJDvXMJnWdh0nxLOeqFegpEZ7lgqk8eQ8nksZWhIW3rOHcqbOh4K0b89hSykGhySvIJzZg0Mh2No86xf65j0s1rmZgbLbBmJEk5EcriD94jMTSc5yZOxkK3rt5G/2yHVxq5XR84mQ05SIcpUL7zaOnm5S30M0b6BZqfwSfJTF/6eqhUWc8vLMYduELVVmJxtXI14MOLfKrbJa6q/4VNJ5+wMLl6zhNnfmcOD53YIf3Q0Gbflhf54Md+kK+8CzXDnYoBIK/AfM7da4WDQh1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"List of user sessions on the server.\"\n        title=\"\"\n        src=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-fb8a0.png\"\n        srcset=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-1a291.png 148w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-2bc4a.png 295w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-fb8a0.png 590w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-07ee3.png 714w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":179,"column":1,"offset":11466},"end":{"line":179,"column":66,"offset":11531},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Then you need only select the desired session number and click ‚ÄúDelete Session‚Äù, then ‚òÅÔ∏èPOOF!‚òÅÔ∏è that user‚Äôs session will be gone!","position":{"start":{"line":181,"column":1,"offset":11535},"end":{"line":181,"column":130,"offset":11664},"indent":[]}}],"position":{"start":{"line":181,"column":1,"offset":11535},"end":{"line":181,"column":130,"offset":11664},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"delete-session.png","alt":"Deleting a user session by session number.","position":{"start":{"line":183,"column":1,"offset":11668},"end":{"line":183,"column":66,"offset":11733},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 431px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.11600928074246%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABOElEQVQoz62RS0vDQBSF8xu76EJciaCxVX+NbX2ACILgWhcK0qY+sNCaNDFt87KSpEmap0Ubl8dJlAYlWLAuDnfuZe7HnDPUZamMxhqNq5VVNOgymPVS2jc3NlGnaTBb27hYXsJ5oZDq7Kvm9sUiqHq1gutEtSpudmuf5z+qWdkB5UgSYs9F7Pt4j6KFRTmDAfR+H46mQmRZ9FgOvmXNXYxsGwOezwGqGjzDWEgJPANqGl4cB8/Eeo/rgmu1YGpPeCMR/KZgNILMC+gTV69+kAHH5IUhsWiqKoTOA2RBIHAZmiiCb7fTCALLzgUOSVTJ/YnrZUCXAP/jM+YCp0GAKbEyGdvEQZKTOVNof++zmUEylJV08afiMEzB+vAWyuMpuLt9SJ3DtCrdY0jsCbr3B1C4o9lMZ/bwAV7HvGPB8uXkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Deleting a user session by session number.\"\n        title=\"\"\n        src=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png\"\n        srcset=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-f3adc.png 148w,\n/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-92060.png 295w,\n/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png 431w\"\n        sizes=\"(max-width: 431px) 100vw, 431px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":183,"column":1,"offset":11668},"end":{"line":183,"column":66,"offset":11733},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Thank me later, but in BDC form, this can be written as follows:","position":{"start":{"line":185,"column":1,"offset":11737},"end":{"line":185,"column":65,"offset":11801},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":11737},"end":{"line":185,"column":65,"offset":11801},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" First ensure that sm04 is called and set to the sessions view</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=SESSIONS'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now use bdc to end the session with that session id</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;OL0'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=WLSE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'GT_FIELD_LIST-MARK(01)'</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CONT'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=PS 63'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;ILT'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSSEL'</span> <span class=\"token string\">'1104'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CRET'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSSEL                                1105%_SUBSCREEN_FREESEL'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'%%DYN001-LOW'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'%%DYN001-LOW'</span> gv_ssi_session_id<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'RSM04000_ALV_NEW'</span> <span class=\"token string\">'2000'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> gv_modus_string<span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=DEL'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;F15'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":187,"column":1,"offset":11805},"end":{"line":252,"column":4,"offset":14288},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you stick around the blog and or read other ABAP BDC posts of mine, you‚Äôll see for BDC I always use the following helper form ","position":{"start":{"line":254,"column":1,"offset":14292},"end":{"line":254,"column":130,"offset":14421},"indent":[]}},{"type":"inlineCode","value":"bdcdaten","position":{"start":{"line":254,"column":130,"offset":14421},"end":{"line":254,"column":140,"offset":14431},"indent":[]}},{"type":"text","value":" that allows me to write the BDC so cleanly (as it is above):","position":{"start":{"line":254,"column":140,"offset":14431},"end":{"line":254,"column":201,"offset":14492},"indent":[]}}],"position":{"start":{"line":254,"column":1,"offset":14292},"end":{"line":254,"column":201,"offset":14492},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  BDCDATEN</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> bdcdaten <span class=\"token keyword\">USING</span> start fnam fval<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> bdcdata<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> start <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynbegin <span class=\"token operator\">=</span> start<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>program  <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynpro   <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fnam <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fval <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> bdcdata<span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\" BDCDATEN</span>\n</code></pre>\n      </div>","position":{"start":{"line":256,"column":1,"offset":14496},"end":{"line":274,"column":4,"offset":14991},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The only thing worth noting here is in our first step we always ensure the server view of ","position":{"start":{"line":276,"column":1,"offset":14995},"end":{"line":276,"column":91,"offset":15085},"indent":[]}},{"type":"inlineCode","value":"SM04","position":{"start":{"line":276,"column":91,"offset":15085},"end":{"line":276,"column":97,"offset":15091},"indent":[]}},{"type":"text","value":" is active - we need to always run in server view, because we don‚Äôt want all sessions across all servers. In this way, this report can run in parallel on all your servers and concern it self only with users logged on to the server instance that this report is running on. This will make the run time a bit faster, and of course splits up the search work across all servers.","position":{"start":{"line":276,"column":97,"offset":15091},"end":{"line":276,"column":470,"offset":15464},"indent":[]}}],"position":{"start":{"line":276,"column":1,"offset":14995},"end":{"line":276,"column":470,"offset":15464},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Full Code","position":{"start":{"line":278,"column":3,"offset":15470},"end":{"line":278,"column":12,"offset":15479},"indent":[]}}],"position":{"start":{"line":278,"column":1,"offset":15468},"end":{"line":278,"column":12,"offset":15479},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The full code of the report is as follows:","position":{"start":{"line":280,"column":1,"offset":15483},"end":{"line":280,"column":43,"offset":15525},"indent":[]}}],"position":{"start":{"line":280,"column":1,"offset":15483},"end":{"line":280,"column":43,"offset":15525},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> z_user_session_kill<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Report: Z_USER_SESSION_KILL                                         *</span>\n<span class=\"token comment\">*&amp; Author: Christopher Frewin                                          *</span>\n<span class=\"token comment\">*&amp; Creation Date: 2018.05.09                                           *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                         __          *</span>\n<span class=\"token comment\">*&amp;                                           Christophe_r_|  |_F_rewin *</span>\n<span class=\"token comment\">*&amp;                                                     |__    __|      *</span>\n<span class=\"token comment\">*&amp;                                                        |  |         *</span>\n<span class=\"token comment\">*&amp;                                \"Z_USER_SESSION_KILL\"   |  |         *</span>\n<span class=\"token comment\">*&amp;                                                        |__|  17'    *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n\n<span class=\"token eol-comment comment\">\" table needed for FOR in select-options statement</span>\n<span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">:</span> usr02<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Data...  :)</span>\n<span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span> gv_time_dif_sperr   <span class=\"token keyword\">TYPE</span> tims<span class=\"token punctuation\">,</span>\n      gv_tcode            <span class=\"token keyword\">TYPE</span> eqetcode<span class=\"token punctuation\">,</span>\n      gv_aufnr            <span class=\"token keyword\">TYPE</span> aufnr<span class=\"token punctuation\">,</span>\n      gv_message          <span class=\"token keyword\">TYPE</span> sm04dic<span class=\"token token-operator punctuation\">-</span>popupmsg<span class=\"token punctuation\">,</span>\n      gv_objnr            <span class=\"token keyword\">TYPE</span> j_objnr<span class=\"token punctuation\">,</span>\n      gv_stat             <span class=\"token keyword\">TYPE</span> j_status<span class=\"token punctuation\">,</span>\n      gt_enq              <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> seqg3<span class=\"token punctuation\">,</span>\n      gs_enq              <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_enq<span class=\"token punctuation\">,</span>\n      server_info         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> cl_server_info<span class=\"token punctuation\">,</span>\n      gt_session_list     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> ssi_session_info<span class=\"token punctuation\">,</span>\n      gs_session_list     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_session_list<span class=\"token punctuation\">,</span>\n      gt_sessions_user    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> ssi_session_info<span class=\"token punctuation\">,</span>\n      gs_sessions_user    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_sessions_user<span class=\"token punctuation\">,</span>\n      bdcdata             <span class=\"token keyword\">LIKE</span> bdcdata <span class=\"token keyword\">OCCURS</span> <span class=\"token number\">0</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">HEADER</span> <span class=\"token keyword\">LINE</span><span class=\"token punctuation\">,</span>\n      gv_modus_string     <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      gv_modus_index      <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      gv_user_name        <span class=\"token keyword\">TYPE</span> eqeuname<span class=\"token punctuation\">,</span>\n      th_opcode<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>        <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">,</span>\n      with_appl_info      <span class=\"token keyword\">TYPE</span> ssi_bool <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      gv_field<span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      gv_value<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      gv_ssi_session_id   <span class=\"token keyword\">TYPE</span> ssi_session_id<span class=\"token punctuation\">,</span>\n      gv_modus_num        <span class=\"token keyword\">TYPE</span> ssi_session_hdl<span class=\"token punctuation\">,</span>\n      gv_modus_num_found  <span class=\"token keyword\">TYPE</span> ssi_session_hdl<span class=\"token punctuation\">,</span>\n      gv_modus_index_char <span class=\"token keyword\">TYPE</span> numc1<span class=\"token punctuation\">,</span>\n      gv_aufnr_string     <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">BEGIN</span> <span class=\"token keyword\">OF</span> gt_usr_info <span class=\"token keyword\">OCCURS</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">field</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">VALUE</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">END</span> <span class=\"token keyword\">OF</span> gt_usr_info<span class=\"token punctuation\">,</span>\n      gs_usr_info <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_usr_info<span class=\"token punctuation\">,</span>\n      gv_autyp    <span class=\"token keyword\">TYPE</span> auftyp<span class=\"token punctuation\">,</span>\n      gv_uzeit    <span class=\"token keyword\">TYPE</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit<span class=\"token punctuation\">,</span>\n      gv_string   <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" select option to exlude user</span>\n<span class=\"token keyword\">SELECT-OPTIONS</span><span class=\"token punctuation\">:</span> so_bname <span class=\"token keyword\">FOR</span> usr02<span class=\"token token-operator punctuation\">-</span>bname <span class=\"token keyword\">MEMORY</span> <span class=\"token keyword\">ID</span> xus <span class=\"token keyword\">NO</span> <span class=\"token keyword\">INTERVALS</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">CONSTANTS</span><span class=\"token punctuation\">:</span> opcode_usr_info <span class=\"token keyword\">LIKE</span> th_opcode <span class=\"token keyword\">VALUE</span> <span class=\"token number\">52</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this is the internal SAP number used for the system function module </span><span class=\"token string\">'ThUsrInfo'</span>\ngv_uzeit <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" moved up here to have time before the enqueue_read function</span>\n\n<span class=\"token eol-comment comment\">\" Get all AUFK table locks</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'ENQUEUE_READ'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    gname                 <span class=\"token operator\">=</span> <span class=\"token string\">'AUFK'</span>\n    guname                <span class=\"token operator\">=</span> <span class=\"token string\">'*'</span>              <span class=\"token eol-comment comment\">\" Users (all)</span>\n  <span class=\"token keyword\">TABLES</span>\n    enq                   <span class=\"token operator\">=</span> gt_enq\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">OTHERS</span>                <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">EXIT</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Get all user sessions</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> server_info<span class=\"token punctuation\">.</span>\ngt_session_list <span class=\"token operator\">=</span> server_info<span class=\"token token-operator punctuation\">-></span>get_session_list<span class=\"token punctuation\">(</span> with_application_info <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Loop through each locked object (production orders)</span>\n<span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_enq <span class=\"token keyword\">INTO</span> gs_enq<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Auftrag and Tcode for nice printing in the messages</span>\n  gv_tcode <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gtcode<span class=\"token punctuation\">.</span>\n  gv_aufnr_string <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>garg+<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SHIFT</span> gv_aufnr_string <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">DELETING</span> <span class=\"token keyword\">LEADING</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONDENSE</span> gv_tcode<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" We keep only the orders that have the status FREI ---> stat </span><span class=\"token string\">'I0002'</span> <span class=\"token keyword\">in</span> <span class=\"token keyword\">table</span> JEST\n  gv_aufnr <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>garg+<span class=\"token number\">3</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" GARG for aufnr is in the format </span><span class=\"token string\">'10000000XXXXXXX'</span> therefore <span class=\"token keyword\">with</span> +<span class=\"token number\">3</span> we should have the <span class=\"token keyword\">standard</span> aufnr <span class=\"token keyword\">format</span> 00000XXXXXXX <span class=\"token punctuation\">(</span><span class=\"token number\">12</span> CHAR <span class=\"token keyword\">long</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token eol-comment comment\">\" Only orders with type 10 or 40 (production and proess orders)</span>\n  <span class=\"token keyword\">CLEAR</span> gv_autyp<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> autyp <span class=\"token keyword\">FROM</span> aufk <span class=\"token keyword\">INTO</span> gv_autyp\n    <span class=\"token keyword\">WHERE</span> aufnr <span class=\"token keyword\">EQ</span> gv_aufnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> gv_autyp <span class=\"token keyword\">NE</span> <span class=\"token string\">'10'</span> <span class=\"token keyword\">AND</span> gv_autyp <span class=\"token keyword\">NE</span> <span class=\"token string\">'40'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DELETE</span> gt_enq <span class=\"token keyword\">INDEX</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" delete this line</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" and go on to the next lock object in gt_enq</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Also check JEST table - first format to OR0000XXXXXXX form</span>\n  <span class=\"token keyword\">CLEAR</span> gv_objnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'OR'</span> gv_aufnr <span class=\"token keyword\">INTO</span> gv_objnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> stat <span class=\"token keyword\">FROM</span> jest <span class=\"token keyword\">INTO</span> gv_stat\n    <span class=\"token keyword\">WHERE</span> objnr <span class=\"token keyword\">EQ</span> gv_objnr\n    <span class=\"token keyword\">AND</span>   stat  <span class=\"token keyword\">EQ</span> <span class=\"token string\">'I0002'</span>\n    <span class=\"token keyword\">AND</span>   inact <span class=\"token keyword\">EQ</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" FREI status not found, delete the entry</span>\n    <span class=\"token keyword\">DELETE</span> gt_enq <span class=\"token keyword\">INDEX</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" delete this line</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" and go on to the next lock object in gt_enq</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Determine how long object has been locked</span>\n  <span class=\"token keyword\">IF</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime <span class=\"token keyword\">GT</span> gv_uzeit<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" check to make sure the current time is at least as big as the lock time - otherwise we get giant times 23:59:59 when subtracting</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" if this is the case, go to the next locked object</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  gv_time_dif_sperr <span class=\"token operator\">=</span> gv_uzeit <span class=\"token operator\">-</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" locked object time calculation itself is simple, difference of current time and time when it was first locked</span>\n\n  <span class=\"token eol-comment comment\">\" Finally take action depending on the time 15 minute most sever, 10 minute strong warning, 5 minute weak warning.</span>\n  <span class=\"token keyword\">IF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'001500'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" kill the user sessions after 15 minutes - will kill those that are in the transaction of the locked object</span>\n\n    <span class=\"token keyword\">CLEAR</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_session_list <span class=\"token keyword\">INTO</span> gs_session_list <span class=\"token keyword\">WHERE</span> tenant <span class=\"token keyword\">EQ</span> sy<span class=\"token token-operator punctuation\">-</span>mandt<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions to build a list of just the user sessions</span>\n\n      <span class=\"token eol-comment comment\">\" if a user is not in the given so, we continue (that means with exclude users, they are skipped, those with equals and all others keep going)</span>\n      <span class=\"token keyword\">IF</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">IN</span> so_bname<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      gv_user_name   <span class=\"token operator\">=</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Only add to list if user is current lock user - also get the session id for this user</span>\n      <span class=\"token keyword\">IF</span> gv_user_name <span class=\"token keyword\">EQ</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gv_modus_index<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gs_usr_info<span class=\"token punctuation\">.</span>\n        <span class=\"token eol-comment comment\">\" get detailed technical info for this user to find which specific session to close</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONCATENATE</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gusrvb <span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">INTO</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" We need to use the </span><span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">in</span> the technical info <span class=\"token keyword\">to</span> <span class=\"token keyword\">get</span> the <span class=\"token keyword\">exact</span> session <span class=\"token keyword\">assigned</span> <span class=\"token keyword\">to</span> the specific locked <span class=\"token keyword\">object</span>\n        <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">EQ</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" find the field from the value</span>\n          gv_modus_index <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>field+<span class=\"token number\">9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" the key for the value is </span><span class=\"token string\">'modeinfo[X].enq_info'</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> we need just the <span class=\"token keyword\">X</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> so we +<span class=\"token number\">9</span> <span class=\"token keyword\">then</span> take the <span class=\"token keyword\">single</span> <span class=\"token keyword\">character</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n        <span class=\"token eol-comment comment\">\" If we found a session with that number, we know we had the correct logon... we can add this to the user list</span>\n        <span class=\"token keyword\">IF</span> gv_modus_index <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n          <span class=\"token eol-comment comment\">\" convert to type ssi_session_handle for later lookup</span>\n          gv_modus_num_found <span class=\"token operator\">=</span> gv_modus_index<span class=\"token punctuation\">.</span>\n          <span class=\"token eol-comment comment\">\" get the session id for this specific</span>\n          <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'modeinfo['</span> gv_modus_index <span class=\"token string\">'].session'</span> <span class=\"token keyword\">INTO</span> gv_field<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this time we need to find the value from the field</span>\n          <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">EQ</span> gv_field<span class=\"token punctuation\">.</span>\n            gv_ssi_session_id <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>value<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> gs_session_list <span class=\"token keyword\">TO</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" last step is the bdc index - no matter what the order of the dynpro numbers or if there are skips between the numbers, the BDC is always 01, 02, 03, 04... counting number so we need sy-tabix</span>\n    <span class=\"token keyword\">IF</span> gt_sessions_user <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" check if there is anything for the user sessions, or if the index found</span>\n      <span class=\"token keyword\">SORT</span> gt_sessions_user <span class=\"token keyword\">BY</span> session_hdl <span class=\"token keyword\">ASCENDING</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this is how they are shown in the gui, so since we are using bdc we also have to do this</span>\n      <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_sessions_user <span class=\"token keyword\">INTO</span> gs_sessions_user<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions for the USER within the correct logon ID</span>\n        gv_modus_num   <span class=\"token operator\">=</span> gs_sessions_user<span class=\"token token-operator punctuation\">-</span>session_hdl<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" current session</span>\n        <span class=\"token eol-comment comment\">\" Kill only the session from the table that matches the index of the modus found</span>\n        <span class=\"token keyword\">IF</span> gv_modus_num <span class=\"token operator\">=</span> gv_modus_num_found<span class=\"token punctuation\">.</span>\n          gv_modus_index_char <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" then the index of the modus for this user is sy-tabix - we need the index, rather than the actual number of the session for the BDC</span>\n          <span class=\"token keyword\">CLEAR</span> gv_modus_string<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'MODUS-MTCODE(0'</span> gv_modus_index_char <span class=\"token string\">')'</span> <span class=\"token keyword\">INTO</span> gv_modus_string<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" build the bdcfield name using the index of where in the user's list the</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">IF</span> gv_modus_index_char <span class=\"token keyword\">EQ</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Then we have the false server and we have to continue ahead</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" First ensure that sm04 is called and set to the sessions view</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=SESSIONS'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now use bdc to end the session with that session id</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;OL0'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=WLSE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'GT_FIELD_LIST-MARK(01)'</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CONT'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=PS 63'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;ILT'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSSEL'</span> <span class=\"token string\">'1104'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CRET'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSSEL                                1105%_SUBSCREEN_FREESEL'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'%%DYN001-LOW'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'%%DYN001-LOW'</span> gv_ssi_session_id<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'RSM04000_ALV_NEW'</span> <span class=\"token string\">'2000'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> gv_modus_string<span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=DEL'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;F15'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" proper logging. times, order number, and transaction added as well as</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'User session from user '</span><span class=\"token punctuation\">,</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">,</span> <span class=\"token string\">'with session number'</span><span class=\"token punctuation\">,</span> gv_modus_index_char<span class=\"token punctuation\">,</span> <span class=\"token string\">'was deleted.'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'System Time (sy-uzeit): '</span><span class=\"token punctuation\">,</span> gv_uzeit<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Object Lock Time Length:'</span><span class=\"token punctuation\">,</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Lock Time: '</span><span class=\"token punctuation\">,</span> gv_time_dif_sperr<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Order: '</span><span class=\"token punctuation\">,</span> gv_aufnr_string<span class=\"token punctuation\">,</span> <span class=\"token string\">',Transaction'</span><span class=\"token punctuation\">,</span> gv_tcode<span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SO_STRUCT_TO_CHAR'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          ip_struct <span class=\"token operator\">=</span> gs_enq\n        <span class=\"token keyword\">IMPORTING</span>\n          ep_string <span class=\"token operator\">=</span> gv_string<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONDENSE</span> gv_string<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Lock object entry contains:'</span><span class=\"token punctuation\">,</span> gv_string<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSEIF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'001000'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Second warning message after 10 minutes</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">' in TC '</span> gv_tcode <span class=\"token string\">' still. Please save and leave the transaction, otherwise your session will be ended in 5 min. Thank you!'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSEIF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'000500'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" First warning message after 5 minutes</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">'in TC'</span> gv_tcode <span class=\"token string\">' for >5min. Please save and leave the transaction.'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  BDCDATEN</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> bdcdaten <span class=\"token keyword\">USING</span> start fnam fval<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> bdcdata<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> start <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynbegin <span class=\"token operator\">=</span> start<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>program  <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynpro   <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fnam <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fval <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> bdcdata<span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\" BDCDATEN</span>\n</code></pre>\n      </div>","position":{"start":{"line":282,"column":1,"offset":15529},"end":{"line":586,"column":4,"offset":29233},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Whew. That‚Äôs about it for this one, hope you enjoyed!","position":{"start":{"line":588,"column":1,"offset":29237},"end":{"line":588,"column":54,"offset":29290},"indent":[]}}],"position":{"start":{"line":588,"column":1,"offset":29237},"end":{"line":588,"column":54,"offset":29290},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":589,"column":1,"offset":29292}}}},{"id":"transformer-remark-markdown-html-84470d87b9e5eb34a58ba6cf158bd441-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<h2>SAP users lockin‚Äô up your objects?</h2>\n<h3>We‚Äôre gonna write an ABAP report and run it as a batch job to ü§ñ <em>Automatically</em> ü§ñ get rid of them!</h3>\n<h2>Overview</h2>\n<p>Alright everyone, we‚Äôre gonna walk through a fun ABAP report that involves functional programming, some challenging and creative BDC techniques, and a <em>‚Äòforbidden‚Äô SAP Kernel Call!!!</em> üò± üò± üò±</p>\n<h2>SAP and it‚Äôs Locked Objects</h2>\n<p>Anyone with a bit of technical sided SAP/ABAP experience knows that SAP has a locked object system - that is, a maximum of one entity can change an object at a time, wether it be a human user, a program, or any process. These ‚Äòobjects‚Äô in SAP are numerous - orders, HUs, even warehouse bins are ‚Äòobjects‚Äô that can be ‚Äòlocked‚Äô when they are under modification somewhere in the system.</p>\n<p>This can get very annoying when multiple entities want to change multiple objects in similar time frames.</p>\n<h2>A Remedy for the Problem</h2>\n<p>The ABAP report I‚Äôm going to go through alleviates this problem and could be useful for any company that has automatic processes applied to objects in the system, but at the same time have human users that <em>also</em> modify these objects.</p>\n<p>The example program I will go through is for orders specifically (think TYPE AUFNR). Feel free to modify the code for any locked objects of your liking üòä - the program logic following the locked object selection will not change, as we will soon see.</p>\n<h2>Specific Problem</h2>\n<p>At my company we had some batch jobs that were attempting to change orders, only to find that the users were locked by some of our employees in their own SAP GUI transactions. Nothing ‚Äòbad‚Äô per say was happening, we were just seeing in the protocol of those various batch jobs that the orders couldn‚Äôt be accessed. We realized a human user could easily forget they had a transaction open which locked an order, while they went off to work on something else, or were totally away from their work station.</p>\n<p>We decided ultimately to build a timed warning system for users that happened to be locking orders, functioning as follows:</p>\n<ol>\n<li>A warning popup for the user at 5 minutes of lock time</li>\n<li>A second warning popup for the user warning at 10 minutes of lock time</li>\n<li>Forcefully close the transaction that was locking the order at 15 minutes of lock time</li>\n</ol>\n<p>And yes, this can all be done from an automatic process with no overseeing required! üòä</p>\n<p>Let‚Äôs get started!</p>\n<h2>Identify Locked Objects</h2>\n<p>The first thing we need to do is get the locked objects and times of all those locked objects across the whole system. As I said, for this example case, we are only interested in locked <em>orders</em>. This is object type <code>AUFK</code> - the order head table. To get a list of all locked object across the system with this type, we can use function module <code>ENQUEUE_READ</code></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" Get all AUFK table locks</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'ENQUEUE_READ'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    gname                 <span class=\"token operator\">=</span> <span class=\"token string\">'AUFK'</span>\n    guname                <span class=\"token operator\">=</span> <span class=\"token string\">'*'</span>              <span class=\"token eol-comment comment\">\" Users (all)</span>\n  <span class=\"token keyword\">TABLES</span>\n    enq                   <span class=\"token operator\">=</span> gt_enq\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">OTHERS</span>                <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>So, by now we have our table of objects, and the users who are locking them. We will also need all the sessions open across the system. We can get that with the nice SAP Standard class <code>cl_server_info</code> (pretty obvious name, eh? üòÇ). </p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" Get all user sessions</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> server_info<span class=\"token punctuation\">.</span>\ngt_session_list <span class=\"token operator\">=</span> server_info<span class=\"token token-operator punctuation\">-></span>get_session_list<span class=\"token punctuation\">(</span> with_application_info <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>However, we can‚Äôt just kill all of a user‚Äôs sessions - we only want to shut down (indeed, this is bad luck for the user that has only one SAP application window open that is blocking an order, but hey, they get two warnings before we shut them down)</p>\n<h2>The ‚ÄòForbidden‚Äô Kernel Call</h2>\n<p>To get the fidelity needed to find exactly which index of SAP application window, we‚Äôre gonna have go down the system rabbithole and use a f (remember, it is always 1-7 ‚Äî> the classic SAP limit of 7 open windows per client)</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>What this kernel call retrieves and puts in table <code>gt_user_info</code> can be also found be found through the standard SAP GUI in transaction <code>SM04</code> by selecting a session and going to the top menu bar and selecting User->Technical Information):</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 234px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.52991452991454%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACSElEQVQ4y62T228SQRTG+TtNfKiXR5/1Rft/GNPSlybWxKhNTKy9AL2xIIW2XARKgV0KdKHALnthF3Z/DlPbtEn1wTjJlzkz3znfmTNnJjKuN7BU9b8hMnVcKkmFi2IJvXpOq1CiU6ow0lpY/T66SOiODKa2w1jXuVI1XMOEmY95qTNsd5lNPKxen2GrRSQIAoxej5Egc1sxvq6+J5dIYrY76JpKs1TCn0zwHJuLaoVGoYgztpiPZj6P3mpLu6c20Mrl+Qkdkd3GHY7whKNrmtjSHot5iNG/whoa+JaNNRjI5O5oJPd7Iqkt9rpqC8cwZHyEWYDn2eydrslMnu+xv7fP9tY36udVvm/GaOs9yRkiKJVS+JFJc3R8TCweI51OoWoa80rnIxKGodAM6XTy0FliqkUxq28J2ytM1WVmrShecwmn/k5wy8JnRc7BRRSEz9yPO5Ale4YoVVfh7CXh2SKN+As2oo9IfnzK7ocF0p+ecbz+XKyfEF99zI5AYm0B8+QV1BdFzGuovZGQTdGzeQbispnUmBo/MbtZcGuEdlWCv+CGD8ZlaUtBLaHQTWWv71A8gUIhz/b2Jqcnebk39xE38+AIfxPNZhNdPCspqMYO6SrZ2+BrgRBLdNoUXZ/Ngtvg8A+CNzGRUBi9XJHLk7IkpqLLGeWQRGKXynmNxE6cvd04qaMMtjO5J/LgCeeCl9kipwd5KTYRP8ITv+dfcd2UXIFBsSozuaLrW5sbJFPpe6XcPY3nWKQzGT6vf0FJHpBU0vi+L7lfkFnBCRvEn1AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"How to navigate to technical information in SAP GUI transaction SM04\"\n        title=\"\"\n        src=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png\"\n        srcset=\"/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-04291.png 148w,\n/static/technical-information-9b05195c36320c323af71fb3bcb5bf8c-0473d.png 234w\"\n        sizes=\"(max-width: 234px) 100vw, 234px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>You will see a giant list of multiple fields for each session number (0-6) that the user has open. So, what can we do with this giant technical information list of key value pairs? </p>\n<p>In SAP, this works as follows: each <em>login</em> by a user (not session number, we‚Äôre not there yet üòÑ)  is assigned a unique login ID which is generated based on things you log in with: the client number, system, and language. This session ID has the form of <code>TXX_UXXXXX</code>, where <code>X</code> can be any number 0-9. </p>\n<p>Each session then has a session ID which is comprised of first the login ID as described above, with an appended <code>_MX</code>, where <code>X</code> in this case is the session number, 0-6 (session 1-7). So, we are interested in the <code>.session</code> value of this technical list:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-5ec0d.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.265646731571628%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAYElEQVQI12O4umTu/wuzJ/+/OGfK/+frFv3/tnMtGN/ZvfL//ZNb/z87v+v/l3uH/3+9f4QozHBz/qr/l6ct/H9j5tL/V4D08yWb/n9bu/f/22PH/3++dQWMv96+SjQGANqBiivK4jA7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Session ID in the technical information.\"\n        title=\"\"\n        src=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-fb8a0.png\"\n        srcset=\"/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-1a291.png 148w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-2bc4a.png 295w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-fb8a0.png 590w,\n/static/session-id-3587fb6b396ec22b4ee4f7c23e2ff4ea-5ec0d.png 719w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>You can notice then that session 2 would have </p>\n<p><code>modeinfo[1].session = T23_U31974_M1</code> </p>\n<p>session 3 would have</p>\n<p><code>modeinfo[2].session = T23_U31974_M2</code> </p>\n<p>and so on, all the way up to session 7 - or index 6. We will see in the code that I leverage this pattern. The only way to find the true session that is blocking the order is to first guess the logon instance for the user (in the case for example that htey have logged on with multiple languages), then you can back out all the session ID‚Äôs until you get a match of the <code>session_hdl</code> from the returned list of <code>gt_sessions_list</code>.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CLEAR</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_session_list <span class=\"token keyword\">INTO</span> gs_session_list <span class=\"token keyword\">WHERE</span> tenant <span class=\"token keyword\">EQ</span> sy<span class=\"token token-operator punctuation\">-</span>mandt<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions to build a list of just the user sessions</span>\n\n  <span class=\"token eol-comment comment\">\" if a user is not in the given so, we continue (that means with exclude users, they are skipped, those with equals and all others keep going)</span>\n  <span class=\"token keyword\">IF</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">IN</span> so_bname<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  gv_user_name   <span class=\"token operator\">=</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Only add to list if user is current lock user - also get the session id for this user</span>\n  <span class=\"token keyword\">IF</span> gv_user_name <span class=\"token keyword\">EQ</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gv_modus_index<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CLEAR</span> gs_usr_info<span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" get detailed technical info for this user to find which specific session to close</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n      <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONCATENATE</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gusrvb <span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">INTO</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" We need to use the </span><span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">in</span> the technical info <span class=\"token keyword\">to</span> <span class=\"token keyword\">get</span> the <span class=\"token keyword\">exact</span> session <span class=\"token keyword\">assigned</span> <span class=\"token keyword\">to</span> the specific locked <span class=\"token keyword\">object</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">EQ</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" find the field from the value</span>\n      gv_modus_index <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>field+<span class=\"token number\">9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" the key for the value is </span><span class=\"token string\">'modeinfo[X].enq_info'</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> we need just the <span class=\"token keyword\">X</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> so we +<span class=\"token number\">9</span> <span class=\"token keyword\">then</span> take the <span class=\"token keyword\">single</span> <span class=\"token keyword\">character</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" If we found a session with that number, we know we had the correct logon... we can add this to the user list</span>\n    <span class=\"token keyword\">IF</span> gv_modus_index <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" convert to type ssi_session_handle for later lookup</span>\n      gv_modus_num_found <span class=\"token operator\">=</span> gv_modus_index<span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" get the session id for this specific</span>\n      <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'modeinfo['</span> gv_modus_index <span class=\"token string\">'].session'</span> <span class=\"token keyword\">INTO</span> gv_field<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this time we need to find the value from the field</span>\n      <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">EQ</span> gv_field<span class=\"token punctuation\">.</span>\n        gv_ssi_session_id <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>value<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> gs_session_list <span class=\"token keyword\">TO</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>Here - as will make more sense in the full code - I am building a <code>gt_sessions_user</code> list on the fly, which is what is passed to a BDC method to close that specific session ID for that user alone (explained below). I decided to run the program with this one-user-at-a-time method in order to have the minimum amount of time between finding a session that was locking an object and messaging / deleting that session. </p>\n<p>If we had say, 1000 locked orders on our system, and I built an entire list of all blocking sessions across all users, it could be the case that by the time we get to the BDC method (which, by the way, is slow itself, especially when you need it to be synchronous as we need in this process), the user could have already closed that blocking session, or worse, switched to a transaction in that session number which was no longer blocking the order! In such a case we would be unnecessarily sending warning messages or closing the transaction to a session which didn‚Äôt apply anymore! Bad.</p>\n<p>So - we‚Äôve pinpointed the exact user and their session number that is blocking the order - let‚Äôs send them our warning messages at 5 and 10 minutes.</p>\n<h2>No Way! A <em>SECOND</em> ‚ÄòForbidden‚Äô Module?!</h2>\n<p>To send a popup message to a user, we need to now make use of <em>second</em> <code>TH*</code> function, <code>TH_POPUP</code> (though at least this time it is at least a SAP function, and not a sneaky system function):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">'in TC'</span> gv_tcode <span class=\"token string\">' for >5min. Please save and leave the transaction.'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>This function module actually heads to the kernel as well, because the user won‚Äôt get a popup directly in the SAP GUI, but rather a warning message directly in the their operating system. It looks like this when testing from <code>SE37</code>:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-ed9a9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 18.867924528301888%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAgklEQVQY05WOuwoCMRBF8/8/JCJiZbXNuhhiyGQSs+MriyxWlte4hSAR0eLAcA5cRi00YdYazDuLdT+8WGmH5S68uV9QQh73caw4xwjxn9s3lGk3uOVchQN7sDG47BOECFeR4hinEHDkMLlobbkZvXNTyylBdU0D2upqcCgD/3735AHWuSeWZEXtyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Testing TH_POPUP in transaction SE37.\"\n        title=\"\"\n        src=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-fb8a0.png\"\n        srcset=\"/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-1a291.png 148w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-2bc4a.png 295w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-fb8a0.png 590w,\n/static/TH_POPUP-function-test-f335565df0fe168d8fcbf6cc886e4d93-ed9a9.png 636w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>And our resulting system popup (at least how it looks on windows operating system)</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 436px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.18348623853211%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz62QWUvDQBSF83sF/4WgiA+CKKI++CCiIAhFUIvWfUm6WG1N7ZJaW1NrmrRJk7Z2/ZxE9FnEAx/3zjCce89Ihv7GzW0aWVaJRjPE4lkSdzmSyTz3DxqpdJHHx2fUzAtP2TLZfIV8QUcrVimWapTK75QrBhXdpFYzkVJpjemlfebWjphZDrOwccHK1rWoVyxv3zK1csrs+hXzmzKLOwlWQynWD57YjGjsXJYJKVX2kybHqs3xdQKp49j46rZaDIdD+v0+vV4v6H2NRiOGgt8qMPQMA2VygpwcFZFjRONxYjGFyOkZ5xfnyIqC7Ti/NxyPx9Tvk3S7H9i2TaPRoNls4jitoPp3lmVhmvUAQyzgv/GxBK7nBsl+DL81GAxoiegNYdJuezii98+u59HudGiL+mVs4bpuMKxpfw38EN8UGNr1d3S99GcKhQyalv1BMt9eUdXEnwmH99jd3SJycsDhYQjJqurk1NS/8QnOkItAGE+OqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"What a successful call of TH_POPUP from SE37 looks like.\"\n        title=\"\"\n        src=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png\"\n        srcset=\"/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-0e5b7.png 148w,\n/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8eb70.png 295w,\n/static/TH_POPUP-result-f1ae1b51cff16b07e9c974368beeca67-8505f.png 436w\"\n        sizes=\"(max-width: 436px) 100vw, 436px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Ok, so we‚Äôve warned the users twice by now with our popup, but they still are blocking a dang order! Remember, each run we‚Äôve still got their exact session number that is blocking the order, so let‚Äôs finally go in for the kill and shut down that session! Once we do that, we log which session/user/transaction combo we deleted to the spool, and this report is done!</p>\n<h2>BDC Tricks To Finally Close The User Session</h2>\n<p>I searched and searched, but there seems to be no function module that can explicitely close a specific user session - there‚Äôs probably good reason for this! (Though I can‚Äôt <em>possibly</em> think of why ü§î üòâ) </p>\n<p>I couldn‚Äôt even find another ‚Äòforbidden‚Äô <code>Th****</code> function module that can do this. However, this <em>is</em> possible through the standard SAP GUI, and we‚Äôve already mentioned it in this post, our friend transaction <code>SM04</code>. By double clicking on a user (using me for an example), we get a list like this (sorry for the black boxes - don‚Äôt want to inadvertantly reveal anything that may be proprietary):</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-07ee3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 48.319327731092436%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVQoz42RvW/TYBDGPSDYqPiSGPhDYGJiZUBiQ0JIXRhAqkCoiIXO7AhEkFgQpUoKKRKgRE1cx3bs1HYS58MktklSx0lJQwhpnCAq8XB2iWklBoaf7u69e5/37l5m2Oli2OlgvLODyeAbRl96GDgOxf3Aev2v+L69jZ9j779gfngepgcYD4cYj0Zwe3VMa2kM6DGz3cd0dxce4ddPyJqtNtUM0XBc/NrbC2G4V1HwyzH41keOxpGLvUOGfPblawgrb3Hx/IV/koutoSsqh2BaQhpWikeTF+FIMoyMgs+itE+Why0KaHAcutImmqIKdUOmnIZCRoAlkYhaxUAthzAlToCyziL5Zg1SMoXEahwfo6uBr7EZFCnfKJRQFiTofBZO2Qgw6IFKNgdTKcDWiqhS7JQMMLX4Cyxcu4JjR44GMAwTsnR3ERO7E2AJKgpJDvXMJnWdh0nxLOeqFegpEZ7lgqk8eQ8nksZWhIW3rOHcqbOh4K0b89hSykGhySvIJzZg0Mh2No86xf65j0s1rmZgbLbBmJEk5EcriD94jMTSc5yZOxkK3rt5G/2yHVxq5XR84mQ05SIcpUL7zaOnm5S30M0b6BZqfwSfJTF/6eqhUWc8vLMYduELVVmJxtXI14MOLfKrbJa6q/4VNJ5+wMLl6zhNnfmcOD53YIf3Q0Gbflhf54Md+kK+8CzXDnYoBIK/AfM7da4WDQh1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"List of user sessions on the server.\"\n        title=\"\"\n        src=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-fb8a0.png\"\n        srcset=\"/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-1a291.png 148w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-2bc4a.png 295w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-fb8a0.png 590w,\n/static/server-sessions-list-6c0894339b3bbfcfe9d32ac7de1acbc1-07ee3.png 714w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Then you need only select the desired session number and click ‚ÄúDelete Session‚Äù, then ‚òÅÔ∏èPOOF!‚òÅÔ∏è that user‚Äôs session will be gone!</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 431px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.11600928074246%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABOElEQVQoz62RS0vDQBSF8xu76EJciaCxVX+NbX2ACILgWhcK0qY+sNCaNDFt87KSpEmap0Ubl8dJlAYlWLAuDnfuZe7HnDPUZamMxhqNq5VVNOgymPVS2jc3NlGnaTBb27hYXsJ5oZDq7Kvm9sUiqHq1gutEtSpudmuf5z+qWdkB5UgSYs9F7Pt4j6KFRTmDAfR+H46mQmRZ9FgOvmXNXYxsGwOezwGqGjzDWEgJPANqGl4cB8/Eeo/rgmu1YGpPeCMR/KZgNILMC+gTV69+kAHH5IUhsWiqKoTOA2RBIHAZmiiCb7fTCALLzgUOSVTJ/YnrZUCXAP/jM+YCp0GAKbEyGdvEQZKTOVNof++zmUEylJV08afiMEzB+vAWyuMpuLt9SJ3DtCrdY0jsCbr3B1C4o9lMZ/bwAV7HvGPB8uXkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Deleting a user session by session number.\"\n        title=\"\"\n        src=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png\"\n        srcset=\"/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-f3adc.png 148w,\n/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-92060.png 295w,\n/static/delete-session-fb0da81ec00cfdb7cb4f36a552d14f25-37cbe.png 431w\"\n        sizes=\"(max-width: 431px) 100vw, 431px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Thank me later, but in BDC form, this can be written as follows:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" First ensure that sm04 is called and set to the sessions view</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=SESSIONS'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now use bdc to end the session with that session id</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;OL0'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=WLSE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'GT_FIELD_LIST-MARK(01)'</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CONT'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=PS 63'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;ILT'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSSEL'</span> <span class=\"token string\">'1104'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CRET'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSSEL                                1105%_SUBSCREEN_FREESEL'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'%%DYN001-LOW'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'%%DYN001-LOW'</span> gv_ssi_session_id<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'RSM04000_ALV_NEW'</span> <span class=\"token string\">'2000'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> gv_modus_string<span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=DEL'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;F15'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>If you stick around the blog and or read other ABAP BDC posts of mine, you‚Äôll see for BDC I always use the following helper form <code>bdcdaten</code> that allows me to write the BDC so cleanly (as it is above):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  BDCDATEN</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> bdcdaten <span class=\"token keyword\">USING</span> start fnam fval<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> bdcdata<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> start <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynbegin <span class=\"token operator\">=</span> start<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>program  <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynpro   <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fnam <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fval <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> bdcdata<span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\" BDCDATEN</span>\n</code></pre>\n      </div>\n<p>The only thing worth noting here is in our first step we always ensure the server view of <code>SM04</code> is active - we need to always run in server view, because we don‚Äôt want all sessions across all servers. In this way, this report can run in parallel on all your servers and concern it self only with users logged on to the server instance that this report is running on. This will make the run time a bit faster, and of course splits up the search work across all servers.</p>\n<h1>Full Code</h1>\n<p>The full code of the report is as follows:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">REPORT</span> z_user_session_kill<span class=\"token punctuation\">.</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp; Report: Z_USER_SESSION_KILL                                         *</span>\n<span class=\"token comment\">*&amp; Author: Christopher Frewin                                          *</span>\n<span class=\"token comment\">*&amp; Creation Date: 2018.05.09                                           *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                                     *</span>\n<span class=\"token comment\">*&amp;                                                         __          *</span>\n<span class=\"token comment\">*&amp;                                           Christophe_r_|  |_F_rewin *</span>\n<span class=\"token comment\">*&amp;                                                     |__    __|      *</span>\n<span class=\"token comment\">*&amp;                                                        |  |         *</span>\n<span class=\"token comment\">*&amp;                                \"Z_USER_SESSION_KILL\"   |  |         *</span>\n<span class=\"token comment\">*&amp;                                                        |__|  17'    *</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n\n<span class=\"token eol-comment comment\">\" table needed for FOR in select-options statement</span>\n<span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">:</span> usr02<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Data...  :)</span>\n<span class=\"token keyword\">DATA</span><span class=\"token punctuation\">:</span> gv_time_dif_sperr   <span class=\"token keyword\">TYPE</span> tims<span class=\"token punctuation\">,</span>\n      gv_tcode            <span class=\"token keyword\">TYPE</span> eqetcode<span class=\"token punctuation\">,</span>\n      gv_aufnr            <span class=\"token keyword\">TYPE</span> aufnr<span class=\"token punctuation\">,</span>\n      gv_message          <span class=\"token keyword\">TYPE</span> sm04dic<span class=\"token token-operator punctuation\">-</span>popupmsg<span class=\"token punctuation\">,</span>\n      gv_objnr            <span class=\"token keyword\">TYPE</span> j_objnr<span class=\"token punctuation\">,</span>\n      gv_stat             <span class=\"token keyword\">TYPE</span> j_status<span class=\"token punctuation\">,</span>\n      gt_enq              <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> seqg3<span class=\"token punctuation\">,</span>\n      gs_enq              <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_enq<span class=\"token punctuation\">,</span>\n      server_info         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> cl_server_info<span class=\"token punctuation\">,</span>\n      gt_session_list     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> ssi_session_info<span class=\"token punctuation\">,</span>\n      gs_session_list     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_session_list<span class=\"token punctuation\">,</span>\n      gt_sessions_user    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> ssi_session_info<span class=\"token punctuation\">,</span>\n      gs_sessions_user    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_sessions_user<span class=\"token punctuation\">,</span>\n      bdcdata             <span class=\"token keyword\">LIKE</span> bdcdata <span class=\"token keyword\">OCCURS</span> <span class=\"token number\">0</span> <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">HEADER</span> <span class=\"token keyword\">LINE</span><span class=\"token punctuation\">,</span>\n      gv_modus_string     <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      gv_modus_index      <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      gv_user_name        <span class=\"token keyword\">TYPE</span> eqeuname<span class=\"token punctuation\">,</span>\n      th_opcode<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>        <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">x</span><span class=\"token punctuation\">,</span>\n      with_appl_info      <span class=\"token keyword\">TYPE</span> ssi_bool <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      gv_field<span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      gv_value<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      gv_ssi_session_id   <span class=\"token keyword\">TYPE</span> ssi_session_id<span class=\"token punctuation\">,</span>\n      gv_modus_num        <span class=\"token keyword\">TYPE</span> ssi_session_hdl<span class=\"token punctuation\">,</span>\n      gv_modus_num_found  <span class=\"token keyword\">TYPE</span> ssi_session_hdl<span class=\"token punctuation\">,</span>\n      gv_modus_index_char <span class=\"token keyword\">TYPE</span> numc1<span class=\"token punctuation\">,</span>\n      gv_aufnr_string     <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">BEGIN</span> <span class=\"token keyword\">OF</span> gt_usr_info <span class=\"token keyword\">OCCURS</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">field</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">VALUE</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">END</span> <span class=\"token keyword\">OF</span> gt_usr_info<span class=\"token punctuation\">,</span>\n      gs_usr_info <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> gt_usr_info<span class=\"token punctuation\">,</span>\n      gv_autyp    <span class=\"token keyword\">TYPE</span> auftyp<span class=\"token punctuation\">,</span>\n      gv_uzeit    <span class=\"token keyword\">TYPE</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit<span class=\"token punctuation\">,</span>\n      gv_string   <span class=\"token keyword\">TYPE</span> string<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" select option to exlude user</span>\n<span class=\"token keyword\">SELECT-OPTIONS</span><span class=\"token punctuation\">:</span> so_bname <span class=\"token keyword\">FOR</span> usr02<span class=\"token token-operator punctuation\">-</span>bname <span class=\"token keyword\">MEMORY</span> <span class=\"token keyword\">ID</span> xus <span class=\"token keyword\">NO</span> <span class=\"token keyword\">INTERVALS</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">CONSTANTS</span><span class=\"token punctuation\">:</span> opcode_usr_info <span class=\"token keyword\">LIKE</span> th_opcode <span class=\"token keyword\">VALUE</span> <span class=\"token number\">52</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this is the internal SAP number used for the system function module </span><span class=\"token string\">'ThUsrInfo'</span>\ngv_uzeit <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>uzeit<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" moved up here to have time before the enqueue_read function</span>\n\n<span class=\"token eol-comment comment\">\" Get all AUFK table locks</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'ENQUEUE_READ'</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    gname                 <span class=\"token operator\">=</span> <span class=\"token string\">'AUFK'</span>\n    guname                <span class=\"token operator\">=</span> <span class=\"token string\">'*'</span>              <span class=\"token eol-comment comment\">\" Users (all)</span>\n  <span class=\"token keyword\">TABLES</span>\n    enq                   <span class=\"token operator\">=</span> gt_enq\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    communication_failure <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    system_failure        <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">OTHERS</span>                <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">EXIT</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Get all user sessions</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> server_info<span class=\"token punctuation\">.</span>\ngt_session_list <span class=\"token operator\">=</span> server_info<span class=\"token token-operator punctuation\">-></span>get_session_list<span class=\"token punctuation\">(</span> with_application_info <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Loop through each locked object (production orders)</span>\n<span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_enq <span class=\"token keyword\">INTO</span> gs_enq<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Auftrag and Tcode for nice printing in the messages</span>\n  gv_tcode <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gtcode<span class=\"token punctuation\">.</span>\n  gv_aufnr_string <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>garg+<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SHIFT</span> gv_aufnr_string <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">DELETING</span> <span class=\"token keyword\">LEADING</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONDENSE</span> gv_tcode<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" We keep only the orders that have the status FREI ---> stat </span><span class=\"token string\">'I0002'</span> <span class=\"token keyword\">in</span> <span class=\"token keyword\">table</span> JEST\n  gv_aufnr <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>garg+<span class=\"token number\">3</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" GARG for aufnr is in the format </span><span class=\"token string\">'10000000XXXXXXX'</span> therefore <span class=\"token keyword\">with</span> +<span class=\"token number\">3</span> we should have the <span class=\"token keyword\">standard</span> aufnr <span class=\"token keyword\">format</span> 00000XXXXXXX <span class=\"token punctuation\">(</span><span class=\"token number\">12</span> CHAR <span class=\"token keyword\">long</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token eol-comment comment\">\" Only orders with type 10 or 40 (production and proess orders)</span>\n  <span class=\"token keyword\">CLEAR</span> gv_autyp<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> autyp <span class=\"token keyword\">FROM</span> aufk <span class=\"token keyword\">INTO</span> gv_autyp\n    <span class=\"token keyword\">WHERE</span> aufnr <span class=\"token keyword\">EQ</span> gv_aufnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> gv_autyp <span class=\"token keyword\">NE</span> <span class=\"token string\">'10'</span> <span class=\"token keyword\">AND</span> gv_autyp <span class=\"token keyword\">NE</span> <span class=\"token string\">'40'</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DELETE</span> gt_enq <span class=\"token keyword\">INDEX</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" delete this line</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" and go on to the next lock object in gt_enq</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Also check JEST table - first format to OR0000XXXXXXX form</span>\n  <span class=\"token keyword\">CLEAR</span> gv_objnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'OR'</span> gv_aufnr <span class=\"token keyword\">INTO</span> gv_objnr<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> stat <span class=\"token keyword\">FROM</span> jest <span class=\"token keyword\">INTO</span> gv_stat\n    <span class=\"token keyword\">WHERE</span> objnr <span class=\"token keyword\">EQ</span> gv_objnr\n    <span class=\"token keyword\">AND</span>   stat  <span class=\"token keyword\">EQ</span> <span class=\"token string\">'I0002'</span>\n    <span class=\"token keyword\">AND</span>   inact <span class=\"token keyword\">EQ</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" FREI status not found, delete the entry</span>\n    <span class=\"token keyword\">DELETE</span> gt_enq <span class=\"token keyword\">INDEX</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" delete this line</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" and go on to the next lock object in gt_enq</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Determine how long object has been locked</span>\n  <span class=\"token keyword\">IF</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime <span class=\"token keyword\">GT</span> gv_uzeit<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" check to make sure the current time is at least as big as the lock time - otherwise we get giant times 23:59:59 when subtracting</span>\n    <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" if this is the case, go to the next locked object</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  gv_time_dif_sperr <span class=\"token operator\">=</span> gv_uzeit <span class=\"token operator\">-</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" locked object time calculation itself is simple, difference of current time and time when it was first locked</span>\n\n  <span class=\"token eol-comment comment\">\" Finally take action depending on the time 15 minute most sever, 10 minute strong warning, 5 minute weak warning.</span>\n  <span class=\"token keyword\">IF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'001500'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" kill the user sessions after 15 minutes - will kill those that are in the transaction of the locked object</span>\n\n    <span class=\"token keyword\">CLEAR</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_session_list <span class=\"token keyword\">INTO</span> gs_session_list <span class=\"token keyword\">WHERE</span> tenant <span class=\"token keyword\">EQ</span> sy<span class=\"token token-operator punctuation\">-</span>mandt<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions to build a list of just the user sessions</span>\n\n      <span class=\"token eol-comment comment\">\" if a user is not in the given so, we continue (that means with exclude users, they are skipped, those with equals and all others keep going)</span>\n      <span class=\"token keyword\">IF</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">IN</span> so_bname<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      gv_user_name   <span class=\"token operator\">=</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>user_name<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Only add to list if user is current lock user - also get the session id for this user</span>\n      <span class=\"token keyword\">IF</span> gv_user_name <span class=\"token keyword\">EQ</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gv_modus_index<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CLEAR</span> gs_usr_info<span class=\"token punctuation\">.</span>\n        <span class=\"token eol-comment comment\">\" get detailed technical info for this user to find which specific session to close</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token string\">'ThUsrInfo'</span> <span class=\"token keyword\">ID</span> <span class=\"token string\">'OPCODE'</span> <span class=\"token keyword\">FIELD</span> opcode_usr_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TID'</span> <span class=\"token keyword\">FIELD</span> gs_session_list<span class=\"token token-operator punctuation\">-</span>logon_hdl\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'WITH_APPL_INFO'</span> <span class=\"token keyword\">FIELD</span> with_appl_info\n          <span class=\"token keyword\">ID</span> <span class=\"token string\">'TABLE'</span> <span class=\"token keyword\">FIELD</span> gt_usr_info[]<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONCATENATE</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gusrvb <span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">INTO</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" We need to use the </span><span class=\"token string\">'/UPD'</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">in</span> the technical info <span class=\"token keyword\">to</span> <span class=\"token keyword\">get</span> the <span class=\"token keyword\">exact</span> session <span class=\"token keyword\">assigned</span> <span class=\"token keyword\">to</span> the specific locked <span class=\"token keyword\">object</span>\n        <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">value</span> <span class=\"token keyword\">EQ</span> gv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" find the field from the value</span>\n          gv_modus_index <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>field+<span class=\"token number\">9</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" the key for the value is </span><span class=\"token string\">'modeinfo[X].enq_info'</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> we need just the <span class=\"token keyword\">X</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> so we +<span class=\"token number\">9</span> <span class=\"token keyword\">then</span> take the <span class=\"token keyword\">single</span> <span class=\"token keyword\">character</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n        <span class=\"token eol-comment comment\">\" If we found a session with that number, we know we had the correct logon... we can add this to the user list</span>\n        <span class=\"token keyword\">IF</span> gv_modus_index <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n          <span class=\"token eol-comment comment\">\" convert to type ssi_session_handle for later lookup</span>\n          gv_modus_num_found <span class=\"token operator\">=</span> gv_modus_index<span class=\"token punctuation\">.</span>\n          <span class=\"token eol-comment comment\">\" get the session id for this specific</span>\n          <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'modeinfo['</span> gv_modus_index <span class=\"token string\">'].session'</span> <span class=\"token keyword\">INTO</span> gv_field<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this time we need to find the value from the field</span>\n          <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_usr_info <span class=\"token keyword\">INTO</span> gs_usr_info <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">field</span> <span class=\"token keyword\">EQ</span> gv_field<span class=\"token punctuation\">.</span>\n            gv_ssi_session_id <span class=\"token operator\">=</span> gs_usr_info<span class=\"token token-operator punctuation\">-</span>value<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> gs_session_list <span class=\"token keyword\">TO</span> gt_sessions_user<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token eol-comment comment\">\" last step is the bdc index - no matter what the order of the dynpro numbers or if there are skips between the numbers, the BDC is always 01, 02, 03, 04... counting number so we need sy-tabix</span>\n    <span class=\"token keyword\">IF</span> gt_sessions_user <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" check if there is anything for the user sessions, or if the index found</span>\n      <span class=\"token keyword\">SORT</span> gt_sessions_user <span class=\"token keyword\">BY</span> session_hdl <span class=\"token keyword\">ASCENDING</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" this is how they are shown in the gui, so since we are using bdc we also have to do this</span>\n      <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> gt_sessions_user <span class=\"token keyword\">INTO</span> gs_sessions_user<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" loop at all open sessions for the USER within the correct logon ID</span>\n        gv_modus_num   <span class=\"token operator\">=</span> gs_sessions_user<span class=\"token token-operator punctuation\">-</span>session_hdl<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" current session</span>\n        <span class=\"token eol-comment comment\">\" Kill only the session from the table that matches the index of the modus found</span>\n        <span class=\"token keyword\">IF</span> gv_modus_num <span class=\"token operator\">=</span> gv_modus_num_found<span class=\"token punctuation\">.</span>\n          gv_modus_index_char <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>tabix<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" then the index of the modus for this user is sy-tabix - we need the index, rather than the actual number of the session for the BDC</span>\n          <span class=\"token keyword\">CLEAR</span> gv_modus_string<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'MODUS-MTCODE(0'</span> gv_modus_index_char <span class=\"token string\">')'</span> <span class=\"token keyword\">INTO</span> gv_modus_string<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" build the bdcfield name using the index of where in the user's list the</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">IF</span> gv_modus_index_char <span class=\"token keyword\">EQ</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Then we have the false server and we have to continue ahead</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" First ensure that sm04 is called and set to the sessions view</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=SESSIONS'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now use bdc to end the session with that session id</span>\n      <span class=\"token keyword\">CLEAR</span> bdcdata[]<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;OL0'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=WLSE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'GT_FIELD_LIST-MARK(01)'</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSKBH'</span> <span class=\"token string\">'0800'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'GT_FIELD_LIST-SELTEXT(01)'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CONT'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSKBH                                0810SUB810'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/03'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=PS 63'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'02/76'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;ILT'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPLSSEL'</span> <span class=\"token string\">'1104'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=CRET'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_SUBSCR'</span> <span class=\"token string\">'SAPLSSEL                                1105%_SUBSCREEN_FREESEL'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'%%DYN001-LOW'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'%%DYN001-LOW'</span> gv_ssi_session_id<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;IC1'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'RSM04000_ALV_NEW'</span> <span class=\"token string\">'2000'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> gv_modus_string<span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=DEL'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">PERFORM</span> bdcdaten <span class=\"token keyword\">USING</span><span class=\"token punctuation\">:</span>\n        <span class=\"token string\">'X'</span> <span class=\"token string\">'SAPMSSY0'</span> <span class=\"token string\">'0120'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_CURSOR'</span> <span class=\"token string\">'04/15'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">' '</span> <span class=\"token string\">'BDC_OKCODE'</span> <span class=\"token string\">'=&amp;F15'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token eol-comment comment\">\" call transaction SM04, sync (S), no screens unless debugger (P)</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">TRANSACTION</span> <span class=\"token string\">'SM04'</span>\n              <span class=\"token keyword\">USING</span> bdcdata\n              <span class=\"token keyword\">MODE</span> <span class=\"token string\">'P'</span>\n              <span class=\"token keyword\">UPDATE</span> <span class=\"token string\">'S'</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" proper logging. times, order number, and transaction added as well as</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'User session from user '</span><span class=\"token punctuation\">,</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname<span class=\"token punctuation\">,</span> <span class=\"token string\">'with session number'</span><span class=\"token punctuation\">,</span> gv_modus_index_char<span class=\"token punctuation\">,</span> <span class=\"token string\">'was deleted.'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'System Time (sy-uzeit): '</span><span class=\"token punctuation\">,</span> gv_uzeit<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Object Lock Time Length:'</span><span class=\"token punctuation\">,</span> gs_enq<span class=\"token token-operator punctuation\">-</span>gttime<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Lock Time: '</span><span class=\"token punctuation\">,</span> gv_time_dif_sperr<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Order: '</span><span class=\"token punctuation\">,</span> gv_aufnr_string<span class=\"token punctuation\">,</span> <span class=\"token string\">',Transaction'</span><span class=\"token punctuation\">,</span> gv_tcode<span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'SO_STRUCT_TO_CHAR'</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          ip_struct <span class=\"token operator\">=</span> gs_enq\n        <span class=\"token keyword\">IMPORTING</span>\n          ep_string <span class=\"token operator\">=</span> gv_string<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONDENSE</span> gv_string<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">WRITE</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span> <span class=\"token string\">'Lock object entry contains:'</span><span class=\"token punctuation\">,</span> gv_string<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSEIF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'001000'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Second warning message after 10 minutes</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">' in TC '</span> gv_tcode <span class=\"token string\">' still. Please save and leave the transaction, otherwise your session will be ended in 5 min. Thank you!'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSEIF</span> gv_time_dif_sperr <span class=\"token operator\">></span> <span class=\"token string\">'000500'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" First warning message after 5 minutes</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'You are locking'</span> gv_aufnr_string <span class=\"token string\">'in TC'</span> gv_tcode <span class=\"token string\">' for >5min. Please save and leave the transaction.'</span> <span class=\"token keyword\">INTO</span> gv_message <span class=\"token keyword\">SEPARATED</span> <span class=\"token keyword\">BY</span> <span class=\"token keyword\">space</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'TH_POPUP'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">client</span>         <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>mandt\n        <span class=\"token keyword\">user</span>           <span class=\"token operator\">=</span> gs_enq<span class=\"token token-operator punctuation\">-</span>guname\n        <span class=\"token keyword\">message</span>        <span class=\"token operator\">=</span> gv_message\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        user_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token comment\">*&amp;      Form  BDCDATEN</span>\n<span class=\"token comment\">*&amp;---------------------------------------------------------------------*</span>\n<span class=\"token keyword\">FORM</span> bdcdaten <span class=\"token keyword\">USING</span> start fnam fval<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> bdcdata<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> start <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynbegin <span class=\"token operator\">=</span> start<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>program  <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>dynpro   <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fnam <span class=\"token operator\">=</span> fnam<span class=\"token punctuation\">.</span>\n    bdcdata<span class=\"token token-operator punctuation\">-</span>fval <span class=\"token operator\">=</span> fval<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> bdcdata<span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">ENDFORM</span><span class=\"token punctuation\">.</span>                               <span class=\"token eol-comment comment\">\" BDCDATEN</span>\n</code></pre>\n      </div>\n<p>Whew. That‚Äôs about it for this one, hope you enjoyed!</p>"},{"id":"transformer-remark-markdown-ast-604da4026beb522846769a93a98b4a50-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Led Zeppelin Data Analysis for Lyric Generation and Inspiration\ndate: \"2018-07-26\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":114},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":7,"column":1,"offset":118},"end":{"line":7,"column":3,"offset":120},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":7,"column":3,"offset":120},"end":{"line":7,"column":5,"offset":122},"indent":[]}},{"type":"text","value":"*","position":{"start":{"line":7,"column":5,"offset":122},"end":{"line":7,"column":7,"offset":124},"indent":[]}},{"type":"text","value":"Note: this post is mirrored on NLP Champs: ","position":{"start":{"line":7,"column":7,"offset":124},"end":{"line":7,"column":50,"offset":167},"indent":[]}},{"type":"link","title":null,"url":"https://nlp-champs.com/led-zeppelin-data-analysis-for-lyric-generation-and-inspiration","children":[{"type":"text","value":"https://nlp-champs.com/led-zeppelin-data-analysis-for-lyric-generation-and-inspiration","position":{"start":{"line":7,"column":51,"offset":168},"end":{"line":7,"column":137,"offset":254},"indent":[]}}],"position":{"start":{"line":7,"column":50,"offset":167},"end":{"line":7,"column":226,"offset":343},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":118},"end":{"line":7,"column":226,"offset":343},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Inspiration and Motivation","position":{"start":{"line":9,"column":4,"offset":350},"end":{"line":9,"column":30,"offset":376},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":347},"end":{"line":9,"column":30,"offset":376},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I‚Äôve been recently inspired by Greta Van Fleet, basically the latest band since the Black Keys that can truly rock. This naturally has gotten me listening to Led Zeppelin again as well, and I‚Äôve even been getting back to writing a few classic rock style tunes with my acoustic guitar. This was a neat little project I threw together in order to try to generate some new lyrics, and also to see what could make those Led Zeppelin / Greta Van Fleet lyrics just so‚Ä¶ ","position":{"start":{"line":11,"column":1,"offset":380},"end":{"line":11,"column":466,"offset":845},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"zepplin-ey","position":{"start":{"line":11,"column":467,"offset":846},"end":{"line":11,"column":477,"offset":856},"indent":[]}}],"position":{"start":{"line":11,"column":466,"offset":845},"end":{"line":11,"column":478,"offset":857},"indent":[]}},{"type":"text","value":" üòÑ","position":{"start":{"line":11,"column":478,"offset":857},"end":{"line":11,"column":481,"offset":860},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":380},"end":{"line":11,"column":481,"offset":860},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Important: I‚Äôm Lazy.","position":{"start":{"line":13,"column":4,"offset":867},"end":{"line":13,"column":24,"offset":887},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":864},"end":{"line":13,"column":24,"offset":887},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Yep, if anyone out there has been following along in my blogging adventures, you‚Äôll know that I‚Äôm lazy. Anything that can be automated, I‚Äôm going to try to automate it! (Or in the very least, partially automate it or find a tool to use to make my life easier.) Actually, the entire concept of this post reflects my laziness: I‚Äôm willing to make a tool that generates lyrics ","position":{"start":{"line":15,"column":1,"offset":891},"end":{"line":15,"column":375,"offset":1265},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"for","position":{"start":{"line":15,"column":376,"offset":1266},"end":{"line":15,"column":379,"offset":1269},"indent":[]}}],"position":{"start":{"line":15,"column":375,"offset":1265},"end":{"line":15,"column":380,"offset":1270},"indent":[]}},{"type":"text","value":" me before I visit my buddy this summer as we prepare to write an EP together! (Yikes! - I‚Äôll let you know how ","position":{"start":{"line":15,"column":380,"offset":1270},"end":{"line":15,"column":491,"offset":1381},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"that","position":{"start":{"line":15,"column":492,"offset":1382},"end":{"line":15,"column":496,"offset":1386},"indent":[]}}],"position":{"start":{"line":15,"column":491,"offset":1381},"end":{"line":15,"column":497,"offset":1387},"indent":[]}},{"type":"text","value":" goes!)","position":{"start":{"line":15,"column":497,"offset":1387},"end":{"line":15,"column":504,"offset":1394},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":891},"end":{"line":15,"column":504,"offset":1394},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Getting the List of Song Names","position":{"start":{"line":17,"column":4,"offset":1401},"end":{"line":17,"column":34,"offset":1431},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1398},"end":{"line":17,"column":34,"offset":1431},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There‚Äôs this neat tool that I found that extracts lists from Wikipedia pages: ","position":{"start":{"line":19,"column":1,"offset":1435},"end":{"line":19,"column":79,"offset":1513},"indent":[]}},{"type":"link","title":null,"url":"http://wikitable2csv.ggor.de/","children":[{"type":"text","value":"http://wikitable2csv.ggor.de/","position":{"start":{"line":19,"column":79,"offset":1513},"end":{"line":19,"column":108,"offset":1542},"indent":[]}}],"position":{"start":{"line":19,"column":79,"offset":1513},"end":{"line":19,"column":108,"offset":1542},"indent":[]}},{"type":"text","value":", built by Gregor Weichbrodt. Nice one, Gregor! And‚Ä¶ (yes you can see where this is going) of course, Wikipedia has a list for everything ","position":{"start":{"line":19,"column":108,"offset":1542},"end":{"line":19,"column":248,"offset":1682},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":19,"column":248,"offset":1682},"end":{"line":19,"column":253,"offset":1687},"indent":[]}},{"type":"text","value":"TM","position":{"start":{"line":19,"column":253,"offset":1687},"end":{"line":19,"column":255,"offset":1689},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":19,"column":255,"offset":1689},"end":{"line":19,"column":261,"offset":1695},"indent":[]}},{"type":"text","value":" (no, that is not actually trademarked) And guess what? They have a ‚ÄúList of songs recorded by Led Zeppelin‚Äù page! ","position":{"start":{"line":19,"column":261,"offset":1695},"end":{"line":19,"column":376,"offset":1810},"indent":[]}},{"type":"link","title":null,"url":"https://en.wikipedia.org/wiki/List_of_songs_recorded_by_Led_Zeppelin","children":[{"type":"text","value":"https://en.wikipedia.org/wiki/List","position":{"start":{"line":19,"column":377,"offset":1811},"end":{"line":19,"column":411,"offset":1845},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":411,"offset":1845},"end":{"line":19,"column":413,"offset":1847},"indent":[]}},{"type":"text","value":"of","position":{"start":{"line":19,"column":413,"offset":1847},"end":{"line":19,"column":415,"offset":1849},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":415,"offset":1849},"end":{"line":19,"column":417,"offset":1851},"indent":[]}},{"type":"text","value":"songs","position":{"start":{"line":19,"column":417,"offset":1851},"end":{"line":19,"column":422,"offset":1856},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":422,"offset":1856},"end":{"line":19,"column":424,"offset":1858},"indent":[]}},{"type":"text","value":"recorded","position":{"start":{"line":19,"column":424,"offset":1858},"end":{"line":19,"column":432,"offset":1866},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":432,"offset":1866},"end":{"line":19,"column":434,"offset":1868},"indent":[]}},{"type":"text","value":"by","position":{"start":{"line":19,"column":434,"offset":1868},"end":{"line":19,"column":436,"offset":1870},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":436,"offset":1870},"end":{"line":19,"column":438,"offset":1872},"indent":[]}},{"type":"text","value":"Led","position":{"start":{"line":19,"column":438,"offset":1872},"end":{"line":19,"column":441,"offset":1875},"indent":[]}},{"type":"text","value":"_","position":{"start":{"line":19,"column":441,"offset":1875},"end":{"line":19,"column":443,"offset":1877},"indent":[]}},{"type":"text","value":"Zeppelin","position":{"start":{"line":19,"column":443,"offset":1877},"end":{"line":19,"column":451,"offset":1885},"indent":[]}}],"position":{"start":{"line":19,"column":376,"offset":1810},"end":{"line":19,"column":522,"offset":1956},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1435},"end":{"line":19,"column":522,"offset":1956},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Throw that into Gregor‚Äôs tool, and you‚Äôve got your .csv data, which with 5 seconds work with Sublime text, becomes our song list:","position":{"start":{"line":21,"column":1,"offset":1960},"end":{"line":21,"column":130,"offset":2089},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1960},"end":{"line":21,"column":130,"offset":2089},"indent":[]}},{"type":"html","lang":"python","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code>lSongNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"10 Ribs &amp; All/Carrot Pod Pod\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Achilles Last Stand\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"All My Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Babe I'm Gonna Leave You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Baby Come On Home\"</span> <span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bathroom Sound\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Battle of Evermore\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Country Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Blot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bonzo's Montreux\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Boogie with Stu\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Brandy &amp; Coke\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bring It On Home\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Y-Aur Stomp\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Yr-Aur\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Candy Store Rock\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Carouselambra\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Celebration Day\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Communication Breakdown\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Crunge\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Custard Pie\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"C'mon Everybody\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dancing Days\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Darlene\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dazed and Confused\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Desire\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Down by the Seaside\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Driving Through Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"D'yer Mak'er\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Epic\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Everybody Makes It Through\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Fool in the Rain\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"For Your Life\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Sticks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Hands\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Friends\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Gallows Pole\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Girl I Love She Got Long Black Wavy Hair\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Going to California\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Good Times Bad Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hats Off to (Roy) Harper\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Heartbreaker\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hey, Hey, What Can I Do\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Hook\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hot Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hots On for Nowhere\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Houses of the Holy\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"How Many More Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I Can't Quit You Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"If It Keeps On Raining\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I'm Gonna Crawl\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Immigrant Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In My Time of Dying\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Evening\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Light\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Jennings Farm Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Key to the Highway/Trouble in Mind\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"LA Drone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"La La\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Lemon Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Living Loving Maid (She's Just a Woman)\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Misty Mountain Hop\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Moby Dick\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Night Flight\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Nobody's Fault but Mine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"No Quarter\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Ocean\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Out on the Tiles\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Over the Hills and Far Away\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ozone Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Poor Tom\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rain Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ramble On\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Rock and Roll\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rover\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Royal Orleans\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sick Again\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Since I've Been Loving You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Somethin' Else\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Song Remains the Same\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"South Bound Saurez\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Southbound Piano\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"St. Tristan's Sword\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Stairway to Heaven\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sugar Mama\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sunshine Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tangerine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tea for One\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ten Years Gone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Thank You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"That's the Way\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Trampled Under Foot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Travelling Riverside Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Two Ones Are Won\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Walter's Walk\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Wanton Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Wearing and Tearing\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"We're Gonna Groove\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"What Is and What Should Never Be\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"When the Levee Breaks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"White Summer/Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Whole Lotta Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"You Shook Me\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Your Time Is Gonna Come\"</span><span class=\"token punctuation\">]</span>\n</code></pre>\n      </div>","position":{"start":{"line":23,"column":1,"offset":2093},"end":{"line":131,"column":4,"offset":4377},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Getting Lyrics for Each Song","position":{"start":{"line":133,"column":4,"offset":4384},"end":{"line":133,"column":32,"offset":4412},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4381},"end":{"line":133,"column":32,"offset":4412},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So great, we‚Äôve got our list of songs in Python syntax. We need the actual ","position":{"start":{"line":135,"column":1,"offset":4416},"end":{"line":135,"column":76,"offset":4491},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"lyrics","position":{"start":{"line":135,"column":77,"offset":4492},"end":{"line":135,"column":83,"offset":4498},"indent":[]}}],"position":{"start":{"line":135,"column":76,"offset":4491},"end":{"line":135,"column":84,"offset":4499},"indent":[]}},{"type":"text","value":" now. And yes, I‚Äôm going to continue this post‚Äôs laziness theme! I could go to Google, copy, and paste song lyrics for each of those Led Zeppelin songs, but hey, zep has over 100 songs! No way I‚Äôm that un-lazy. Let‚Äôs automate it.","position":{"start":{"line":135,"column":84,"offset":4499},"end":{"line":135,"column":313,"offset":4728},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":4416},"end":{"line":135,"column":313,"offset":4728},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Luckily, there is yet ","position":{"start":{"line":137,"column":1,"offset":4732},"end":{"line":137,"column":23,"offset":4754},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"another","position":{"start":{"line":137,"column":24,"offset":4755},"end":{"line":137,"column":31,"offset":4762},"indent":[]}}],"position":{"start":{"line":137,"column":23,"offset":4754},"end":{"line":137,"column":32,"offset":4763},"indent":[]}},{"type":"text","value":" tool that can help us! Enter ","position":{"start":{"line":137,"column":32,"offset":4763},"end":{"line":137,"column":62,"offset":4793},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"figurative drum roll please‚Ä¶","position":{"start":{"line":137,"column":63,"offset":4794},"end":{"line":137,"column":93,"offset":4824},"indent":[]}}],"position":{"start":{"line":137,"column":62,"offset":4793},"end":{"line":137,"column":94,"offset":4825},"indent":[]}},{"type":"text","value":" ü•Åü•Åü•Å LyricWikia, written by enricobacis on GitHub: ","position":{"start":{"line":137,"column":94,"offset":4825},"end":{"line":137,"column":148,"offset":4879},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/enricobacis/lyricwikia","children":[{"type":"text","value":"https://github.com/enricobacis/lyricwikia","position":{"start":{"line":137,"column":148,"offset":4879},"end":{"line":137,"column":189,"offset":4920},"indent":[]}}],"position":{"start":{"line":137,"column":148,"offset":4879},"end":{"line":137,"column":189,"offset":4920},"indent":[]}},{"type":"text","value":" (I mean, c‚Äômon, the example in the README is even Led Zeppelin‚Äôs Stairway to Heaven!)","position":{"start":{"line":137,"column":189,"offset":4920},"end":{"line":137,"column":275,"offset":5006},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":4732},"end":{"line":137,"column":275,"offset":5006},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, we‚Äôre basically done. We loop over our songs and write the retrieved lyrics to their own file. We are also going to write a ‚Äòglobal‚Äô lyrics file - simply all the lyrics strings concatenated together to a file called ","position":{"start":{"line":139,"column":1,"offset":5010},"end":{"line":139,"column":221,"offset":5230},"indent":[]}},{"type":"inlineCode","value":"input.txt","position":{"start":{"line":139,"column":221,"offset":5230},"end":{"line":139,"column":232,"offset":5241},"indent":[]}},{"type":"text","value":" ‚Äî> don‚Äôt worry; I‚Äôm not crazy, this will be important later. Data retrieval code is done and looks like this:","position":{"start":{"line":139,"column":232,"offset":5241},"end":{"line":139,"column":343,"offset":5352},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":5010},"end":{"line":139,"column":343,"offset":5352},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"get_lyrics.py","position":{"start":{"line":141,"column":1,"offset":5356},"end":{"line":141,"column":16,"offset":5371},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":5356},"end":{"line":141,"column":16,"offset":5371},"indent":[]}},{"type":"html","lang":"python","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> lyricwikia\n\nlSongNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"10 Ribs &amp; All/Carrot Pod Pod\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Achilles Last Stand\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"All My Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Babe I'm Gonna Leave You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Baby Come On Home\"</span> <span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bathroom Sound\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Battle of Evermore\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Country Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Blot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bonzo's Montreux\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Boogie with Stu\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Brandy &amp; Coke\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bring It On Home\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Y-Aur Stomp\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Yr-Aur\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Candy Store Rock\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Carouselambra\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Celebration Day\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Communication Breakdown\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Crunge\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Custard Pie\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"C'mon Everybody\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dancing Days\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Darlene\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dazed and Confused\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Desire\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Down by the Seaside\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Driving Through Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"D'yer Mak'er\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Epic\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Everybody Makes It Through\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Fool in the Rain\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"For Your Life\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Sticks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Hands\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Friends\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Gallows Pole\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Girl I Love She Got Long Black Wavy Hair\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Going to California\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Good Times Bad Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hats Off to (Roy) Harper\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Heartbreaker\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hey, Hey, What Can I Do\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Hook\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hot Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hots On for Nowhere\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Houses of the Holy\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"How Many More Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I Can't Quit You Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"If It Keeps On Raining\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I'm Gonna Crawl\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Immigrant Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In My Time of Dying\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Evening\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Light\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Jennings Farm Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Key to the Highway/Trouble in Mind\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"LA Drone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"La La\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Lemon Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Living Loving Maid (She's Just a Woman)\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Misty Mountain Hop\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Moby Dick\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Night Flight\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Nobody's Fault but Mine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"No Quarter\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Ocean\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Out on the Tiles\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Over the Hills and Far Away\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ozone Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Poor Tom\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rain Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ramble On\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Rock and Roll\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rover\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Royal Orleans\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sick Again\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Since I've Been Loving You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Somethin' Else\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Song Remains the Same\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"South Bound Saurez\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Southbound Piano\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"St. Tristan's Sword\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Stairway to Heaven\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sugar Mama\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sunshine Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tangerine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tea for One\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ten Years Gone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Thank You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"That's the Way\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Trampled Under Foot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Travelling Riverside Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Two Ones Are Won\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Walter's Walk\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Wanton Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Wearing and Tearing\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"We're Gonna Groove\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"What Is and What Should Never Be\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"When the Levee Breaks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"White Summer/Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Whole Lotta Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"You Shook Me\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Your Time Is Gonna Come\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> sSongName <span class=\"token keyword\">in</span> lSongNames<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        sLyrics <span class=\"token operator\">=</span> lyricwikia<span class=\"token punctuation\">.</span>get_lyrics<span class=\"token punctuation\">(</span><span class=\"token string\">'Led Zeppelin'</span><span class=\"token punctuation\">,</span> sSongName<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> <span class=\"token string\">\"Lyrics not found for \"</span> <span class=\"token operator\">+</span> sSongName\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        sFileName <span class=\"token operator\">=</span> sSongName<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"'\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># will cause weird file names</span>\n        sFileName <span class=\"token operator\">=</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># dashes where each space is</span>\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lyrics/\"</span> <span class=\"token operator\">+</span> sFileName <span class=\"token operator\">+</span> <span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span> \n            f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>sLyrics<span class=\"token punctuation\">)</span>\n            f<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Lyrics saved for \"</span> <span class=\"token operator\">+</span> sSongName\n</code></pre>\n      </div>","position":{"start":{"line":142,"column":1,"offset":5373},"end":{"line":266,"column":4,"offset":8188},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The songs that failed through the first pass were:","position":{"start":{"line":268,"column":1,"offset":8192},"end":{"line":268,"column":51,"offset":8242},"indent":[]}}],"position":{"start":{"line":268,"column":1,"offset":8192},"end":{"line":268,"column":51,"offset":8242},"indent":[]}},{"type":"html","lang":"txt","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-txt\"><code>10 Ribs & All/Carrot Pod Pod\nBathroom Sound\nBlot\nBrandy & Coke\nDesire\nDriving Through Kashmir\nThe Epic\nFour Hands\nHey, Hey, What Can I Do\nThe Hook\nIf It Keeps On Raining\nJennings Farm Blues\nKey to the Highway/Trouble in Mind\nLA Drone\nLa La\nSouthbound Piano\nSt. Tristan's Sword\nTwo Ones Are Won</code></pre>\n      </div>","position":{"start":{"line":270,"column":1,"offset":8246},"end":{"line":289,"column":4,"offset":8569},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Not so bad- we‚Äôve retrieved what is the vast majority of Led Zeppelin‚Äôs lyrics in a matter of minutes. However, I‚Äôm still too lazy to get these lyrics by hand - I‚Äôm not gonna add ‚Äòem. üòÇ","position":{"start":{"line":291,"column":1,"offset":8573},"end":{"line":291,"column":187,"offset":8759},"indent":[]}}],"position":{"start":{"line":291,"column":1,"offset":8573},"end":{"line":291,"column":187,"offset":8759},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Data Analysis - Word Occurrences","position":{"start":{"line":293,"column":4,"offset":8766},"end":{"line":293,"column":36,"offset":8798},"indent":[]}}],"position":{"start":{"line":293,"column":1,"offset":8763},"end":{"line":293,"column":36,"offset":8798},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So we‚Äôve retrieved our data. I wanted to count most common words as a simple start to analyze these lyrics. So, relying heavily on ","position":{"start":{"line":295,"column":1,"offset":8802},"end":{"line":295,"column":132,"offset":8933},"indent":[]}},{"type":"inlineCode","value":"nltk","position":{"start":{"line":295,"column":132,"offset":8933},"end":{"line":295,"column":138,"offset":8939},"indent":[]}},{"type":"text","value":" (Natural Language Toolkit) we build a corpus from all the lyrics, remove the stopwords, and count the occurrences with Python‚Äôs ","position":{"start":{"line":295,"column":138,"offset":8939},"end":{"line":295,"column":267,"offset":9068},"indent":[]}},{"type":"inlineCode","value":"Counter","position":{"start":{"line":295,"column":267,"offset":9068},"end":{"line":295,"column":276,"offset":9077},"indent":[]}},{"type":"text","value":" module. That is:","position":{"start":{"line":295,"column":276,"offset":9077},"end":{"line":295,"column":293,"offset":9094},"indent":[]}}],"position":{"start":{"line":295,"column":1,"offset":8802},"end":{"line":295,"column":293,"offset":9094},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"word_counts.py","position":{"start":{"line":297,"column":1,"offset":9098},"end":{"line":297,"column":17,"offset":9114},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":297,"column":17,"offset":9114},"end":{"line":297,"column":18,"offset":9115},"indent":[]}}],"position":{"start":{"line":297,"column":1,"offset":9098},"end":{"line":297,"column":18,"offset":9115},"indent":[]}},{"type":"html","lang":"python","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> nltk\n<span class=\"token keyword\">from</span> nltk<span class=\"token punctuation\">.</span>corpus <span class=\"token keyword\">import</span> stopwords\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> Counter\n\n<span class=\"token keyword\">from</span> nltk<span class=\"token punctuation\">.</span>corpus<span class=\"token punctuation\">.</span>reader<span class=\"token punctuation\">.</span>plaintext <span class=\"token keyword\">import</span> PlaintextCorpusReader\n\nstop_words <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>stopwords<span class=\"token punctuation\">.</span>words<span class=\"token punctuation\">(</span><span class=\"token string\">'english'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># not interested in stop words</span>\nstop_words<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">','</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"',\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\"'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"'\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'?'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">';'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'['</span><span class=\"token punctuation\">,</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'{'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'}'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ... or punctuation</span>\n\ncorpusdir <span class=\"token operator\">=</span> <span class=\"token string\">'lyrics/'</span> <span class=\"token comment\"># Directory of corpus.</span>\noLedZeppelinCorpus <span class=\"token operator\">=</span> PlaintextCorpusReader<span class=\"token punctuation\">(</span>corpusdir<span class=\"token punctuation\">,</span> <span class=\"token string\">'.*'</span><span class=\"token punctuation\">)</span>\n\nlNoStopWords <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> sWord <span class=\"token keyword\">in</span> oLedZeppelinCorpus<span class=\"token punctuation\">.</span>words<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> sWord <span class=\"token operator\">not</span> <span class=\"token keyword\">in</span> stop_words<span class=\"token punctuation\">:</span>\n        lNoStopWords<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>sWord<span class=\"token punctuation\">)</span>\n\nlNoStopWordsLength <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lNoStopWords<span class=\"token punctuation\">)</span>\nwordCounts <span class=\"token operator\">=</span> Counter<span class=\"token punctuation\">(</span>lNoStopWords<span class=\"token punctuation\">)</span>\nwordCountsLower <span class=\"token operator\">=</span> Counter<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> lNoStopWords<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># top 25</span>\nlCountLabels<span class=\"token punctuation\">,</span> lCountValues <span class=\"token operator\">=</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>wordCountsLower<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">25</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nlCountIndexes <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lCountLabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\niCountWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nbarlist <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>bar<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountValues<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>barlist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># all bars to black</span>\n    barlist<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>set_color<span class=\"token punctuation\">(</span><span class=\"token string\">'black'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xticks<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountLabels<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">\"Word Occurrences in Led Zeppelin Lyrics\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Number of Occurrences Across All Songs'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Lyric'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># next 25</span>\nlCountLabels<span class=\"token punctuation\">,</span> lCountValues <span class=\"token operator\">=</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>wordCountsLower<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">25</span><span class=\"token punctuation\">:</span><span class=\"token number\">50</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nlCountIndexes <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lCountLabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\niCountWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nbarlist <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>bar<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountValues<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>barlist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># all bars to black</span>\n    barlist<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>set_color<span class=\"token punctuation\">(</span><span class=\"token string\">'black'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xticks<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountLabels<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">\"Word Occurrences in Led Zeppelin Lyrics\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Number of Occurrences Across All Songs'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Lyric'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>","position":{"start":{"line":298,"column":1,"offset":9117},"end":{"line":348,"column":4,"offset":10861},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The first plot, of the top 25 most common words, looks like this:","position":{"start":{"line":350,"column":1,"offset":10865},"end":{"line":350,"column":66,"offset":10930},"indent":[]}}],"position":{"start":{"line":350,"column":1,"offset":10865},"end":{"line":350,"column":66,"offset":10930},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"most_common.png","alt":"First 25 most common words","position":{"start":{"line":352,"column":1,"offset":10934},"end":{"line":352,"column":47,"offset":10980},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-c3cc6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.78124999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB7CAAAewgFu0HU+AAAA3UlEQVQoz62SOwqEQAyGPYyFhY2vxkJ7wUoEwUOItY2VrZ2n0iNY2dla+PaXDIzobrXuBH7IkMmXTCYSBJvEnXVd0bYttm17aBxHDMNw6TNOotzjOJ7AeZ5RFMWrrvZ9Z3oAp2kSBySYUCDNiYBpmqLvezEd0gw9z0OSJOi67j8g/RAHapoG0zRRVRUr9PpT7kBFUSDLMgzDQFmWqOv6SvgJGIYhHMeBZVnQdR2u6zLZtg1VVeH7PoIgQBzHiKIIWZYhz3M0TfMN5JVoSZdlYaKl5T49n2L3OD/TPW4nH4crDCeNOiYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First 25 most common words\"\n        title=\"\"\n        src=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-fb8a0.png\"\n        srcset=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-1a291.png 148w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-2bc4a.png 295w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-fb8a0.png 590w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-526de.png 885w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-fa2eb.png 1180w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-08f6a.png 1770w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-c3cc6.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":352,"column":1,"offset":10934},"end":{"line":352,"column":47,"offset":10980},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In a way, I think we‚Äôve found the ‚Äòstop words‚Äô of Led Zeppelin. üòÇ I could have almost expected ‚Äòbabe‚Äô and ‚Äòbaby‚Äô - it‚Äôs repeated so many times in so many of their songs. However, if we go a bit further down in the most common words, namely to the next set of 25 most common words, we see a bit more ‚Äòmeat‚Äô of the lyrics:","position":{"start":{"line":354,"column":1,"offset":10984},"end":{"line":354,"column":322,"offset":11305},"indent":[]}}],"position":{"start":{"line":354,"column":1,"offset":10984},"end":{"line":354,"column":322,"offset":11305},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"most_common_lower.png","alt":"25-50 most common words","position":{"start":{"line":356,"column":1,"offset":11309},"end":{"line":356,"column":50,"offset":11358},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-c3cc6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.78124999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB7CAAAewgFu0HU+AAAA+ElEQVQoz62Sy6mFMBCGTxuCSxciCD43io+VC/c2YQP2YDNybMC9W7ECSxDfj/8yAUVQuHAw8JFMEr5JMvng5fY5BtM0oa5rtG2LdV1PhmFgcwfXtYNlWbDv+10YhiF830eSJCjLEk3ToO/7f0+1bRvjUaiqKkRRhCAI0HUdpmnCtm0EQYA4jpGmKaMoClRVha7r7sJ5nhlPQkKWZfA8f8YEx3GsNwwD3+/3LqS3+kWoKAqyLLsLx3F8T0gV+vXKj8LjlK8KqcpRFMF1XVZZTdPgeR7DsixIknTGBCWl3nEc5Hl+F16rfYU+LSWjNyZojmLi2HPIqP0BGEx41K6UwkgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"25-50 most common words\"\n        title=\"\"\n        src=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fb8a0.png\"\n        srcset=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-1a291.png 148w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-2bc4a.png 295w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fb8a0.png 590w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-526de.png 885w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fa2eb.png 1180w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-08f6a.png 1770w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-c3cc6.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":356,"column":1,"offset":11309},"end":{"line":356,"column":50,"offset":11358},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"what I think is really neat here, almost zen-like, is that the group has managed to use the words ‚Äònight‚Äô and ‚Äòday‚Äô exactly the same number of times - 100.","position":{"start":{"line":358,"column":1,"offset":11362},"end":{"line":358,"column":156,"offset":11517},"indent":[]}}],"position":{"start":{"line":358,"column":1,"offset":11362},"end":{"line":358,"column":156,"offset":11517},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Data Analysis - Markov Chains","position":{"start":{"line":360,"column":4,"offset":11524},"end":{"line":360,"column":33,"offset":11553},"indent":[]}}],"position":{"start":{"line":360,"column":1,"offset":11521},"end":{"line":360,"column":33,"offset":11553},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once again I revisited Markov Chains - what‚Äôs better than to get some inspiration from poorly written robot lyrics? Since I‚Äôve only worked with Markov Chains in Nodejs before, I had to look around for a . I ended up borrowing a lot from this very basic implementation from Toward‚Äôs Data Science‚Äôs Medium channel: ","position":{"start":{"line":362,"column":1,"offset":11557},"end":{"line":362,"column":314,"offset":11870},"indent":[]}},{"type":"link","title":null,"url":"https://towardsdatascience.com/simulating-text-with-markov-chains-in-python-1a27e6d13fc6","children":[{"type":"text","value":"https://towardsdatascience.com/simulating-text-with-markov-chains-in-python-1a27e6d13fc6","position":{"start":{"line":362,"column":314,"offset":11870},"end":{"line":362,"column":402,"offset":11958},"indent":[]}}],"position":{"start":{"line":362,"column":314,"offset":11870},"end":{"line":362,"column":402,"offset":11958},"indent":[]}}],"position":{"start":{"line":362,"column":1,"offset":11557},"end":{"line":362,"column":402,"offset":11958},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"-","position":{"start":{"line":364,"column":3,"offset":11965},"end":{"line":364,"column":5,"offset":11967},"indent":[]}},{"type":"text","value":" ma - ooh , in my heart You know the , didn ‚Äô t take it told me go If it ‚Äô t have to know where you there where the downhill slide Oh , make ya know , now I couldn ‚Äô ve decided what the wind won ‚Äô","position":{"start":{"line":364,"column":5,"offset":11967},"end":{"line":364,"column":201,"offset":12163},"indent":[]}}],"position":{"start":{"line":364,"column":3,"offset":11965},"end":{"line":364,"column":201,"offset":12163},"indent":[]}}],"position":{"start":{"line":364,"column":1,"offset":11963},"end":{"line":364,"column":201,"offset":12163},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"‚Äô d do , honey As we sweep with death The Queen of the storm who really good friend They give to care if you now , They say ‚Äù Take him by takin ‚Äô m - la ) Spend it has ! Feel it ain ‚Äô on the way back","position":{"start":{"line":366,"column":3,"offset":12170},"end":{"line":366,"column":202,"offset":12369},"indent":[]}}],"position":{"start":{"line":366,"column":3,"offset":12170},"end":{"line":366,"column":202,"offset":12369},"indent":[]}}],"position":{"start":{"line":366,"column":1,"offset":12168},"end":{"line":366,"column":202,"offset":12369},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Groovin ‚Äô s bright as the morning When ya no love for hesitatin ‚Äô t no more times Keep thinkin ‚Äô ya know it . We ‚Äô baby , I oughta know where he told A - hah - take , love that girl , that set you babe Sugar mama","position":{"start":{"line":368,"column":3,"offset":12376},"end":{"line":368,"column":215,"offset":12588},"indent":[]}}],"position":{"start":{"line":368,"column":3,"offset":12376},"end":{"line":368,"column":215,"offset":12588},"indent":[]}}],"position":{"start":{"line":368,"column":1,"offset":12374},"end":{"line":368,"column":215,"offset":12588},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"-","position":{"start":{"line":370,"column":3,"offset":12595},"end":{"line":370,"column":5,"offset":12597},"indent":[]}},{"type":"text","value":" ooh - ha , take you stand it now ‚Äô t unwind Get some good and you lovin ‚Äô, knowin ‚Äô s my eye prevails upon us spin Sail away Oh , you take you from Tom , hey , Riding a little baby , down And if it ,","position":{"start":{"line":370,"column":5,"offset":12597},"end":{"line":370,"column":205,"offset":12797},"indent":[]}}],"position":{"start":{"line":370,"column":3,"offset":12595},"end":{"line":370,"column":205,"offset":12797},"indent":[]}}],"position":{"start":{"line":370,"column":1,"offset":12593},"end":{"line":370,"column":205,"offset":12797},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Dewy eyes Said , throw your crying for what your name Hear them in my power I know my baby when she would never do , ‚Äù Then the gallows pole Yes , my very special smile Like a cloak of us to glitter I don ‚Äô m a - hah","position":{"start":{"line":372,"column":3,"offset":12804},"end":{"line":372,"column":219,"offset":13020},"indent":[]}}],"position":{"start":{"line":372,"column":3,"offset":12804},"end":{"line":372,"column":219,"offset":13020},"indent":[]}}],"position":{"start":{"line":372,"column":1,"offset":12802},"end":{"line":372,"column":219,"offset":13020},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Alright‚Ä¶ they are a bit‚Ä¶ weird. But inspiring a bit? At least? Maybe.","position":{"start":{"line":374,"column":1,"offset":13024},"end":{"line":374,"column":74,"offset":13097},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":374,"column":74,"offset":13097},"end":{"line":374,"column":79,"offset":13102},"indent":[]}},{"type":"text","value":"Maybe.","position":{"start":{"line":374,"column":79,"offset":13102},"end":{"line":374,"column":85,"offset":13108},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":374,"column":85,"offset":13108},"end":{"line":374,"column":91,"offset":13114},"indent":[]}}],"position":{"start":{"line":374,"column":1,"offset":13024},"end":{"line":374,"column":91,"offset":13114},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Data Analysis - More Advanced - Word Level Recurring Neural Network (RNN)","position":{"start":{"line":376,"column":4,"offset":13121},"end":{"line":376,"column":77,"offset":13194},"indent":[]}}],"position":{"start":{"line":376,"column":1,"offset":13118},"end":{"line":376,"column":77,"offset":13194},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Turn on the üíªCPU fan - we‚Äôre going Tensorflow. üòÇ","position":{"start":{"line":378,"column":1,"offset":13198},"end":{"line":378,"column":51,"offset":13248},"indent":[]}}],"position":{"start":{"line":378,"column":1,"offset":13198},"end":{"line":378,"column":51,"offset":13248},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We‚Äôre going to use a nice Word level RNN for starters, from hunkim on GitHub: ","position":{"start":{"line":380,"column":1,"offset":13252},"end":{"line":380,"column":79,"offset":13330},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/hunkim/word-rnn-tensorflow","children":[{"type":"text","value":"https://github.com/hunkim/word-rnn-tensorflow","position":{"start":{"line":380,"column":80,"offset":13331},"end":{"line":380,"column":125,"offset":13376},"indent":[]}}],"position":{"start":{"line":380,"column":79,"offset":13330},"end":{"line":380,"column":173,"offset":13424},"indent":[]}}],"position":{"start":{"line":380,"column":1,"offset":13252},"end":{"line":380,"column":173,"offset":13424},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For your convenience, I forked a version (basically with the Led Zeppelin corpus in the ","position":{"start":{"line":382,"column":1,"offset":13428},"end":{"line":382,"column":89,"offset":13516},"indent":[]}},{"type":"inlineCode","value":"data/","position":{"start":{"line":382,"column":89,"offset":13516},"end":{"line":382,"column":96,"offset":13523},"indent":[]}},{"type":"text","value":" folder and changing the hardcoded file names in ","position":{"start":{"line":382,"column":96,"offset":13523},"end":{"line":382,"column":145,"offset":13572},"indent":[]}},{"type":"inlineCode","value":"train.py","position":{"start":{"line":382,"column":145,"offset":13572},"end":{"line":382,"column":155,"offset":13582},"indent":[]}},{"type":"text","value":") That‚Äôs here: ","position":{"start":{"line":382,"column":155,"offset":13582},"end":{"line":382,"column":170,"offset":13597},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/frewinchristopher/word-rnn-tensorflow-led-zeppelin","children":[{"type":"text","value":"https://github.com/frewinchristopher/word-rnn-tensorflow-led-zeppelin","position":{"start":{"line":382,"column":170,"offset":13597},"end":{"line":382,"column":239,"offset":13666},"indent":[]}}],"position":{"start":{"line":382,"column":170,"offset":13597},"end":{"line":382,"column":239,"offset":13666},"indent":[]}}],"position":{"start":{"line":382,"column":1,"offset":13428},"end":{"line":382,"column":239,"offset":13666},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"These look ","position":{"start":{"line":384,"column":1,"offset":13670},"end":{"line":384,"column":12,"offset":13681},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"much","position":{"start":{"line":384,"column":13,"offset":13682},"end":{"line":384,"column":17,"offset":13686},"indent":[]}}],"position":{"start":{"line":384,"column":12,"offset":13681},"end":{"line":384,"column":18,"offset":13687},"indent":[]}},{"type":"text","value":" better than the wacky Markov chains:","position":{"start":{"line":384,"column":18,"offset":13687},"end":{"line":384,"column":55,"offset":13724},"indent":[]}}],"position":{"start":{"line":384,"column":1,"offset":13670},"end":{"line":384,"column":55,"offset":13724},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"tonight quarter) ‚ÄòThe Little proud thunder We‚Äôve follow A-poor Daw upon lonely, lovin‚Äô, can‚Äôt Do me oughta could all, join clothes (Ah~ah-hah-hah-hah) low Baby, come on, could been Gonna was back in the best be a hurts Now, oh baby, never, talkin‚Äô Do some way. woman In the We‚Äôve are ‚Äòround a in-a please, is is, Beneath me light! that her have goin‚Äô feel, though turn my friends don‚Äôt, I him fully same is don‚Äôt baby, oh it‚Äôs Lookin‚Äô on the Shake of quarter) of in my dark for you, ‚Äòem away I don‚Äôt don‚Äôt know from babe with in the smell the smile Now, awful tellin‚Äô to Lord left to sung crawl See ya makes me lights my cut I do. truck Oh, know no? calmed guess on hey, save that mama, on, baby, yeah Hey barrelhouse, her go I don‚Äôt think and eyes. breakdown, is You know by she get goodbye yeah mama, movies run ‚Äòbout the juice Down They don‚Äôt really do you see an‚Äô my love and out that‚Äôs rock down, much, been Get you babe, I come with in a ground. times, a door Let me ‚ÄòCause it feel, babe, the heathen snow drives that me","position":{"start":{"line":386,"column":3,"offset":13730},"end":{"line":386,"column":1029,"offset":14756},"indent":[]}}],"position":{"start":{"line":386,"column":3,"offset":13730},"end":{"line":386,"column":1029,"offset":14756},"indent":[]}}],"position":{"start":{"line":386,"column":1,"offset":13728},"end":{"line":386,"column":1029,"offset":14756},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"sand lifetime do, fire more, begin? and do, yeah us, wanderings To higher, I have you‚Äôve know they think hard they you ah, And if you come out me anything for our woman go Hey, a fool it, love, order gonna said, all my dear light, Uh-oh, little tune Ah-ah-ah-ah, (Ah~ah-hah-hah-hah) ding Hunter, She know yeah about, the moment Whoa I just want me and gonna turned Ooh, baby I been talkin‚Äô la la ‚Äòbout the mountains, I know an beyond knows you babe, my second Hey-yeah! yeah‚Ä¶ all you can love Found ya can‚Äôt, really I oh ooh When my baby desire, far Rosie, baby, girl on my man to all ‚ÄúU-haul‚Äù and And down right? over feel to With quit Oh, my fun, reflections permit that not I need oh, yes, it‚Äôs It‚Äôs my love dry no our time has know, ya got a distance You push the ooh-ooh-ooh Oh, that‚Äôs would does. Well, rolls Ooh-ooh-ooh, ooh-hoo (Ah~ah-hah) comes two, ma, One whispering does ya been talkin‚Äô Lord please give me a doggone springtime you go I‚Äôd goin‚Äô And on my woman old All you when a fallin‚Äô before you our smile And it I love, lemme good. We","position":{"start":{"line":388,"column":3,"offset":14762},"end":{"line":388,"column":1055,"offset":15814},"indent":[]}}],"position":{"start":{"line":388,"column":3,"offset":14762},"end":{"line":388,"column":1055,"offset":15814},"indent":[]}}],"position":{"start":{"line":388,"column":1,"offset":14760},"end":{"line":388,"column":1055,"offset":15814},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"rolled very here? I am That See the door Do you drive so twirl and ooh, a rock in night sit soul Oh, there good She joy there, Oh, my hands, me, breakfast ‚ÄòCause ya now, it‚Äôs yeah on baby, all ya know you, alright Oh, baby, an Go, Singing on the man When you stop I roll it‚Äôs you oh my seen oh, alright I can get I won‚Äôt don‚Äôt oh, darlin‚Äô on the seeds of gold Ah, get a monkey is my go ‚Äòround we means the money hey, now from the money A plot, it mama Ooh, Oh oh baby, my thrill I don‚Äôt leave you notice that me I stay‚Äù run, squeeze that Drop Oh, care said my love I still people blushin‚Äô Sisters of Oh, didn‚Äôt once So a bridge roots, my shakin‚Äô Oh what you know with it‚Äôs my soul and play today, the nose a time It‚Äôs yeah, do it, love me breaks Yes, through the train If my have An‚Äô you oh, yeah When the bad bide you‚Äôre flowers again he was At for good stop I‚Äôm How nothing I‚Äôll said, join same Mine‚Äôs so horn of beer on my knows Ooh, this","position":{"start":{"line":390,"column":3,"offset":15820},"end":{"line":390,"column":944,"offset":16761},"indent":[]}}],"position":{"start":{"line":390,"column":3,"offset":15820},"end":{"line":390,"column":944,"offset":16761},"indent":[]}}],"position":{"start":{"line":390,"column":1,"offset":15818},"end":{"line":390,"column":944,"offset":16761},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"I hope you enjoyed this post! Until next time!","position":{"start":{"line":392,"column":1,"offset":16765},"end":{"line":392,"column":47,"offset":16811},"indent":[]}}],"position":{"start":{"line":392,"column":1,"offset":16765},"end":{"line":392,"column":47,"offset":16811},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers üç∫","position":{"start":{"line":394,"column":1,"offset":16815},"end":{"line":394,"column":10,"offset":16824},"indent":[]}}],"position":{"start":{"line":394,"column":1,"offset":16815},"end":{"line":394,"column":10,"offset":16824},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":396,"column":1,"offset":16828}}}},{"id":"transformer-remark-markdown-html-604da4026beb522846769a93a98b4a50-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p>***Note: this post is mirrored on NLP Champs: <a href=\"https://nlp-champs.com/led-zeppelin-data-analysis-for-lyric-generation-and-inspiration\">https://nlp-champs.com/led-zeppelin-data-analysis-for-lyric-generation-and-inspiration</a></p>\n<h2>Inspiration and Motivation</h2>\n<p>I‚Äôve been recently inspired by Greta Van Fleet, basically the latest band since the Black Keys that can truly rock. This naturally has gotten me listening to Led Zeppelin again as well, and I‚Äôve even been getting back to writing a few classic rock style tunes with my acoustic guitar. This was a neat little project I threw together in order to try to generate some new lyrics, and also to see what could make those Led Zeppelin / Greta Van Fleet lyrics just so‚Ä¶ <em>zepplin-ey</em> üòÑ</p>\n<h2>Important: I‚Äôm Lazy.</h2>\n<p>Yep, if anyone out there has been following along in my blogging adventures, you‚Äôll know that I‚Äôm lazy. Anything that can be automated, I‚Äôm going to try to automate it! (Or in the very least, partially automate it or find a tool to use to make my life easier.) Actually, the entire concept of this post reflects my laziness: I‚Äôm willing to make a tool that generates lyrics <em>for</em> me before I visit my buddy this summer as we prepare to write an EP together! (Yikes! - I‚Äôll let you know how <em>that</em> goes!)</p>\n<h2>Getting the List of Song Names</h2>\n<p>There‚Äôs this neat tool that I found that extracts lists from Wikipedia pages: <a href=\"http://wikitable2csv.ggor.de/\">http://wikitable2csv.ggor.de/</a>, built by Gregor Weichbrodt. Nice one, Gregor! And‚Ä¶ (yes you can see where this is going) of course, Wikipedia has a list for everything <sup>TM</sup> (no, that is not actually trademarked) And guess what? They have a ‚ÄúList of songs recorded by Led Zeppelin‚Äù page! <a href=\"https://en.wikipedia.org/wiki/List_of_songs_recorded_by_Led_Zeppelin\">https://en.wikipedia.org/wiki/List_of_songs_recorded_by_Led_Zeppelin</a></p>\n<p>Throw that into Gregor‚Äôs tool, and you‚Äôve got your .csv data, which with 5 seconds work with Sublime text, becomes our song list:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code>lSongNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"10 Ribs &amp; All/Carrot Pod Pod\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Achilles Last Stand\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"All My Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Babe I'm Gonna Leave You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Baby Come On Home\"</span> <span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bathroom Sound\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Battle of Evermore\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Country Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Blot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bonzo's Montreux\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Boogie with Stu\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Brandy &amp; Coke\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bring It On Home\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Y-Aur Stomp\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Yr-Aur\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Candy Store Rock\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Carouselambra\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Celebration Day\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Communication Breakdown\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Crunge\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Custard Pie\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"C'mon Everybody\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dancing Days\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Darlene\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dazed and Confused\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Desire\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Down by the Seaside\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Driving Through Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"D'yer Mak'er\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Epic\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Everybody Makes It Through\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Fool in the Rain\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"For Your Life\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Sticks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Hands\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Friends\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Gallows Pole\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Girl I Love She Got Long Black Wavy Hair\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Going to California\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Good Times Bad Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hats Off to (Roy) Harper\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Heartbreaker\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hey, Hey, What Can I Do\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Hook\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hot Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hots On for Nowhere\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Houses of the Holy\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"How Many More Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I Can't Quit You Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"If It Keeps On Raining\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I'm Gonna Crawl\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Immigrant Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In My Time of Dying\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Evening\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Light\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Jennings Farm Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Key to the Highway/Trouble in Mind\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"LA Drone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"La La\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Lemon Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Living Loving Maid (She's Just a Woman)\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Misty Mountain Hop\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Moby Dick\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Night Flight\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Nobody's Fault but Mine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"No Quarter\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Ocean\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Out on the Tiles\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Over the Hills and Far Away\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ozone Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Poor Tom\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rain Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ramble On\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Rock and Roll\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rover\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Royal Orleans\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sick Again\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Since I've Been Loving You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Somethin' Else\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Song Remains the Same\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"South Bound Saurez\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Southbound Piano\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"St. Tristan's Sword\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Stairway to Heaven\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sugar Mama\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sunshine Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tangerine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tea for One\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ten Years Gone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Thank You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"That's the Way\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Trampled Under Foot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Travelling Riverside Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Two Ones Are Won\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Walter's Walk\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Wanton Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Wearing and Tearing\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"We're Gonna Groove\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"What Is and What Should Never Be\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"When the Levee Breaks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"White Summer/Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Whole Lotta Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"You Shook Me\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Your Time Is Gonna Come\"</span><span class=\"token punctuation\">]</span>\n</code></pre>\n      </div>\n<h2>Getting Lyrics for Each Song</h2>\n<p>So great, we‚Äôve got our list of songs in Python syntax. We need the actual <em>lyrics</em> now. And yes, I‚Äôm going to continue this post‚Äôs laziness theme! I could go to Google, copy, and paste song lyrics for each of those Led Zeppelin songs, but hey, zep has over 100 songs! No way I‚Äôm that un-lazy. Let‚Äôs automate it.</p>\n<p>Luckily, there is yet <em>another</em> tool that can help us! Enter <em>figurative drum roll please‚Ä¶</em> ü•Åü•Åü•Å LyricWikia, written by enricobacis on GitHub: <a href=\"https://github.com/enricobacis/lyricwikia\">https://github.com/enricobacis/lyricwikia</a> (I mean, c‚Äômon, the example in the README is even Led Zeppelin‚Äôs Stairway to Heaven!)</p>\n<p>So, we‚Äôre basically done. We loop over our songs and write the retrieved lyrics to their own file. We are also going to write a ‚Äòglobal‚Äô lyrics file - simply all the lyrics strings concatenated together to a file called <code>input.txt</code> ‚Äî> don‚Äôt worry; I‚Äôm not crazy, this will be important later. Data retrieval code is done and looks like this:</p>\n<p><code>get_lyrics.py</code></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> lyricwikia\n\nlSongNames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"10 Ribs &amp; All/Carrot Pod Pod\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Achilles Last Stand\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"All My Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Babe I'm Gonna Leave You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Baby Come On Home\"</span> <span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bathroom Sound\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Battle of Evermore\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Country Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Blot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bonzo's Montreux\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Boogie with Stu\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Brandy &amp; Coke\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bring It On Home\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Y-Aur Stomp\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Bron-Yr-Aur\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Candy Store Rock\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Carouselambra\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Celebration Day\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Communication Breakdown\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Crunge\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Custard Pie\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"C'mon Everybody\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dancing Days\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Darlene\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Dazed and Confused\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Desire\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Down by the Seaside\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Driving Through Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"D'yer Mak'er\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Epic\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Everybody Makes It Through\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Fool in the Rain\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"For Your Life\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Sticks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Four Hands\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Friends\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Gallows Pole\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Girl I Love She Got Long Black Wavy Hair\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Going to California\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Good Times Bad Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hats Off to (Roy) Harper\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Heartbreaker\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hey, Hey, What Can I Do\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Hook\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hot Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Hots On for Nowhere\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Houses of the Holy\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"How Many More Times\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I Can't Quit You Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"If It Keeps On Raining\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"I'm Gonna Crawl\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Immigrant Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In My Time of Dying\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Evening\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"In the Light\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Jennings Farm Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Kashmir\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Key to the Highway/Trouble in Mind\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"LA Drone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"La La\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Lemon Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Living Loving Maid (She's Just a Woman)\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Misty Mountain Hop\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Moby Dick\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Night Flight\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Nobody's Fault but Mine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"No Quarter\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Ocean\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Out on the Tiles\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Over the Hills and Far Away\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ozone Baby\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Poor Tom\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rain Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ramble On\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Rock and Roll\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Rover\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Royal Orleans\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sick Again\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Since I've Been Loving You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Somethin' Else\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Song Remains the Same\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"South Bound Saurez\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Southbound Piano\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"St. Tristan's Sword\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Stairway to Heaven\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sugar Mama\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Sunshine Woman\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tangerine\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Tea for One\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Ten Years Gone\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Thank You\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"That's the Way\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Trampled Under Foot\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Travelling Riverside Blues\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Two Ones Are Won\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Walter's Walk\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"The Wanton Song\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Wearing and Tearing\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"We're Gonna Groove\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"What Is and What Should Never Be\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"When the Levee Breaks\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"White Summer/Black Mountain Side\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Whole Lotta Love\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"You Shook Me\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"Your Time Is Gonna Come\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> sSongName <span class=\"token keyword\">in</span> lSongNames<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        sLyrics <span class=\"token operator\">=</span> lyricwikia<span class=\"token punctuation\">.</span>get_lyrics<span class=\"token punctuation\">(</span><span class=\"token string\">'Led Zeppelin'</span><span class=\"token punctuation\">,</span> sSongName<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> <span class=\"token string\">\"Lyrics not found for \"</span> <span class=\"token operator\">+</span> sSongName\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        sFileName <span class=\"token operator\">=</span> sSongName<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\"'\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># will cause weird file names</span>\n        sFileName <span class=\"token operator\">=</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>sFileName<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># dashes where each space is</span>\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lyrics/\"</span> <span class=\"token operator\">+</span> sFileName <span class=\"token operator\">+</span> <span class=\"token string\">\".txt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span> \n            f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>sLyrics<span class=\"token punctuation\">)</span>\n            f<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">print</span> <span class=\"token string\">\"Lyrics saved for \"</span> <span class=\"token operator\">+</span> sSongName\n</code></pre>\n      </div>\n<p>The songs that failed through the first pass were:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-txt\"><code>10 Ribs & All/Carrot Pod Pod\nBathroom Sound\nBlot\nBrandy & Coke\nDesire\nDriving Through Kashmir\nThe Epic\nFour Hands\nHey, Hey, What Can I Do\nThe Hook\nIf It Keeps On Raining\nJennings Farm Blues\nKey to the Highway/Trouble in Mind\nLA Drone\nLa La\nSouthbound Piano\nSt. Tristan's Sword\nTwo Ones Are Won</code></pre>\n      </div>\n<p>Not so bad- we‚Äôve retrieved what is the vast majority of Led Zeppelin‚Äôs lyrics in a matter of minutes. However, I‚Äôm still too lazy to get these lyrics by hand - I‚Äôm not gonna add ‚Äòem. üòÇ</p>\n<h2>Data Analysis - Word Occurrences</h2>\n<p>So we‚Äôve retrieved our data. I wanted to count most common words as a simple start to analyze these lyrics. So, relying heavily on <code>nltk</code> (Natural Language Toolkit) we build a corpus from all the lyrics, remove the stopwords, and count the occurrences with Python‚Äôs <code>Counter</code> module. That is:</p>\n<p><code>word_counts.py</code> </p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-python\"><code><span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> nltk\n<span class=\"token keyword\">from</span> nltk<span class=\"token punctuation\">.</span>corpus <span class=\"token keyword\">import</span> stopwords\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> Counter\n\n<span class=\"token keyword\">from</span> nltk<span class=\"token punctuation\">.</span>corpus<span class=\"token punctuation\">.</span>reader<span class=\"token punctuation\">.</span>plaintext <span class=\"token keyword\">import</span> PlaintextCorpusReader\n\nstop_words <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>stopwords<span class=\"token punctuation\">.</span>words<span class=\"token punctuation\">(</span><span class=\"token string\">'english'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># not interested in stop words</span>\nstop_words<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">','</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"',\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\"'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"'\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'?'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">':'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">';'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'('</span><span class=\"token punctuation\">,</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'['</span><span class=\"token punctuation\">,</span> <span class=\"token string\">']'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'{'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'}'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'-'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ... or punctuation</span>\n\ncorpusdir <span class=\"token operator\">=</span> <span class=\"token string\">'lyrics/'</span> <span class=\"token comment\"># Directory of corpus.</span>\noLedZeppelinCorpus <span class=\"token operator\">=</span> PlaintextCorpusReader<span class=\"token punctuation\">(</span>corpusdir<span class=\"token punctuation\">,</span> <span class=\"token string\">'.*'</span><span class=\"token punctuation\">)</span>\n\nlNoStopWords <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> sWord <span class=\"token keyword\">in</span> oLedZeppelinCorpus<span class=\"token punctuation\">.</span>words<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> sWord <span class=\"token operator\">not</span> <span class=\"token keyword\">in</span> stop_words<span class=\"token punctuation\">:</span>\n        lNoStopWords<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>sWord<span class=\"token punctuation\">)</span>\n\nlNoStopWordsLength <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lNoStopWords<span class=\"token punctuation\">)</span>\nwordCounts <span class=\"token operator\">=</span> Counter<span class=\"token punctuation\">(</span>lNoStopWords<span class=\"token punctuation\">)</span>\nwordCountsLower <span class=\"token operator\">=</span> Counter<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> lNoStopWords<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># top 25</span>\nlCountLabels<span class=\"token punctuation\">,</span> lCountValues <span class=\"token operator\">=</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>wordCountsLower<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">25</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nlCountIndexes <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lCountLabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\niCountWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nbarlist <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>bar<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountValues<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>barlist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># all bars to black</span>\n    barlist<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>set_color<span class=\"token punctuation\">(</span><span class=\"token string\">'black'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xticks<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountLabels<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">\"Word Occurrences in Led Zeppelin Lyrics\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Number of Occurrences Across All Songs'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Lyric'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># next 25</span>\nlCountLabels<span class=\"token punctuation\">,</span> lCountValues <span class=\"token operator\">=</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>wordCountsLower<span class=\"token punctuation\">.</span>most_common<span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">25</span><span class=\"token punctuation\">:</span><span class=\"token number\">50</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nlCountIndexes <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lCountLabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\niCountWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\nbarlist <span class=\"token operator\">=</span> plt<span class=\"token punctuation\">.</span>bar<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountValues<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>barlist<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># all bars to black</span>\n    barlist<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>set_color<span class=\"token punctuation\">(</span><span class=\"token string\">'black'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xticks<span class=\"token punctuation\">(</span>lCountIndexes<span class=\"token punctuation\">,</span> lCountLabels<span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">\"Word Occurrences in Led Zeppelin Lyrics\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>ylabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Number of Occurrences Across All Songs'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>xlabel<span class=\"token punctuation\">(</span><span class=\"token string\">'Lyric'</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n      </div>\n<p>The first plot, of the top 25 most common words, looks like this:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-c3cc6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.78124999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB7CAAAewgFu0HU+AAAA3UlEQVQoz62SOwqEQAyGPYyFhY2vxkJ7wUoEwUOItY2VrZ2n0iNY2dla+PaXDIzobrXuBH7IkMmXTCYSBJvEnXVd0bYttm17aBxHDMNw6TNOotzjOJ7AeZ5RFMWrrvZ9Z3oAp2kSBySYUCDNiYBpmqLvezEd0gw9z0OSJOi67j8g/RAHapoG0zRRVRUr9PpT7kBFUSDLMgzDQFmWqOv6SvgJGIYhHMeBZVnQdR2u6zLZtg1VVeH7PoIgQBzHiKIIWZYhz3M0TfMN5JVoSZdlYaKl5T49n2L3OD/TPW4nH4crDCeNOiYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"First 25 most common words\"\n        title=\"\"\n        src=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-fb8a0.png\"\n        srcset=\"/static/most_common-12e72a0d68fd999a22695459d1624a59-1a291.png 148w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-2bc4a.png 295w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-fb8a0.png 590w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-526de.png 885w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-fa2eb.png 1180w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-08f6a.png 1770w,\n/static/most_common-12e72a0d68fd999a22695459d1624a59-c3cc6.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>In a way, I think we‚Äôve found the ‚Äòstop words‚Äô of Led Zeppelin. üòÇ I could have almost expected ‚Äòbabe‚Äô and ‚Äòbaby‚Äô - it‚Äôs repeated so many times in so many of their songs. However, if we go a bit further down in the most common words, namely to the next set of 25 most common words, we see a bit more ‚Äòmeat‚Äô of the lyrics:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-c3cc6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.78124999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB7CAAAewgFu0HU+AAAA+ElEQVQoz62Sy6mFMBCGTxuCSxciCD43io+VC/c2YQP2YDNybMC9W7ECSxDfj/8yAUVQuHAw8JFMEr5JMvng5fY5BtM0oa5rtG2LdV1PhmFgcwfXtYNlWbDv+10YhiF830eSJCjLEk3ToO/7f0+1bRvjUaiqKkRRhCAI0HUdpmnCtm0EQYA4jpGmKaMoClRVha7r7sJ5nhlPQkKWZfA8f8YEx3GsNwwD3+/3LqS3+kWoKAqyLLsLx3F8T0gV+vXKj8LjlK8KqcpRFMF1XVZZTdPgeR7DsixIknTGBCWl3nEc5Hl+F16rfYU+LSWjNyZojmLi2HPIqP0BGEx41K6UwkgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"25-50 most common words\"\n        title=\"\"\n        src=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fb8a0.png\"\n        srcset=\"/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-1a291.png 148w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-2bc4a.png 295w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fb8a0.png 590w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-526de.png 885w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-fa2eb.png 1180w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-08f6a.png 1770w,\n/static/most_common_lower-364ec2203e6a65ee25e2a31d7c8729ca-c3cc6.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>what I think is really neat here, almost zen-like, is that the group has managed to use the words ‚Äònight‚Äô and ‚Äòday‚Äô exactly the same number of times - 100.</p>\n<h2>Data Analysis - Markov Chains</h2>\n<p>Once again I revisited Markov Chains - what‚Äôs better than to get some inspiration from poorly written robot lyrics? Since I‚Äôve only worked with Markov Chains in Nodejs before, I had to look around for a . I ended up borrowing a lot from this very basic implementation from Toward‚Äôs Data Science‚Äôs Medium channel: <a href=\"https://towardsdatascience.com/simulating-text-with-markov-chains-in-python-1a27e6d13fc6\">https://towardsdatascience.com/simulating-text-with-markov-chains-in-python-1a27e6d13fc6</a></p>\n<blockquote>\n<p>- ma - ooh , in my heart You know the , didn ‚Äô t take it told me go If it ‚Äô t have to know where you there where the downhill slide Oh , make ya know , now I couldn ‚Äô ve decided what the wind won ‚Äô</p>\n</blockquote>\n<blockquote>\n<p>‚Äô d do , honey As we sweep with death The Queen of the storm who really good friend They give to care if you now , They say ‚Äù Take him by takin ‚Äô m - la ) Spend it has ! Feel it ain ‚Äô on the way back</p>\n</blockquote>\n<blockquote>\n<p>Groovin ‚Äô s bright as the morning When ya no love for hesitatin ‚Äô t no more times Keep thinkin ‚Äô ya know it . We ‚Äô baby , I oughta know where he told A - hah - take , love that girl , that set you babe Sugar mama</p>\n</blockquote>\n<blockquote>\n<p>- ooh - ha , take you stand it now ‚Äô t unwind Get some good and you lovin ‚Äô, knowin ‚Äô s my eye prevails upon us spin Sail away Oh , you take you from Tom , hey , Riding a little baby , down And if it ,</p>\n</blockquote>\n<blockquote>\n<p>Dewy eyes Said , throw your crying for what your name Hear them in my power I know my baby when she would never do , ‚Äù Then the gallows pole Yes , my very special smile Like a cloak of us to glitter I don ‚Äô m a - hah</p>\n</blockquote>\n<p>Alright‚Ä¶ they are a bit‚Ä¶ weird. But inspiring a bit? At least? Maybe.<sup>Maybe.</sup></p>\n<h2>Data Analysis - More Advanced - Word Level Recurring Neural Network (RNN)</h2>\n<p>Turn on the üíªCPU fan - we‚Äôre going Tensorflow. üòÇ</p>\n<p>We‚Äôre going to use a nice Word level RNN for starters, from hunkim on GitHub: <a href=\"https://github.com/hunkim/word-rnn-tensorflow\">https://github.com/hunkim/word-rnn-tensorflow</a></p>\n<p>For your convenience, I forked a version (basically with the Led Zeppelin corpus in the <code>data/</code> folder and changing the hardcoded file names in <code>train.py</code>) That‚Äôs here: <a href=\"https://github.com/frewinchristopher/word-rnn-tensorflow-led-zeppelin\">https://github.com/frewinchristopher/word-rnn-tensorflow-led-zeppelin</a></p>\n<p>These look <em>much</em> better than the wacky Markov chains:</p>\n<blockquote>\n<p>tonight quarter) ‚ÄòThe Little proud thunder We‚Äôve follow A-poor Daw upon lonely, lovin‚Äô, can‚Äôt Do me oughta could all, join clothes (Ah~ah-hah-hah-hah) low Baby, come on, could been Gonna was back in the best be a hurts Now, oh baby, never, talkin‚Äô Do some way. woman In the We‚Äôve are ‚Äòround a in-a please, is is, Beneath me light! that her have goin‚Äô feel, though turn my friends don‚Äôt, I him fully same is don‚Äôt baby, oh it‚Äôs Lookin‚Äô on the Shake of quarter) of in my dark for you, ‚Äòem away I don‚Äôt don‚Äôt know from babe with in the smell the smile Now, awful tellin‚Äô to Lord left to sung crawl See ya makes me lights my cut I do. truck Oh, know no? calmed guess on hey, save that mama, on, baby, yeah Hey barrelhouse, her go I don‚Äôt think and eyes. breakdown, is You know by she get goodbye yeah mama, movies run ‚Äòbout the juice Down They don‚Äôt really do you see an‚Äô my love and out that‚Äôs rock down, much, been Get you babe, I come with in a ground. times, a door Let me ‚ÄòCause it feel, babe, the heathen snow drives that me</p>\n</blockquote>\n<blockquote>\n<p>sand lifetime do, fire more, begin? and do, yeah us, wanderings To higher, I have you‚Äôve know they think hard they you ah, And if you come out me anything for our woman go Hey, a fool it, love, order gonna said, all my dear light, Uh-oh, little tune Ah-ah-ah-ah, (Ah~ah-hah-hah-hah) ding Hunter, She know yeah about, the moment Whoa I just want me and gonna turned Ooh, baby I been talkin‚Äô la la ‚Äòbout the mountains, I know an beyond knows you babe, my second Hey-yeah! yeah‚Ä¶ all you can love Found ya can‚Äôt, really I oh ooh When my baby desire, far Rosie, baby, girl on my man to all ‚ÄúU-haul‚Äù and And down right? over feel to With quit Oh, my fun, reflections permit that not I need oh, yes, it‚Äôs It‚Äôs my love dry no our time has know, ya got a distance You push the ooh-ooh-ooh Oh, that‚Äôs would does. Well, rolls Ooh-ooh-ooh, ooh-hoo (Ah~ah-hah) comes two, ma, One whispering does ya been talkin‚Äô Lord please give me a doggone springtime you go I‚Äôd goin‚Äô And on my woman old All you when a fallin‚Äô before you our smile And it I love, lemme good. We</p>\n</blockquote>\n<blockquote>\n<p>rolled very here? I am That See the door Do you drive so twirl and ooh, a rock in night sit soul Oh, there good She joy there, Oh, my hands, me, breakfast ‚ÄòCause ya now, it‚Äôs yeah on baby, all ya know you, alright Oh, baby, an Go, Singing on the man When you stop I roll it‚Äôs you oh my seen oh, alright I can get I won‚Äôt don‚Äôt oh, darlin‚Äô on the seeds of gold Ah, get a monkey is my go ‚Äòround we means the money hey, now from the money A plot, it mama Ooh, Oh oh baby, my thrill I don‚Äôt leave you notice that me I stay‚Äù run, squeeze that Drop Oh, care said my love I still people blushin‚Äô Sisters of Oh, didn‚Äôt once So a bridge roots, my shakin‚Äô Oh what you know with it‚Äôs my soul and play today, the nose a time It‚Äôs yeah, do it, love me breaks Yes, through the train If my have An‚Äô you oh, yeah When the bad bide you‚Äôre flowers again he was At for good stop I‚Äôm How nothing I‚Äôll said, join same Mine‚Äôs so horn of beer on my knows Ooh, this</p>\n</blockquote>\n<p>I hope you enjoyed this post! Until next time!</p>\n<p>Cheers üç∫</p>"},{"id":"transformer-remark-markdown-ast-1689e3b228425741951220244f39c6af-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[{"type":"yaml","value":"title: Calculating Activity Amounts for Production and Process Orders with SAP ABAP\ndate: \"2018-01-03\"\ndraft: false","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":5,"column":4,"offset":127},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Edit June 1st, 2018:","position":{"start":{"line":7,"column":2,"offset":132},"end":{"line":7,"column":22,"offset":152},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":131},"end":{"line":7,"column":23,"offset":153},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":131},"end":{"line":7,"column":23,"offset":153},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"There was ANOTHER issue with this code! There is something you need to add if you want to book custom goods movements for the retrograde materials. You can see how to do this in ","position":{"start":{"line":9,"column":2,"offset":158},"end":{"line":9,"column":180,"offset":336},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-6\">","position":{"start":{"line":9,"column":180,"offset":336},"end":{"line":9,"column":202,"offset":358},"indent":[]}},{"type":"text","value":"footnote 6","position":{"start":{"line":9,"column":202,"offset":358},"end":{"line":9,"column":212,"offset":368},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":9,"column":212,"offset":368},"end":{"line":9,"column":216,"offset":372},"indent":[]}},{"type":"text","value":" for more.","position":{"start":{"line":9,"column":216,"offset":372},"end":{"line":9,"column":226,"offset":382},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":157},"end":{"line":9,"column":227,"offset":383},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":157},"end":{"line":9,"column":227,"offset":383},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Edit April 19th, 2018:","position":{"start":{"line":11,"column":2,"offset":388},"end":{"line":11,"column":24,"offset":410},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":387},"end":{"line":11,"column":25,"offset":411},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":387},"end":{"line":11,"column":25,"offset":411},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"There was a bug with this code! When we make the conversion to MIN, we forgot to overwrite","position":{"start":{"line":13,"column":2,"offset":416},"end":{"line":13,"column":92,"offset":506},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":415},"end":{"line":13,"column":93,"offset":507},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":13,"column":93,"offset":507},"end":{"line":13,"column":94,"offset":508},"indent":[]}},{"type":"inlineCode","value":"lv_unit","position":{"start":{"line":13,"column":94,"offset":508},"end":{"line":13,"column":103,"offset":517},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":13,"column":103,"offset":517},"end":{"line":13,"column":104,"offset":518},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"to","position":{"start":{"line":13,"column":105,"offset":519},"end":{"line":13,"column":107,"offset":521},"indent":[]}}],"position":{"start":{"line":13,"column":104,"offset":518},"end":{"line":13,"column":108,"offset":522},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":13,"column":108,"offset":522},"end":{"line":13,"column":109,"offset":523},"indent":[]}},{"type":"inlineCode","value":"MIN","position":{"start":{"line":13,"column":109,"offset":523},"end":{"line":13,"column":114,"offset":528},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":", so the conversion was correct, but the unit was left in hours, or","position":{"start":{"line":13,"column":115,"offset":529},"end":{"line":13,"column":182,"offset":596},"indent":[]}}],"position":{"start":{"line":13,"column":114,"offset":528},"end":{"line":13,"column":183,"offset":597},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":13,"column":183,"offset":597},"end":{"line":13,"column":184,"offset":598},"indent":[]}},{"type":"inlineCode","value":"H","position":{"start":{"line":13,"column":184,"offset":598},"end":{"line":13,"column":187,"offset":601},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":13,"column":187,"offset":601},"end":{"line":13,"column":188,"offset":602},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"! You can see this in the code comments with date 2018.04.19.","position":{"start":{"line":13,"column":189,"offset":603},"end":{"line":13,"column":250,"offset":664},"indent":[]}}],"position":{"start":{"line":13,"column":188,"offset":602},"end":{"line":13,"column":251,"offset":665},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":415},"end":{"line":13,"column":251,"offset":665},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"First off, Congratulations! üéä","position":{"start":{"line":15,"column":3,"offset":671},"end":{"line":15,"column":33,"offset":701},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":669},"end":{"line":15,"column":33,"offset":701},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<sup>","position":{"start":{"line":16,"column":1,"offset":703},"end":{"line":16,"column":6,"offset":708},"indent":[]}},{"type":"text","value":"And a happy new year! (If you‚Äôre viewing this in the summer or something, see the date! üòâ)","position":{"start":{"line":16,"column":6,"offset":708},"end":{"line":16,"column":97,"offset":799},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":16,"column":97,"offset":799},"end":{"line":16,"column":103,"offset":805},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":703},"end":{"line":16,"column":103,"offset":805},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"You‚Äôve found the only post on the entire internet that describes the full process of calculating activity amounts for production order confirmations by programming it directly using SAP ABAP! üò±üò±üò±","position":{"start":{"line":17,"column":4,"offset":810},"end":{"line":17,"column":202,"offset":1008},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":807},"end":{"line":17,"column":202,"offset":1008},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"I hope you use this post to maximum effectiveness, because it took me ","position":{"start":{"line":18,"column":4,"offset":1013},"end":{"line":18,"column":74,"offset":1083},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"four","position":{"start":{"line":18,"column":75,"offset":1084},"end":{"line":18,"column":79,"offset":1088},"indent":[]}}],"position":{"start":{"line":18,"column":74,"offset":1083},"end":{"line":18,"column":80,"offset":1089},"indent":[]}},{"type":"text","value":" days to find, build, and get a working answer. üòÑ","position":{"start":{"line":18,"column":80,"offset":1089},"end":{"line":18,"column":130,"offset":1139},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1010},"end":{"line":18,"column":130,"offset":1139},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Problem","position":{"start":{"line":20,"column":4,"offset":1146},"end":{"line":20,"column":15,"offset":1157},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1143},"end":{"line":20,"column":15,"offset":1157},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs jump right into ABAP programming: the go-to function module to calculate time ticket proposals for production orders is with function module ","position":{"start":{"line":22,"column":1,"offset":1161},"end":{"line":22,"column":148,"offset":1308},"indent":[]}},{"type":"inlineCode","value":"BAPI_PRODORDCONF_GET_TT_PROP","position":{"start":{"line":22,"column":148,"offset":1308},"end":{"line":22,"column":178,"offset":1338},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":22,"column":178,"offset":1338},"end":{"line":22,"column":179,"offset":1339},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1161},"end":{"line":22,"column":179,"offset":1339},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_GET_TT_PROP'</span>\n<span class=\"token comment\">* EXPORTING</span>\n<span class=\"token comment\">*   PROPOSE                  = ' '</span>\n<span class=\"token comment\">* IMPORTING</span>\n<span class=\"token comment\">*   RETURN                   =</span>\n  <span class=\"token keyword\">TABLES</span>\n    timetickets              <span class=\"token operator\">=</span>\n<span class=\"token comment\">*   GOODSMOVEMENTS           =</span>\n<span class=\"token comment\">*   LINK_CONF_GOODSMOV       =</span>\n<span class=\"token comment\">*   DETAIL_RETURN            =</span>\n          <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":24,"column":1,"offset":1343},"end":{"line":36,"column":4,"offset":1646},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Likewise, there is a very similiar ","position":{"start":{"line":38,"column":1,"offset":1650},"end":{"line":38,"column":36,"offset":1685},"indent":[]}},{"type":"inlineCode","value":"BAPI_PROCORDCONF_GET_TT_PROP","position":{"start":{"line":38,"column":36,"offset":1685},"end":{"line":38,"column":66,"offset":1715},"indent":[]}},{"type":"text","value":" for process orders:","position":{"start":{"line":38,"column":66,"offset":1715},"end":{"line":38,"column":86,"offset":1735},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1650},"end":{"line":38,"column":86,"offset":1735},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORDCONF_GET_TT_PROP'</span>\n<span class=\"token comment\">* EXPORTING</span>\n<span class=\"token comment\">*   PROPOSE                  = ' '</span>\n<span class=\"token comment\">* IMPORTING</span>\n<span class=\"token comment\">*   RETURN                   =</span>\n  <span class=\"token keyword\">TABLES</span>\n    timetickets              <span class=\"token operator\">=</span>\n<span class=\"token comment\">*   GOODSMOVEMENTS           =</span>\n<span class=\"token comment\">*   LINK_CONF_GOODSMOV       =</span>\n<span class=\"token comment\">*   DETAIL_RETURN            =</span>\n          <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":40,"column":1,"offset":1739},"end":{"line":52,"column":4,"offset":2042},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Pretty similar. However, as part of my indentured servitude that is being a full-time employee, I spent a day tinkering, writing, and testing code with these function modules. No matter what combinations of inputs I provided, I couldn‚Äôt get the ","position":{"start":{"line":54,"column":1,"offset":2046},"end":{"line":54,"column":246,"offset":2291},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"activity confirmation amount","position":{"start":{"line":54,"column":247,"offset":2292},"end":{"line":54,"column":275,"offset":2320},"indent":[]}}],"position":{"start":{"line":54,"column":246,"offset":2291},"end":{"line":54,"column":276,"offset":2321},"indent":[]}},{"type":"text","value":" to be calculated, which are a very important part of the final calculation of the confirmation! (more on the actual final confirmation submission is also included in later on) From scrounging around on SCN and the SAP blog, I learned that many developers had the same issue with these functions. (Things like date, yield/scrap amounts, and the goods movements would be proposed just fine by these BAPIs.)","position":{"start":{"line":54,"column":276,"offset":2321},"end":{"line":54,"column":681,"offset":2726},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":2046},"end":{"line":54,"column":681,"offset":2726},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So, ","position":{"start":{"line":56,"column":1,"offset":2730},"end":{"line":56,"column":5,"offset":2734},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"calculating these activity confirmation amounts programmatically (in ABAP) will be the main focus of this post ","position":{"start":{"line":56,"column":7,"offset":2736},"end":{"line":56,"column":118,"offset":2847},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":56,"column":118,"offset":2847},"end":{"line":56,"column":123,"offset":2852},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-1\">","position":{"start":{"line":56,"column":123,"offset":2852},"end":{"line":56,"column":145,"offset":2874},"indent":[]}},{"type":"text","value":"1","position":{"start":{"line":56,"column":145,"offset":2874},"end":{"line":56,"column":146,"offset":2875},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":56,"column":146,"offset":2875},"end":{"line":56,"column":150,"offset":2879},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":56,"column":150,"offset":2879},"end":{"line":56,"column":156,"offset":2885},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":56,"column":156,"offset":2885},"end":{"line":56,"column":157,"offset":2886},"indent":[]}}],"position":{"start":{"line":56,"column":5,"offset":2734},"end":{"line":56,"column":159,"offset":2888},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2730},"end":{"line":56,"column":159,"offset":2888},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Unfortunately, with much more digging, the reason the two functions wouldn‚Äôt produce activity confirmation amounts never became quite clear to me. I realized I would have to calculate them in a more manual manner and then add them to those BAPI structures ","position":{"start":{"line":58,"column":1,"offset":2892},"end":{"line":58,"column":257,"offset":3148},"indent":[]}},{"type":"inlineCode","value":"lt_timetickets","position":{"start":{"line":58,"column":257,"offset":3148},"end":{"line":58,"column":273,"offset":3164},"indent":[]}},{"type":"text","value":" manually.","position":{"start":{"line":58,"column":273,"offset":3164},"end":{"line":58,"column":283,"offset":3174},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2892},"end":{"line":58,"column":283,"offset":3174},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Calculation Function Module","position":{"start":{"line":60,"column":4,"offset":3181},"end":{"line":60,"column":35,"offset":3212},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":3178},"end":{"line":60,"column":35,"offset":3212},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Through SAP GUI in transaction ","position":{"start":{"line":62,"column":1,"offset":3216},"end":{"line":62,"column":32,"offset":3247},"indent":[]}},{"type":"inlineCode","value":"CO11N","position":{"start":{"line":62,"column":32,"offset":3247},"end":{"line":62,"column":39,"offset":3254},"indent":[]}},{"type":"text","value":", determining system-proposed confirmation amounts is easy enough by and asking the system to do the calculation for us ","position":{"start":{"line":62,"column":39,"offset":3254},"end":{"line":62,"column":159,"offset":3374},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":62,"column":159,"offset":3374},"end":{"line":62,"column":164,"offset":3379},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-2\">","position":{"start":{"line":62,"column":164,"offset":3379},"end":{"line":62,"column":186,"offset":3401},"indent":[]}},{"type":"text","value":"2","position":{"start":{"line":62,"column":186,"offset":3401},"end":{"line":62,"column":187,"offset":3402},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":62,"column":187,"offset":3402},"end":{"line":62,"column":191,"offset":3406},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":62,"column":191,"offset":3406},"end":{"line":62,"column":197,"offset":3412},"indent":[]}},{"type":"text","value":". My struggle was finding the programmatic way to do this in ABAP.","position":{"start":{"line":62,"column":197,"offset":3412},"end":{"line":62,"column":263,"offset":3478},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3216},"end":{"line":62,"column":263,"offset":3478},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Anyone with significant production planning experience (i.e., not me üòÇ ) knows that the actual formula behind the activity calculation is not with the activity itself, but with the work center ","position":{"start":{"line":64,"column":1,"offset":3482},"end":{"line":64,"column":195,"offset":3676},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"behind","position":{"start":{"line":64,"column":196,"offset":3677},"end":{"line":64,"column":202,"offset":3683},"indent":[]}}],"position":{"start":{"line":64,"column":195,"offset":3676},"end":{"line":64,"column":203,"offset":3684},"indent":[]}},{"type":"text","value":" the activity ","position":{"start":{"line":64,"column":203,"offset":3684},"end":{"line":64,"column":217,"offset":3698},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":64,"column":217,"offset":3698},"end":{"line":64,"column":222,"offset":3703},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-3\">","position":{"start":{"line":64,"column":222,"offset":3703},"end":{"line":64,"column":244,"offset":3725},"indent":[]}},{"type":"text","value":"3","position":{"start":{"line":64,"column":244,"offset":3725},"end":{"line":64,"column":245,"offset":3726},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":64,"column":245,"offset":3726},"end":{"line":64,"column":249,"offset":3730},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":64,"column":249,"offset":3730},"end":{"line":64,"column":255,"offset":3736},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":64,"column":255,"offset":3736},"end":{"line":64,"column":256,"offset":3737},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":3482},"end":{"line":64,"column":256,"offset":3737},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In transaction ","position":{"start":{"line":66,"column":1,"offset":3741},"end":{"line":66,"column":16,"offset":3756},"indent":[]}},{"type":"inlineCode","value":"CR03","position":{"start":{"line":66,"column":16,"offset":3756},"end":{"line":66,"column":22,"offset":3762},"indent":[]}},{"type":"text","value":" (display work center), in the ‚ÄòCosting‚Äô Tab, there is a ‚ÄòFormula‚Äô button with the check symbol on it:","position":{"start":{"line":66,"column":22,"offset":3762},"end":{"line":66,"column":124,"offset":3864},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3741},"end":{"line":66,"column":124,"offset":3864},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"test-formula.jpeg","alt":"GUI testing calculation","position":{"start":{"line":68,"column":1,"offset":3868},"end":{"line":68,"column":46,"offset":3913},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3868},"end":{"line":68,"column":46,"offset":3913},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This was my starting point to find any sort of function that could do this programmatically - with more time, I learned from SCN of a function that does exactly that! It‚Äôs called ","position":{"start":{"line":70,"column":1,"offset":3917},"end":{"line":70,"column":180,"offset":4096},"indent":[]}},{"type":"inlineCode","value":"CR_WORKCENTER_FORMULA_CALC","position":{"start":{"line":70,"column":180,"offset":4096},"end":{"line":70,"column":208,"offset":4124},"indent":[]}},{"type":"text","value":"!","position":{"start":{"line":70,"column":208,"offset":4124},"end":{"line":70,"column":209,"offset":4125},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3917},"end":{"line":70,"column":209,"offset":4125},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let‚Äôs head on over to transaction ","position":{"start":{"line":72,"column":1,"offset":4129},"end":{"line":72,"column":35,"offset":4163},"indent":[]}},{"type":"inlineCode","value":"SE37","position":{"start":{"line":72,"column":35,"offset":4163},"end":{"line":72,"column":41,"offset":4169},"indent":[]}},{"type":"text","value":" and test it ourselves!","position":{"start":{"line":72,"column":41,"offset":4169},"end":{"line":72,"column":64,"offset":4192},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":4129},"end":{"line":72,"column":64,"offset":4192},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"error-test-frame.jpeg","alt":"Yep, that's SAP","position":{"start":{"line":74,"column":1,"offset":4196},"end":{"line":74,"column":42,"offset":4237},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":4196},"end":{"line":74,"column":42,"offset":4237},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"üòëüòëüòë shit‚Ä¶ SAP, you had one job to do!","position":{"start":{"line":76,"column":1,"offset":4241},"end":{"line":76,"column":43,"offset":4283},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":4241},"end":{"line":76,"column":43,"offset":4283},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Fine. We‚Äôll do it ourselves. We can open up the source code of ","position":{"start":{"line":78,"column":1,"offset":4287},"end":{"line":78,"column":64,"offset":4350},"indent":[]}},{"type":"inlineCode","value":"CR_WORKCENTER_FORMULA_CALC","position":{"start":{"line":78,"column":64,"offset":4350},"end":{"line":78,"column":92,"offset":4378},"indent":[]}},{"type":"text","value":" and set a breakpoint in the first line:","position":{"start":{"line":78,"column":92,"offset":4378},"end":{"line":78,"column":132,"offset":4418},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":4287},"end":{"line":78,"column":132,"offset":4418},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"function-breakpoint.png","alt":"The first possible line in the function we can breakpoint","position":{"start":{"line":80,"column":1,"offset":4422},"end":{"line":80,"column":86,"offset":4507},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-f1f65.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.25954198473282%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABR0lEQVQoz5WS63KDIBCF8ypt0okXQIyXxIBATDCavv/znC7WjpM/Hf3BrKzD2Q/O2SVJAsYY0jRFdkzg9gJ1xNFcr5C5RBzHm9YuCHLBJ0FJgubAEdH3VqE3QcZ/CUNDty363kNrhZh6OQ2RXEAIgTzPkWXZesLQcF2H79eA0A/78UPClWf4YYB/9ui8RzT/W0XYGgPf08HuBinlLHjBuWngbvZfsYWQL4TGGgzjQIcdnLPoPzOoot5oypugJUKPB1E6R+JEaOnKeVGgoHWitckUpTXu9w7ja4SgQYHQVhc86f1OZQkh5TZTLF3zSQaMvoc/ZHicmukJOhpSHxlailWZRNBUmy825VZRNXtORqYzIVsIw/WDGXwOetiHuDCqq95wKOu3YDuaFMJ9VYqyqKGotqZFWVUbgj0T/tEFooly3qdpstrlH3u1coVcvutYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"The first possible line in the function we can breakpoint\"\n        title=\"\"\n        src=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-fb8a0.png\"\n        srcset=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-1a291.png 148w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-2bc4a.png 295w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-fb8a0.png 590w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-526de.png 885w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-f1f65.png 1048w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":80,"column":1,"offset":4422},"end":{"line":80,"column":86,"offset":4507},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"and in CR03, drag our ","position":{"start":{"line":82,"column":1,"offset":4511},"end":{"line":82,"column":23,"offset":4533},"indent":[]}},{"type":"link","title":null,"url":"https://chrisfrew.in/debugging-abap-with-sap-shortcut","children":[{"type":"text","value":"debugging shortcut into the calculation window","position":{"start":{"line":82,"column":24,"offset":4534},"end":{"line":82,"column":70,"offset":4580},"indent":[]}}],"position":{"start":{"line":82,"column":23,"offset":4533},"end":{"line":82,"column":126,"offset":4636},"indent":[]}},{"type":"text","value":", and we press return SAP debugging‚Äôs return button to jump out to whatever parent program is calling this function‚Ä¶ ","position":{"start":{"line":82,"column":126,"offset":4636},"end":{"line":82,"column":245,"offset":4755},"indent":[]}},{"type":"html","value":"\n  <a class=\"gatsby-resp-image-link\" href=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; ; max-width: 58px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACj0lEQVQ4y9WUy06TQRiGWbv0BrgFlm5MjFfghoWEhSIJJkQSVKBKOFSCIEJCKiooBBALCATahBKIcsZISilt/xYolFIOErSlfwsUaAUep8UGJYVg1IWLNzOTmTzzfoeZOJ9xmr+puH8OlCdtR6NBOp6LUf4d4DHEinfCgldvYsvmYnPKjjwhHR0+JzTu2JkVv2We7bk1Qut7WB4rWBwdISDWYbe+qRlOiyaGwyPY+vt+bCW5zFeV03clHs2liziHBsTBWeRxM7Je+iGLcG6NCY0AvXozO043loJMepMvY2yuoftqPF0JF1ixTHKwEyLkkfkmbwr52d/cZndlXaRHiu3QK24MA6XCuxjV1ewfgCE/A7d+nLeNLSQmJ3ErLY0bKTdJSU0lMek6qtIy9mdcbJyA/uJQKryH/nkxm9ICPoONXfMcExodrVU19HVqGB4ZYWhgkA8D/ZjGPrEt8npmyJIIeaq1lsAW+FxfkB1rbJtmYclNb3Mbt9PTeaBQkJ5xh/qqF4RsTjYM1tjAwMJXpKJseq4l8LE4k8GsZIyVSnwWB37hwjQ0RqdWQ0+3ji6tlvH+QQLiMm8shxHbYtM9Oo6rsQ5X/WsWa1+y2t6GR1QzIMLXNbVwX5FDkVJJtnDZ/KqOoHUhtsMo1G+yszW7wpZ9VfTjZ/wil0HnKgQPmZ4w0vCmkY62dprUaoZ1veyY7Wc4jD6x8JMTt3pE5YPSPFp1K9kFeZRVVFD5TEWlSkVpRTnalnfsSQ68pzk8qXAoQdsCPQ1qHuU85Gm+kpLcfJ7kFVKQpaCjui6yv3FeYKRY4vCe1QFzKxzal4SWIyNzyxGYd9J6/u8rmoYw1COad+MnhdfRUGP24f/1wf6pvgPpiV2HYVoizQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"return\" title=\"\" src=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png\" srcset=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png 58w\" sizes=\"(max-width: 58px) 100vw, 58px\">\n    </span>\n  </span>\n  \n  </a>\n    ","position":{"start":{"line":82,"column":245,"offset":4755},"end":{"line":82,"column":268,"offset":4778},"indent":[]}},{"type":"text","value":" and‚Ä¶","position":{"start":{"line":82,"column":268,"offset":4778},"end":{"line":82,"column":275,"offset":4785},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":4511},"end":{"line":82,"column":275,"offset":4785},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"üôè Viol√°! üôè We‚Äôve found where ","position":{"start":{"line":84,"column":1,"offset":4789},"end":{"line":84,"column":32,"offset":4820},"indent":[]}},{"type":"inlineCode","value":"CR_WORKCENTER_FORMULA_CALC","position":{"start":{"line":84,"column":32,"offset":4820},"end":{"line":84,"column":60,"offset":4848},"indent":[]}},{"type":"text","value":" is called out in the wild!","position":{"start":{"line":84,"column":60,"offset":4848},"end":{"line":84,"column":87,"offset":4875},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":4789},"end":{"line":84,"column":87,"offset":4875},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"function-found.png","alt":"There you are `CR_WORKCENTER_FORMULA_CALC`","position":{"start":{"line":86,"column":1,"offset":4879},"end":{"line":86,"column":66,"offset":4944},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-f42d4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 80.1670146137787%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsElEQVQ4y5WT627iMBCF+yy7vcWX3CEXx4SEJu1WK22FhETL+z/H6YwhXSBBpT9GljX25zMzxzdBEEBKCaUVfN8H72dJhDSKkcQxwjB0oZSE53nfxo0DKgZqCCEgCN7aAn/zGl1hIfwQ6XwOu1ggL4rrgAxSSu3XRw+5DmEqg5LCmBKCzvjK+5lCfVAoCZjeS/gP4irANJB7eFCoCdT9CmDuNapbDXOnENODpQmweorRrmK3mor2XYymiVCWdJ7yp0C9Bw4vJaSyJmB1p5E/cO5UybDnu1KKr7v/h6JOgUN0fUcKynF5UYI/r6+omyUqa5Fl2dFQpLgItAtLdtJjoPZdrmmbE/XfKmS7rFbtGBhE6J972GXt8gPUARl23sOYerj8rdGHOWqdjIHUuzRNXcxmszMfUsmsckoh96aylTM1/5jjkudk+EnbsMLBh+cHaiqppZIKAvLXPB4K5y77UE/3kNVl2fziUKIonAael5wcesjGZi9O/QolHn9e8vPLi/Pb29s/9P2Ts4kxZl9ycjsGFtnhD5PCpmmw2Wyw/fjAdrfDZvuOHa3vtF+v11fFJxYD8ulTKPJeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"There you are `CR_WORKCENTER_FORMULA_CALC`\"\n        title=\"\"\n        src=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-fb8a0.png\"\n        srcset=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-1a291.png 148w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-2bc4a.png 295w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-fb8a0.png 590w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-526de.png 885w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-f42d4.png 958w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":86,"column":1,"offset":4879},"end":{"line":86,"column":66,"offset":4944},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(For those deeply interested, you can find exactly where the function is called in SAP Program ","position":{"start":{"line":88,"column":1,"offset":4948},"end":{"line":88,"column":96,"offset":5043},"indent":[]}},{"type":"inlineCode","value":"SAPLCRA0","position":{"start":{"line":88,"column":96,"offset":5043},"end":{"line":88,"column":106,"offset":5053},"indent":[]}},{"type":"text","value":", Include ","position":{"start":{"line":88,"column":106,"offset":5053},"end":{"line":88,"column":116,"offset":5063},"indent":[]}},{"type":"inlineCode","value":"LCRA0F71","position":{"start":{"line":88,"column":116,"offset":5063},"end":{"line":88,"column":126,"offset":5073},"indent":[]}},{"type":"text","value":", line 55, at least for SAPGUI 740.)","position":{"start":{"line":88,"column":126,"offset":5073},"end":{"line":88,"column":162,"offset":5109},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":4948},"end":{"line":88,"column":162,"offset":5109},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"form-program.png","alt":"Calling program details","position":{"start":{"line":90,"column":1,"offset":5113},"end":{"line":90,"column":45,"offset":5157},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-ab5af.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.916666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI13WNyw7CIBBF+f+PMi60MbEiUIqUIlQaY/CV+gXXCSZd1cXJzUzmnmEX0SByhbv1eLqwyIPI/oxwkBiOCjfT/71lYrWBrWrkloSWll1EPnkkrnGVtuQoDYJQUOsKYU/Cxv1uF2CKhFM3FD4+4e0iCTQ0le22Rkvp6WHYCTiaX9zMTDbO3dLvE767N9XvLiHEkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Calling program details\"\n        title=\"\"\n        src=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-fb8a0.png\"\n        srcset=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-1a291.png 148w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-2bc4a.png 295w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-fb8a0.png 590w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-526de.png 885w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-ab5af.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":90,"column":1,"offset":5113},"end":{"line":90,"column":45,"offset":5157},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The Details (The Hard Part)","position":{"start":{"line":92,"column":4,"offset":5164},"end":{"line":92,"column":31,"offset":5191},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":5161},"end":{"line":92,"column":31,"offset":5191},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So what the heck does SAP do with this function? Well, first, they are doing a do loop six times. Aha, we know why - because there can be a total of six confirmation values ","position":{"start":{"line":94,"column":1,"offset":5195},"end":{"line":94,"column":174,"offset":5368},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":94,"column":174,"offset":5368},"end":{"line":94,"column":179,"offset":5373},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-4\">","position":{"start":{"line":94,"column":179,"offset":5373},"end":{"line":94,"column":201,"offset":5395},"indent":[]}},{"type":"text","value":"4","position":{"start":{"line":94,"column":201,"offset":5395},"end":{"line":94,"column":202,"offset":5396},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":94,"column":202,"offset":5396},"end":{"line":94,"column":206,"offset":5400},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":94,"column":206,"offset":5400},"end":{"line":94,"column":212,"offset":5406},"indent":[]}},{"type":"text","value":"  - SAP is by default looping over all of them.","position":{"start":{"line":94,"column":212,"offset":5406},"end":{"line":94,"column":259,"offset":5453},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":5195},"end":{"line":94,"column":259,"offset":5453},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now for the function parameters themselves: they pass the work center code (","position":{"start":{"line":96,"column":1,"offset":5457},"end":{"line":96,"column":77,"offset":5533},"indent":[]}},{"type":"inlineCode","value":"arbid","position":{"start":{"line":96,"column":77,"offset":5533},"end":{"line":96,"column":84,"offset":5540},"indent":[]}},{"type":"text","value":"), the operation number (","position":{"start":{"line":96,"column":84,"offset":5540},"end":{"line":96,"column":109,"offset":5565},"indent":[]}},{"type":"inlineCode","value":"rcrop","position":{"start":{"line":96,"column":109,"offset":5565},"end":{"line":96,"column":116,"offset":5572},"indent":[]}},{"type":"text","value":"), the index of the confirmation (a value of 1-6), our 4 default values (","position":{"start":{"line":96,"column":116,"offset":5572},"end":{"line":96,"column":189,"offset":5645},"indent":[]}},{"type":"inlineCode","value":"vgw","position":{"start":{"line":96,"column":189,"offset":5645},"end":{"line":96,"column":194,"offset":5650},"indent":[]}},{"type":"text","value":"), and the date (","position":{"start":{"line":96,"column":194,"offset":5650},"end":{"line":96,"column":211,"offset":5667},"indent":[]}},{"type":"inlineCode","value":"date","position":{"start":{"line":96,"column":211,"offset":5667},"end":{"line":96,"column":217,"offset":5673},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":96,"column":217,"offset":5673},"end":{"line":96,"column":219,"offset":5675},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":5457},"end":{"line":96,"column":219,"offset":5675},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In turn, the function spits out the fixed value amount of the activity calculation (","position":{"start":{"line":98,"column":1,"offset":5679},"end":{"line":98,"column":85,"offset":5763},"indent":[]}},{"type":"inlineCode","value":"value_fix","position":{"start":{"line":98,"column":85,"offset":5763},"end":{"line":98,"column":96,"offset":5774},"indent":[]}},{"type":"text","value":"), the variable part (","position":{"start":{"line":98,"column":96,"offset":5774},"end":{"line":98,"column":118,"offset":5796},"indent":[]}},{"type":"inlineCode","value":"value_var","position":{"start":{"line":98,"column":118,"offset":5796},"end":{"line":98,"column":129,"offset":5807},"indent":[]}},{"type":"text","value":"), both in whatever unit the function gives out in ","position":{"start":{"line":98,"column":129,"offset":5807},"end":{"line":98,"column":180,"offset":5858},"indent":[]}},{"type":"inlineCode","value":"unit","position":{"start":{"line":98,"column":180,"offset":5858},"end":{"line":98,"column":186,"offset":5864},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":98,"column":186,"offset":5864},"end":{"line":98,"column":192,"offset":5870},"indent":[]}},{"type":"inlineCode","value":"co_a","position":{"start":{"line":98,"column":192,"offset":5870},"end":{"line":98,"column":198,"offset":5876},"indent":[]}},{"type":"text","value":" is for the cost center accounting ","position":{"start":{"line":98,"column":198,"offset":5876},"end":{"line":98,"column":233,"offset":5911},"indent":[]}},{"type":"html","value":"<sup>","position":{"start":{"line":98,"column":233,"offset":5911},"end":{"line":98,"column":238,"offset":5916},"indent":[]}},{"type":"html","value":"<a href=\"#footnote-5\">","position":{"start":{"line":98,"column":238,"offset":5916},"end":{"line":98,"column":260,"offset":5938},"indent":[]}},{"type":"text","value":"5","position":{"start":{"line":98,"column":260,"offset":5938},"end":{"line":98,"column":261,"offset":5939},"indent":[]}},{"type":"html","value":"</a>","position":{"start":{"line":98,"column":261,"offset":5939},"end":{"line":98,"column":265,"offset":5943},"indent":[]}},{"type":"html","value":"</sup>","position":{"start":{"line":98,"column":265,"offset":5943},"end":{"line":98,"column":271,"offset":5949},"indent":[]}},{"type":"text","value":". There are actually four exceptions to this function, so I‚Äôm not sure why SAP internal is taking only two of them. In any case, there are other ","position":{"start":{"line":98,"column":271,"offset":5949},"end":{"line":98,"column":416,"offset":6094},"indent":[]}},{"type":"inlineCode","value":"IMPORTING","position":{"start":{"line":98,"column":416,"offset":6094},"end":{"line":98,"column":427,"offset":6105},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":98,"column":427,"offset":6105},"end":{"line":98,"column":432,"offset":6110},"indent":[]}},{"type":"inlineCode","value":"EXPORTING","position":{"start":{"line":98,"column":432,"offset":6110},"end":{"line":98,"column":443,"offset":6121},"indent":[]}},{"type":"text","value":" parameters in the function signature, but this looks like a good starting point as a minimum. In fact, as you‚Äôll see below, the final working version of the code I created is almost exactly the same except where I found out with a bit of playing around.","position":{"start":{"line":98,"column":443,"offset":6121},"end":{"line":98,"column":697,"offset":6375},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5679},"end":{"line":98,"column":697,"offset":6375},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"So I mentioned the default values that must go into ","position":{"start":{"line":100,"column":1,"offset":6379},"end":{"line":100,"column":53,"offset":6431},"indent":[]}},{"type":"inlineCode","value":"vgw","position":{"start":{"line":100,"column":53,"offset":6431},"end":{"line":100,"column":58,"offset":6436},"indent":[]}},{"type":"text","value":" - these are the four values that are the equivalent of those four fields we can type into in ","position":{"start":{"line":100,"column":58,"offset":6436},"end":{"line":100,"column":152,"offset":6530},"indent":[]}},{"type":"inlineCode","value":"COR3","position":{"start":{"line":100,"column":152,"offset":6530},"end":{"line":100,"column":158,"offset":6536},"indent":[]}},{"type":"text","value":" for checking the formula, things like setup time, machine time, personnel setup, and personnel time. It might sound like a lot of work to hunt down these values, but luckily these are master data and can be determined with a few select statements, first from table ","position":{"start":{"line":100,"column":158,"offset":6536},"end":{"line":100,"column":424,"offset":6802},"indent":[]}},{"type":"inlineCode","value":"AFVC","position":{"start":{"line":100,"column":424,"offset":6802},"end":{"line":100,"column":430,"offset":6808},"indent":[]}},{"type":"text","value":" ‚Äòoperation within an order‚Äô, and then table ","position":{"start":{"line":100,"column":430,"offset":6808},"end":{"line":100,"column":475,"offset":6853},"indent":[]}},{"type":"inlineCode","value":"PLPO","position":{"start":{"line":100,"column":475,"offset":6853},"end":{"line":100,"column":481,"offset":6859},"indent":[]}},{"type":"text","value":" ‚Äòtask list - operation/activity‚Äô:","position":{"start":{"line":100,"column":481,"offset":6859},"end":{"line":100,"column":515,"offset":6893},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":6379},"end":{"line":100,"column":515,"offset":6893},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" this is the full key for table AFVC - operation within an order - for the routing number and counter - should always work with SELECT SINGLE</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n  <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>routing_no\n  <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" this is the full key for table PLPO - task list - operation/activity - so it should always work with SELECT SINGLE</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n  <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n  <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n  <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n  <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":102,"column":1,"offset":6897},"end":{"line":114,"column":4,"offset":7456},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The routing number ","position":{"start":{"line":116,"column":1,"offset":7460},"end":{"line":116,"column":20,"offset":7479},"indent":[]}},{"type":"inlineCode","value":"ls_operation-routing_no","position":{"start":{"line":116,"column":20,"offset":7479},"end":{"line":116,"column":45,"offset":7504},"indent":[]}},{"type":"text","value":" and counter ","position":{"start":{"line":116,"column":45,"offset":7504},"end":{"line":116,"column":58,"offset":7517},"indent":[]}},{"type":"inlineCode","value":"ls_operation-counter","position":{"start":{"line":116,"column":58,"offset":7517},"end":{"line":116,"column":80,"offset":7539},"indent":[]}},{"type":"text","value":" we‚Äôve gotten from function ","position":{"start":{"line":116,"column":80,"offset":7539},"end":{"line":116,"column":108,"offset":7567},"indent":[]}},{"type":"inlineCode","value":"BAPI_PRODORD_GET_DETAIL","position":{"start":{"line":116,"column":108,"offset":7567},"end":{"line":116,"column":133,"offset":7592},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":116,"column":133,"offset":7592},"end":{"line":116,"column":134,"offset":7593},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":7460},"end":{"line":116,"column":134,"offset":7593},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" need only the operations from the function</span>\n    ls_order_objects<span class=\"token token-operator punctuation\">-</span>operations <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORD_GET_DETAIL'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n        order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n      <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n        operation     <span class=\"token operator\">=</span> lt_operation\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n      <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":118,"column":1,"offset":7597},"end":{"line":139,"column":4,"offset":8159},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"(There is plenty of SAP standard documentation and discussion on SCN on how to use ","position":{"start":{"line":141,"column":1,"offset":8163},"end":{"line":141,"column":84,"offset":8246},"indent":[]}},{"type":"inlineCode","value":"BAPI_PRODORD_GET_DETAIL","position":{"start":{"line":141,"column":84,"offset":8246},"end":{"line":141,"column":109,"offset":8271},"indent":[]}},{"type":"text","value":", so I‚Äôll leave that to you if you need more info üòâ. Here we are just getting the operation information from the order - that‚Äôs all we need.)","position":{"start":{"line":141,"column":109,"offset":8271},"end":{"line":141,"column":251,"offset":8413},"indent":[]}}],"position":{"start":{"line":141,"column":1,"offset":8163},"end":{"line":141,"column":251,"offset":8413},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can finally move the corresponding fields of ","position":{"start":{"line":143,"column":1,"offset":8417},"end":{"line":143,"column":49,"offset":8465},"indent":[]}},{"type":"inlineCode","value":"ls_plpo","position":{"start":{"line":143,"column":49,"offset":8465},"end":{"line":143,"column":58,"offset":8474},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":143,"column":58,"offset":8474},"end":{"line":143,"column":62,"offset":8478},"indent":[]}},{"type":"inlineCode","value":"ls_vgw","position":{"start":{"line":143,"column":62,"offset":8478},"end":{"line":143,"column":70,"offset":8486},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":143,"column":70,"offset":8486},"end":{"line":143,"column":71,"offset":8487},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":8417},"end":{"line":143,"column":71,"offset":8487},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":145,"column":1,"offset":8491},"end":{"line":147,"column":4,"offset":8542},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"However, in addition to these four values, there are two more that are essential, that is the yield amount (","position":{"start":{"line":149,"column":1,"offset":8546},"end":{"line":149,"column":109,"offset":8654},"indent":[]}},{"type":"inlineCode","value":"mgvrg","position":{"start":{"line":149,"column":109,"offset":8654},"end":{"line":149,"column":116,"offset":8661},"indent":[]}},{"type":"text","value":"), and the unit (","position":{"start":{"line":149,"column":116,"offset":8661},"end":{"line":149,"column":133,"offset":8678},"indent":[]}},{"type":"inlineCode","value":"meinh","position":{"start":{"line":149,"column":133,"offset":8678},"end":{"line":149,"column":140,"offset":8685},"indent":[]}},{"type":"text","value":")! We can pass them right into ","position":{"start":{"line":149,"column":140,"offset":8685},"end":{"line":149,"column":171,"offset":8716},"indent":[]}},{"type":"inlineCode","value":"ls_op","position":{"start":{"line":149,"column":171,"offset":8716},"end":{"line":149,"column":178,"offset":8723},"indent":[]}},{"type":"text","value":" as well:","position":{"start":{"line":149,"column":178,"offset":8723},"end":{"line":149,"column":187,"offset":8732},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":8546},"end":{"line":149,"column":187,"offset":8732},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\nls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\nls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":151,"column":1,"offset":8736},"end":{"line":155,"column":4,"offset":8859},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Armed with our structures ","position":{"start":{"line":157,"column":1,"offset":8863},"end":{"line":157,"column":27,"offset":8889},"indent":[]}},{"type":"inlineCode","value":"ls_afvc","position":{"start":{"line":157,"column":27,"offset":8889},"end":{"line":157,"column":36,"offset":8898},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":157,"column":36,"offset":8898},"end":{"line":157,"column":38,"offset":8900},"indent":[]}},{"type":"inlineCode","value":"ls_op","position":{"start":{"line":157,"column":38,"offset":8900},"end":{"line":157,"column":45,"offset":8907},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":157,"column":45,"offset":8907},"end":{"line":157,"column":51,"offset":8913},"indent":[]}},{"type":"inlineCode","value":"ls_vgw","position":{"start":{"line":157,"column":51,"offset":8913},"end":{"line":157,"column":59,"offset":8921},"indent":[]}},{"type":"text","value":", we are ready to call our function:","position":{"start":{"line":157,"column":59,"offset":8921},"end":{"line":157,"column":95,"offset":8957},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":8863},"end":{"line":157,"column":95,"offset":8957},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n    op                <span class=\"token operator\">=</span> ls_op\n    vgw               <span class=\"token operator\">=</span> ls_vgw\n    <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n    <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n  <span class=\"token keyword\">IMPORTING</span>\n    value_fix          <span class=\"token operator\">=</span> lv_value_fix\n    value_var         <span class=\"token operator\">=</span> lv_value_var\n    <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n    <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":159,"column":1,"offset":8961},"end":{"line":180,"column":4,"offset":9800},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We want the total, right? Okay, we just add the fixed value and variable value part:","position":{"start":{"line":182,"column":1,"offset":9804},"end":{"line":182,"column":85,"offset":9888},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":9804},"end":{"line":182,"column":85,"offset":9888},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and variable values for this activity</span>\n</code></pre>\n      </div>","position":{"start":{"line":184,"column":1,"offset":9892},"end":{"line":186,"column":4,"offset":10021},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A requirement by my company was to have all the activity confirmation values with the same unit (I find it cleaner anyway to have all the activity confirmation values in the same unit anyway). Unfortunately, the default unit for some of the activities was hours, so we have to take a small intermediary step and call a conversion function before we are truly done:","position":{"start":{"line":188,"column":1,"offset":10025},"end":{"line":188,"column":365,"offset":10389},"indent":[]}}],"position":{"start":{"line":188,"column":1,"offset":10025},"end":{"line":188,"column":365,"offset":10389},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n<span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n      unit_in              <span class=\"token operator\">=</span> lv_unit\n      unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n    <span class=\"token keyword\">IMPORTING</span>\n      <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n    <span class=\"token keyword\">EXCEPTIONS</span>\n      conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n      division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n      input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n      output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n      <span class=\"token keyword\">overflow</span>              <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n      type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n      units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n      unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n      unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n      <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":190,"column":1,"offset":10393},"end":{"line":216,"column":4,"offset":11330},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We then finally carry over this converted ","position":{"start":{"line":217,"column":1,"offset":11332},"end":{"line":217,"column":43,"offset":11374},"indent":[]}},{"type":"inlineCode","value":"lv_output","position":{"start":{"line":217,"column":43,"offset":11374},"end":{"line":217,"column":54,"offset":11385},"indent":[]}},{"type":"text","value":" over to the ","position":{"start":{"line":217,"column":54,"offset":11385},"end":{"line":217,"column":67,"offset":11398},"indent":[]}},{"type":"inlineCode","value":"conf_activity","position":{"start":{"line":217,"column":67,"offset":11398},"end":{"line":217,"column":82,"offset":11413},"indent":[]}},{"type":"text","value":" field for ","position":{"start":{"line":217,"column":82,"offset":11413},"end":{"line":217,"column":93,"offset":11424},"indent":[]}},{"type":"inlineCode","value":"lt_timetickets","position":{"start":{"line":217,"column":93,"offset":11424},"end":{"line":217,"column":109,"offset":11440},"indent":[]}},{"type":"text","value":", doing this for all 1-6 ","position":{"start":{"line":217,"column":109,"offset":11440},"end":{"line":217,"column":134,"offset":11465},"indent":[]}},{"type":"inlineCode","value":"conf_activity","position":{"start":{"line":217,"column":134,"offset":11465},"end":{"line":217,"column":149,"offset":11480},"indent":[]}},{"type":"text","value":"‚Äôs:","position":{"start":{"line":217,"column":149,"offset":11480},"end":{"line":217,"column":152,"offset":11483},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":11332},"end":{"line":217,"column":152,"offset":11483},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":219,"column":1,"offset":11487},"end":{"line":240,"column":4,"offset":12155},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"With that, we can call the final confirmation function, with all our calculated values wrapped up in ","position":{"start":{"line":242,"column":1,"offset":12159},"end":{"line":242,"column":102,"offset":12260},"indent":[]}},{"type":"inlineCode","value":"lt_timetickets","position":{"start":{"line":242,"column":102,"offset":12260},"end":{"line":242,"column":118,"offset":12276},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":242,"column":118,"offset":12276},"end":{"line":242,"column":119,"offset":12277},"indent":[]}}],"position":{"start":{"line":242,"column":1,"offset":12159},"end":{"line":242,"column":119,"offset":12277},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" create confirmation</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n<span class=\"token comment\">*       CALL_ON_INBOUND_QUEUE          = ' '</span>\n  <span class=\"token keyword\">IMPORTING</span>\n    <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n  <span class=\"token keyword\">TABLES</span>\n    timetickets    <span class=\"token operator\">=</span> lt_timetickets\n    goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n    detail_return  <span class=\"token operator\">=</span> lt_detail_return\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n  <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":244,"column":1,"offset":12281},"end":{"line":269,"column":4,"offset":13225},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you were sharp, you realized all of this code is only on the operation level - so indeed, the six-level loop must be done each time, for each operation - we have to throw all the above code into a loop over our operations! See below for the full result!","position":{"start":{"line":270,"column":1,"offset":13227},"end":{"line":270,"column":257,"offset":13483},"indent":[]}}],"position":{"start":{"line":270,"column":1,"offset":13227},"end":{"line":270,"column":257,"offset":13483},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Production Orders","position":{"start":{"line":272,"column":4,"offset":13490},"end":{"line":272,"column":21,"offset":13507},"indent":[]}}],"position":{"start":{"line":272,"column":1,"offset":13487},"end":{"line":272,"column":21,"offset":13507},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In summary, the full code looks like this:","position":{"start":{"line":273,"column":1,"offset":13509},"end":{"line":273,"column":43,"offset":13551},"indent":[]}}],"position":{"start":{"line":273,"column":1,"offset":13509},"end":{"line":273,"column":43,"offset":13551},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"NOTE: the full code examples were written for a SAP Gateway environment - i.e. the server environment from a SAPUI5 OData call! If you try to copy and paste this code directly into something like a report or function, ABAP statements like:","position":{"start":{"line":275,"column":3,"offset":13557},"end":{"line":275,"column":242,"offset":13796},"indent":[]}}],"position":{"start":{"line":275,"column":1,"offset":13555},"end":{"line":275,"column":244,"offset":13798},"indent":[]}}],"position":{"start":{"line":275,"column":1,"offset":13555},"end":{"line":275,"column":244,"offset":13798},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":277,"column":1,"offset":13802},"end":{"line":279,"column":4,"offset":13898},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"won‚Äôt be in scope and won‚Äôt compile without errors! However, if you are familiar with the CRUD based methods of the SAP Gateway backend, these will fit nicely into the ","position":{"start":{"line":281,"column":1,"offset":13902},"end":{"line":281,"column":169,"offset":14070},"indent":[]}},{"type":"inlineCode","value":"GET_ENTITYSET","position":{"start":{"line":281,"column":169,"offset":14070},"end":{"line":281,"column":184,"offset":14085},"indent":[]}},{"type":"text","value":" method üòÑ","position":{"start":{"line":281,"column":184,"offset":14085},"end":{"line":281,"column":194,"offset":14095},"indent":[]}}],"position":{"start":{"line":281,"column":1,"offset":13902},"end":{"line":281,"column":194,"offset":14095},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">DATA</span> <span class=\"token punctuation\">:</span> lt_filters           <span class=\"token keyword\">TYPE</span>           /iwbep/t_mgw_select_option<span class=\"token punctuation\">,</span>\n           ls_filters           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_filters<span class=\"token punctuation\">,</span>\n           lt_select_options    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_plant_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_orderid_so        <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_fin_conf_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_dev_reason_so     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_conf_text_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_conf_quan_unit_so <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_yield_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_scrap_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           lt_stg_loc           <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_stg_loc           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_stg_loc<span class=\"token punctuation\">,</span>\n           lt_batch             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_batch             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_batch<span class=\"token punctuation\">,</span>\n           lt_reserv_no         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_reserv_no         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_reserv_no<span class=\"token punctuation\">,</span>\n           lt_res_item          <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_res_item          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_res_item<span class=\"token punctuation\">,</span>\n           lt_entry_qnt         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_entry_qnt         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_qnt<span class=\"token punctuation\">,</span>\n           lt_entry_uom         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_entry_uom         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_uom<span class=\"token punctuation\">,</span>\n           ls_return            <span class=\"token keyword\">TYPE</span> bapiret1<span class=\"token punctuation\">,</span>\n           lt_goodsmovements    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi2017_gm_item_create<span class=\"token punctuation\">,</span>\n           ls_goodsmovements    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_goodsmovements<span class=\"token punctuation\">,</span>\n           lv_reserv_lines      <span class=\"token keyword\">TYPE</span> int4<span class=\"token punctuation\">,</span>\n           lv_index             <span class=\"token keyword\">TYPE</span> int4 <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n           lt_detail_return     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_coru_return<span class=\"token punctuation\">,</span>\n           ls_detail_return     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_detail_return<span class=\"token punctuation\">,</span>\n           lv_log_handle        <span class=\"token keyword\">TYPE</span> balloghndl<span class=\"token punctuation\">,</span>\n           lv_message           <span class=\"token keyword\">TYPE</span> char200<span class=\"token punctuation\">,</span>\n           lo_logger            <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> zcl_bc_app_logger<span class=\"token punctuation\">,</span>\n           es_entityset         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> et_entityset<span class=\"token punctuation\">,</span>\n           lv_error_message     <span class=\"token keyword\">TYPE</span> bapi_msg<span class=\"token punctuation\">,</span>\n           ls_order_objects     <span class=\"token keyword\">TYPE</span> bapi_pp_order_objects<span class=\"token punctuation\">,</span>\n           lt_operation         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_order_operation1<span class=\"token punctuation\">,</span>\n           ls_operation         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_operation<span class=\"token punctuation\">,</span>\n           lt_timetickets       <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  bapi_pp_timeticket<span class=\"token punctuation\">,</span>\n           ls_timetickets       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">,</span>\n           lv_number            <span class=\"token keyword\">TYPE</span> bapi_order_key<span class=\"token token-operator punctuation\">-</span>order_number<span class=\"token punctuation\">,</span>\n           ls_propose           <span class=\"token keyword\">TYPE</span> bapi_pp_conf_prop<span class=\"token punctuation\">,</span>\n           ls_op                <span class=\"token keyword\">TYPE</span> rcrop<span class=\"token punctuation\">,</span>\n           ls_vgw               <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token punctuation\">,</span>\n           ls_afvc              <span class=\"token keyword\">TYPE</span> afvc<span class=\"token punctuation\">,</span>\n           ls_plpo              <span class=\"token keyword\">TYPE</span> plpo<span class=\"token punctuation\">,</span>\n           lv_value_fix         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_value_var         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_value             <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_unit              <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token token-operator punctuation\">-</span>vge01<span class=\"token punctuation\">,</span>\n           lv_output            <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n\n           <span class=\"token eol-comment comment\">\" Create a log instance</span>\n    <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> lo_logger\n      <span class=\"token keyword\">EXPORTING</span>\n        iv_subobject <span class=\"token operator\">=</span> <span class=\"token string\">'ZPP_APP'</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">IMPORTING</span> ev_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Begin Method PRODCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n\n    <span class=\"token eol-comment comment\">\"get $filter through the io_tech request (odata request)</span>\n    lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" Process filters</span>\n\n    <span class=\"token eol-comment comment\">\" for these below we just need the singular select option structure</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'PLANT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_plant_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ORDERID'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_orderid_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FIN_CONF'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_fin_conf_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'DEV_REASON'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_dev_reason_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_TEXT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_text_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_QUAN_UNIT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_quan_unit_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'YIELD'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_yield_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SCRAP'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_scrap_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" for the following we need tables (make a loop and get the values from each)</span>\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'STGE_LOC'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_stg_loc <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'BATCH'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_batch <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RESERV_NO'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_reserv_no <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RES_ITEM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_res_item <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_QNT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_entry_qnt <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_UOM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_entry_uom <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Create goodsmovement structure for all the retroactive items</span>\n    <span class=\"token keyword\">DESCRIBE</span> <span class=\"token keyword\">TABLE</span> lt_reserv_no <span class=\"token keyword\">LINES</span> lv_reserv_lines<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DO</span> lv_reserv_lines <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span>\n      ls_stg_loc <span class=\"token operator\">=</span> lt_stg_loc[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_batch <span class=\"token operator\">=</span> lt_batch[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_reserv_no <span class=\"token operator\">=</span> lt_reserv_no[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_res_item <span class=\"token operator\">=</span> lt_res_item[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_entry_qnt <span class=\"token operator\">=</span> lt_entry_qnt[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_entry_uom <span class=\"token operator\">=</span> lt_entry_uom[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>plant <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed factory</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>stge_loc <span class=\"token operator\">=</span> ls_stg_loc<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>batch <span class=\"token operator\">=</span> ls_batch<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>move_type <span class=\"token operator\">=</span> <span class=\"token string\">'261'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed movement type</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>item_text <span class=\"token operator\">=</span> <span class=\"token string\">'Warenbewegung f√ºr R√ºckmeldung PP APP'</span><span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>reserv_no <span class=\"token operator\">=</span> ls_reserv_no<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>res_item <span class=\"token operator\">=</span> ls_res_item<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_qnt <span class=\"token operator\">=</span> ls_entry_qnt<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_uom <span class=\"token operator\">=</span> ls_entry_uom<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> ls_goodsmovements <span class=\"token keyword\">TO</span> lt_goodsmovements<span class=\"token punctuation\">.</span>\n      lv_index <span class=\"token operator\">=</span> lv_index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" need only the operations from the function</span>\n    ls_order_objects<span class=\"token token-operator punctuation\">-</span>operations <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORD_GET_DETAIL'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n        order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n      <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n        operation     <span class=\"token operator\">=</span> lt_operation\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n      <span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" build structures for each step (each operation)</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_operation <span class=\"token keyword\">INTO</span> ls_operation<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CLEAR</span> ls_timetickets<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" this is the full key for table AFVC - Auftragsarbeitsvorgang for the routing number and counter - should always work with SELECT SINGLE</span>\n      <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n        <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>routing_no\n        <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" this is the full key for table PLPO - Plan: Vorgang - so it should always work with SELECT SINGLE</span>\n      <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n        <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n        <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n        <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n        <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" now provide all the standard values (vorgabewert) VGW01, 02, etc into the calculation formula</span>\n      <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\n      ls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">DO</span> <span class=\"token number\">6</span> <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each activity (usually 4 activities here at my company, but there can be up to 6 activities total)</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">1</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw01 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">2</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw02 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">3</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw03 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">4</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw04 <span class=\"token keyword\">EQ</span> 0f\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">5</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw05 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">6</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw06 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" skip and 0 values</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n          <span class=\"token keyword\">EXPORTING</span>\n            arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n            op                <span class=\"token operator\">=</span> ls_op\n            vgw               <span class=\"token operator\">=</span> ls_vgw\n            <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n            <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n          <span class=\"token keyword\">IMPORTING</span>\n            value_fix          <span class=\"token operator\">=</span> lv_value_fix\n            value_var         <span class=\"token operator\">=</span> lv_value_var\n            <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n          <span class=\"token keyword\">EXCEPTIONS</span>\n            missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n            division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n            <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n        lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and varible values for this activity</span>\n\n        <span class=\"token eol-comment comment\">\" convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n        <span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n            <span class=\"token keyword\">EXPORTING</span>\n              <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n              unit_in              <span class=\"token operator\">=</span> lv_unit\n              unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n            <span class=\"token keyword\">IMPORTING</span>\n              <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n            <span class=\"token keyword\">EXCEPTIONS</span>\n              conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n              division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n              input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n              output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n              <span class=\"token keyword\">overflow</span>              <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n              type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n              units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n              unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n              unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n              <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n            lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n            <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n            <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n          lv_unit <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" 2018.04.19 - need to overwrite unit to MIN!</span>\n        <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n          lv_output <span class=\"token operator\">=</span> lv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" copy over MIN value</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now build the table to confirm the operations (Vorg√§nge)</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_no     <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>conf_no<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>orderid     <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>sequence    <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>sequence_no<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>operation   <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>operation_number<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>work_cntr   <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>work_center<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Resource for process order, logdate, logtime, and posting date added to the table</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>plant       <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>logdate     <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>logtime     <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>timlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>postg_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>yield <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>scrap <span class=\"token operator\">=</span> ls_scrap_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>fin_conf <span class=\"token operator\">=</span> ls_fin_conf_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" also overwrite the proposed partial or final confirmation - take what the user provides!</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_quan_unit <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Also the unit</span>\n      <span class=\"token keyword\">APPEND</span> ls_timetickets <span class=\"token keyword\">TO</span> lt_timetickets<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" create confirmation</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n<span class=\"token comment\">*       CALL_ON_INBOUND_QUEUE          = ' '</span>\n      <span class=\"token keyword\">IMPORTING</span>\n        <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n      <span class=\"token keyword\">TABLES</span>\n        timetickets    <span class=\"token operator\">=</span> lt_timetickets\n        goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n        detail_return  <span class=\"token operator\">=</span> lt_detail_return\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n      <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":283,"column":1,"offset":14099},"end":{"line":603,"column":4,"offset":28888},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Process Orders","position":{"start":{"line":605,"column":4,"offset":28895},"end":{"line":605,"column":18,"offset":28909},"indent":[]}}],"position":{"start":{"line":605,"column":1,"offset":28892},"end":{"line":605,"column":18,"offset":28909},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Because SAP is ever-so-special, process orders have a slightly different program process due to a few name changes. Here is a summary of some of those name and type changes:","position":{"start":{"line":607,"column":1,"offset":28913},"end":{"line":607,"column":174,"offset":29086},"indent":[]}}],"position":{"start":{"line":607,"column":1,"offset":28913},"end":{"line":607,"column":174,"offset":29086},"indent":[]}},{"type":"html","value":"<hr/>","position":{"start":{"line":609,"column":1,"offset":29090},"end":{"line":609,"column":6,"offset":29095},"indent":[]}},{"type":"table","align":[null,null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Topic","position":{"start":{"line":611,"column":3,"offset":29101},"end":{"line":611,"column":8,"offset":29106},"indent":[]}}],"position":{"start":{"line":611,"column":3,"offset":29101},"end":{"line":611,"column":8,"offset":29106},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Production Orders","position":{"start":{"line":611,"column":11,"offset":29109},"end":{"line":611,"column":28,"offset":29126},"indent":[]}}],"position":{"start":{"line":611,"column":11,"offset":29109},"end":{"line":611,"column":28,"offset":29126},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Process Orders","position":{"start":{"line":611,"column":31,"offset":29129},"end":{"line":611,"column":45,"offset":29143},"indent":[]}}],"position":{"start":{"line":611,"column":31,"offset":29129},"end":{"line":611,"column":45,"offset":29143},"indent":[]}}],"position":{"start":{"line":611,"column":1,"offset":29099},"end":{"line":611,"column":47,"offset":29145},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Name of the ‚Äòsteps‚Äô in your process or production order","position":{"start":{"line":613,"column":3,"offset":29199},"end":{"line":613,"column":58,"offset":29254},"indent":[]}}],"position":{"start":{"line":613,"column":3,"offset":29199},"end":{"line":613,"column":58,"offset":29254},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"phase/activity (I‚Äôve seen both names, ABAP uses mostly ‚Äòphase‚Äô)","position":{"start":{"line":613,"column":61,"offset":29257},"end":{"line":613,"column":124,"offset":29320},"indent":[]}}],"position":{"start":{"line":613,"column":61,"offset":29257},"end":{"line":613,"column":124,"offset":29320},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"operation","position":{"start":{"line":613,"column":127,"offset":29323},"end":{"line":613,"column":136,"offset":29332},"indent":[]}}],"position":{"start":{"line":613,"column":127,"offset":29323},"end":{"line":613,"column":136,"offset":29332},"indent":[]}}],"position":{"start":{"line":613,"column":1,"offset":29197},"end":{"line":613,"column":138,"offset":29334},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Get order detail of order","position":{"start":{"line":614,"column":3,"offset":29338},"end":{"line":614,"column":28,"offset":29363},"indent":[]}}],"position":{"start":{"line":614,"column":3,"offset":29338},"end":{"line":614,"column":28,"offset":29363},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PRODORD_GET_DETAIL","position":{"start":{"line":614,"column":31,"offset":29366},"end":{"line":614,"column":56,"offset":29391},"indent":[]}}],"position":{"start":{"line":614,"column":31,"offset":29366},"end":{"line":614,"column":56,"offset":29391},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PROCORD_GET_DETAIL","position":{"start":{"line":614,"column":59,"offset":29394},"end":{"line":614,"column":84,"offset":29419},"indent":[]}}],"position":{"start":{"line":614,"column":59,"offset":29394},"end":{"line":614,"column":84,"offset":29419},"indent":[]}}],"position":{"start":{"line":614,"column":1,"offset":29336},"end":{"line":614,"column":86,"offset":29421},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"detail of order ‚Äòstep‚Äô type","position":{"start":{"line":615,"column":3,"offset":29425},"end":{"line":615,"column":30,"offset":29452},"indent":[]}}],"position":{"start":{"line":615,"column":3,"offset":29425},"end":{"line":615,"column":30,"offset":29452},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"bapi_order_phase","position":{"start":{"line":615,"column":33,"offset":29455},"end":{"line":615,"column":51,"offset":29473},"indent":[]}}],"position":{"start":{"line":615,"column":33,"offset":29455},"end":{"line":615,"column":52,"offset":29474},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"bapi_order_operation1","position":{"start":{"line":615,"column":56,"offset":29478},"end":{"line":615,"column":79,"offset":29501},"indent":[]}}],"position":{"start":{"line":615,"column":56,"offset":29478},"end":{"line":615,"column":79,"offset":29501},"indent":[]}}],"position":{"start":{"line":615,"column":1,"offset":29423},"end":{"line":615,"column":81,"offset":29503},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Function for timeticket proposals","position":{"start":{"line":616,"column":3,"offset":29507},"end":{"line":616,"column":36,"offset":29540},"indent":[]}}],"position":{"start":{"line":616,"column":3,"offset":29507},"end":{"line":616,"column":36,"offset":29540},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PRODORD_GET_DETAIL","position":{"start":{"line":616,"column":39,"offset":29543},"end":{"line":616,"column":64,"offset":29568},"indent":[]}}],"position":{"start":{"line":616,"column":39,"offset":29543},"end":{"line":616,"column":64,"offset":29568},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PROCORD_GET_DETAIL","position":{"start":{"line":616,"column":67,"offset":29571},"end":{"line":616,"column":92,"offset":29596},"indent":[]}}],"position":{"start":{"line":616,"column":67,"offset":29571},"end":{"line":616,"column":92,"offset":29596},"indent":[]}}],"position":{"start":{"line":616,"column":1,"offset":29505},"end":{"line":616,"column":94,"offset":29598},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Function for order confirmation","position":{"start":{"line":617,"column":3,"offset":29602},"end":{"line":617,"column":34,"offset":29633},"indent":[]}}],"position":{"start":{"line":617,"column":3,"offset":29602},"end":{"line":617,"column":34,"offset":29633},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PRODORDCONF_CREATE_TT","position":{"start":{"line":617,"column":37,"offset":29636},"end":{"line":617,"column":65,"offset":29664},"indent":[]}}],"position":{"start":{"line":617,"column":37,"offset":29636},"end":{"line":617,"column":65,"offset":29664},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"BAPI_PROCORDCONF_CREATE_TT","position":{"start":{"line":617,"column":68,"offset":29667},"end":{"line":617,"column":96,"offset":29695},"indent":[]}}],"position":{"start":{"line":617,"column":68,"offset":29667},"end":{"line":617,"column":96,"offset":29695},"indent":[]}}],"position":{"start":{"line":617,"column":1,"offset":29600},"end":{"line":617,"column":98,"offset":29697},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"inlineCode","value":"timetickets","position":{"start":{"line":618,"column":3,"offset":29701},"end":{"line":618,"column":16,"offset":29714},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":618,"column":16,"offset":29714},"end":{"line":618,"column":17,"offset":29715},"indent":[]}},{"type":"inlineCode","value":"TYPE","position":{"start":{"line":618,"column":17,"offset":29715},"end":{"line":618,"column":23,"offset":29721},"indent":[]}},{"type":"text","value":" in order confirmation function","position":{"start":{"line":618,"column":23,"offset":29721},"end":{"line":618,"column":54,"offset":29752},"indent":[]}}],"position":{"start":{"line":618,"column":3,"offset":29701},"end":{"line":618,"column":54,"offset":29752},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"bapi_pp_timeticket","position":{"start":{"line":618,"column":57,"offset":29755},"end":{"line":618,"column":77,"offset":29775},"indent":[]}}],"position":{"start":{"line":618,"column":57,"offset":29755},"end":{"line":618,"column":77,"offset":29775},"indent":[]}},{"type":"tableCell","children":[{"type":"inlineCode","value":"bapi_pi_timeticket1","position":{"start":{"line":618,"column":80,"offset":29778},"end":{"line":618,"column":101,"offset":29799},"indent":[]}}],"position":{"start":{"line":618,"column":80,"offset":29778},"end":{"line":618,"column":101,"offset":29799},"indent":[]}}],"position":{"start":{"line":618,"column":1,"offset":29699},"end":{"line":618,"column":103,"offset":29801},"indent":[]}}],"position":{"start":{"line":611,"column":1,"offset":29099},"end":{"line":618,"column":103,"offset":29801},"indent":[1,1,1,1,1,1,1]}},{"type":"html","value":"<hr/>","position":{"start":{"line":620,"column":1,"offset":29805},"end":{"line":620,"column":6,"offset":29810},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are more, but you can find those in the code for yourself. The important thing to notice is that the key challenging part here, calculating the confirmation activity amounts, uses the same internal function module, ","position":{"start":{"line":622,"column":1,"offset":29814},"end":{"line":622,"column":222,"offset":30035},"indent":[]}},{"type":"inlineCode","value":"","position":{"start":{"line":622,"column":222,"offset":30035},"end":{"line":622,"column":224,"offset":30037},"indent":[]}}],"position":{"start":{"line":622,"column":1,"offset":29814},"end":{"line":622,"column":224,"offset":30037},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here‚Äôs the code for calculating activities for process orders - ","position":{"start":{"line":624,"column":1,"offset":30041},"end":{"line":624,"column":65,"offset":30105},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"note the slight change in all the variable names!","position":{"start":{"line":624,"column":66,"offset":30106},"end":{"line":624,"column":115,"offset":30155},"indent":[]}}],"position":{"start":{"line":624,"column":65,"offset":30105},"end":{"line":624,"column":116,"offset":30156},"indent":[]}},{"type":"text","value":" - and be careful with your types (carefully look over the ","position":{"start":{"line":624,"column":116,"offset":30156},"end":{"line":624,"column":175,"offset":30215},"indent":[]}},{"type":"inlineCode","value":"DATA:","position":{"start":{"line":624,"column":175,"offset":30215},"end":{"line":624,"column":182,"offset":30222},"indent":[]}},{"type":"text","value":" statement), otherwise you‚Äôll get üí•","position":{"start":{"line":624,"column":182,"offset":30222},"end":{"line":624,"column":218,"offset":30258},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"exploding runtime errors","position":{"start":{"line":624,"column":220,"offset":30260},"end":{"line":624,"column":244,"offset":30284},"indent":[]}}],"position":{"start":{"line":624,"column":218,"offset":30258},"end":{"line":624,"column":246,"offset":30286},"indent":[]}},{"type":"text","value":"üí• when you try to confirm something with one of our two main functions and you pass, for example, the  ","position":{"start":{"line":624,"column":246,"offset":30286},"end":{"line":624,"column":350,"offset":30390},"indent":[]}},{"type":"inlineCode","value":"lt_timetickets","position":{"start":{"line":624,"column":350,"offset":30390},"end":{"line":624,"column":366,"offset":30406},"indent":[]}},{"type":"text","value":" with the production type ","position":{"start":{"line":624,"column":366,"offset":30406},"end":{"line":624,"column":392,"offset":30432},"indent":[]}},{"type":"inlineCode","value":"","position":{"start":{"line":624,"column":392,"offset":30432},"end":{"line":624,"column":394,"offset":30434},"indent":[]}},{"type":"text","value":", and you pass it into the of the ","position":{"start":{"line":624,"column":394,"offset":30434},"end":{"line":624,"column":428,"offset":30468},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"process","position":{"start":{"line":624,"column":429,"offset":30469},"end":{"line":624,"column":436,"offset":30476},"indent":[]}}],"position":{"start":{"line":624,"column":428,"offset":30468},"end":{"line":624,"column":437,"offset":30477},"indent":[]}},{"type":"text","value":" order function module.","position":{"start":{"line":624,"column":437,"offset":30477},"end":{"line":624,"column":460,"offset":30500},"indent":[]}}],"position":{"start":{"line":624,"column":1,"offset":30041},"end":{"line":624,"column":460,"offset":30500},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>  <span class=\"token keyword\">DATA</span> <span class=\"token punctuation\">:</span> lt_filters           <span class=\"token keyword\">TYPE</span>           /iwbep/t_mgw_select_option<span class=\"token punctuation\">,</span>\n         ls_filters           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_filters<span class=\"token punctuation\">,</span>\n         lt_select_options    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_plant_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_orderid_so        <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_fin_conf_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_dev_reason_so     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_conf_text_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_conf_quan_unit_so <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_yield_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_scrap_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_stge_loc_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_batch_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_reserv_no_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_res_item_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_entry_qnt_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_entry_uom_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         lt_stg_loc           <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_stg_loc           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_stg_loc<span class=\"token punctuation\">,</span>\n         lt_batch             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_batch             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_batch<span class=\"token punctuation\">,</span>\n         lt_reserv_no         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_reserv_no         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_reserv_no<span class=\"token punctuation\">,</span>\n         lt_res_item          <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_res_item          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_res_item<span class=\"token punctuation\">,</span>\n         lt_entry_qnt         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_entry_qnt         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_qnt<span class=\"token punctuation\">,</span>\n         lt_entry_uom         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_entry_uom         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_uom<span class=\"token punctuation\">,</span>\n         ls_return            <span class=\"token keyword\">TYPE</span> bapiret1<span class=\"token punctuation\">,</span>\n         lt_goodsmovements    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi2017_gm_item_create<span class=\"token punctuation\">,</span>\n         ls_goodsmovements    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_goodsmovements<span class=\"token punctuation\">,</span>\n         lv_reserv_lines      <span class=\"token keyword\">TYPE</span> int4<span class=\"token punctuation\">,</span>\n         lv_index             <span class=\"token keyword\">TYPE</span> int4 <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n         lt_detail_return     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_coru_return<span class=\"token punctuation\">,</span>\n         ls_detail_return     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_detail_return<span class=\"token punctuation\">,</span>\n         lv_log_handle        <span class=\"token keyword\">TYPE</span> balloghndl<span class=\"token punctuation\">,</span>\n         lv_message           <span class=\"token keyword\">TYPE</span> char200<span class=\"token punctuation\">,</span>\n         lo_logger            <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> zcl_bc_app_logger<span class=\"token punctuation\">,</span>\n         es_entityset         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> et_entityset<span class=\"token punctuation\">,</span>\n         lv_error_message     <span class=\"token keyword\">TYPE</span> bapi_msg<span class=\"token punctuation\">,</span>\n         ls_order_objects     <span class=\"token keyword\">TYPE</span> bapi_pi_order_objects<span class=\"token punctuation\">,</span>\n         lt_phase             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_order_phase<span class=\"token punctuation\">,</span>\n         ls_phase             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_phase<span class=\"token punctuation\">,</span>\n         lt_timetickets       <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_pi_timeticket1<span class=\"token punctuation\">,</span>\n         ls_timetickets       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">,</span>\n         lv_number            <span class=\"token keyword\">TYPE</span> bapi_order_key<span class=\"token token-operator punctuation\">-</span>order_number<span class=\"token punctuation\">,</span>\n         ls_op                <span class=\"token keyword\">TYPE</span> rcrop<span class=\"token punctuation\">,</span>\n         ls_vgw               <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token punctuation\">,</span>\n         ls_afvc              <span class=\"token keyword\">TYPE</span> afvc<span class=\"token punctuation\">,</span>\n         ls_plpo              <span class=\"token keyword\">TYPE</span> plpo<span class=\"token punctuation\">,</span>\n         lv_value_fix         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_value_var         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_value             <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_unit              <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token token-operator punctuation\">-</span>vge01<span class=\"token punctuation\">,</span>\n         lv_output            <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">FIELD-SYMBOLS</span><span class=\"token punctuation\">:</span> &lt;fs_timetickets> <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" create a log instance</span>\n  <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> lo_logger\n    <span class=\"token keyword\">EXPORTING</span>\n      iv_subobject <span class=\"token operator\">=</span> <span class=\"token string\">'ZPP_APP'</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">IMPORTING</span> ev_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Begin Method PROCCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n\n  <span class=\"token eol-comment comment\">\"get $filter through the io_tech request (odata request)</span>\n  lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Process filters</span>\n\n  <span class=\"token eol-comment comment\">\" for these below we just need the singular select option structure</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'PLANT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_plant_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ORDERID'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_orderid_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FIN_CONF'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_fin_conf_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'DEV_REASON'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_dev_reason_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_TEXT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_text_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_QUAN_UNIT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_quan_unit_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'YIELD'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_yield_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SCRAP'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_scrap_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" for the following we need tables (make a loop and get the values from each)</span>\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'STGE_LOC'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_stg_loc <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'BATCH'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_batch <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RESERV_NO'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_reserv_no <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RES_ITEM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_res_item <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_QNT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_entry_qnt <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_UOM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_entry_uom <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Create goodsmovement structure for all the retroactive items</span>\n  <span class=\"token keyword\">DESCRIBE</span> <span class=\"token keyword\">TABLE</span> lt_reserv_no <span class=\"token keyword\">LINES</span> lv_reserv_lines<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">DO</span> lv_reserv_lines <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span>\n    ls_stg_loc <span class=\"token operator\">=</span> lt_stg_loc[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_batch <span class=\"token operator\">=</span> lt_batch[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_reserv_no <span class=\"token operator\">=</span> lt_reserv_no[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_res_item <span class=\"token operator\">=</span> lt_res_item[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_entry_qnt <span class=\"token operator\">=</span> lt_entry_qnt[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_entry_uom <span class=\"token operator\">=</span> lt_entry_uom[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>plant <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed factory</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>stge_loc <span class=\"token operator\">=</span> ls_stg_loc<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>batch <span class=\"token operator\">=</span> ls_batch<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>move_type <span class=\"token operator\">=</span> <span class=\"token string\">'261'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed movement type</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>item_text <span class=\"token operator\">=</span> <span class=\"token string\">'Warenbewegung f√ºr R√ºckmeldung PP APP'</span><span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>reserv_no <span class=\"token operator\">=</span> ls_reserv_no<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>res_item <span class=\"token operator\">=</span> ls_res_item<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_qnt <span class=\"token operator\">=</span> ls_entry_qnt<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_uom <span class=\"token operator\">=</span> ls_entry_uom<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> ls_goodsmovements <span class=\"token keyword\">TO</span> lt_goodsmovements<span class=\"token punctuation\">.</span>\n    lv_index <span class=\"token operator\">=</span> lv_index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n  ls_order_objects<span class=\"token token-operator punctuation\">-</span>phases <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORD_GET_DETAIL'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n      order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n    <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n      phase         <span class=\"token operator\">=</span> lt_phase\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n    <span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_phase <span class=\"token keyword\">INTO</span> ls_phase<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each phase - create both the activities table and timetickets table</span>\n    <span class=\"token keyword\">CLEAR</span> ls_timetickets<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" this is the full key for table AFVC - Auftragsarbeitsvorgang for the routing number and counter - should always work with SELECT SINGLE</span>\n    <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n      <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>routing_no\n      <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" this is the full key for table PLPO - Plan: Vorgang - so it should always work with SELECT SINGLE</span>\n    <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n      <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n      <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n      <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n      <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" now provide all the standard values (vorgabewert) VGW01, 02, etc into the calculation formula</span>\n    <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\n    ls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DO</span> <span class=\"token number\">6</span> <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each activity (usually 4 activities here at company, but there can be up to 6 activities total)</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">1</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw01 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">2</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw02 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">3</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw03 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">4</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw04 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">5</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw05 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">6</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw06 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" skip and 0 values</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n          op                <span class=\"token operator\">=</span> ls_op\n          vgw               <span class=\"token operator\">=</span> ls_vgw\n          <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n          <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n        <span class=\"token keyword\">IMPORTING</span>\n          value_fix         <span class=\"token operator\">=</span> lv_value_fix\n          value_var         <span class=\"token operator\">=</span> lv_value_var\n          <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n          division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n          <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and varible values for this activity</span>\n\n      <span class=\"token eol-comment comment\">\" Convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n      <span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n          <span class=\"token keyword\">EXPORTING</span>\n            <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n            unit_in              <span class=\"token operator\">=</span> lv_unit\n            unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n          <span class=\"token keyword\">IMPORTING</span>\n            <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n          <span class=\"token keyword\">EXCEPTIONS</span>\n            conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n            input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n            output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n            <span class=\"token keyword\">overflow</span>             <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n            type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n            units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n            unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n            unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n            <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n          <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n        lv_unit <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" 2018.04.19 - need to overwrite unit to MIN!</span>\n      <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n        lv_output <span class=\"token operator\">=</span> lv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" copy over MIN value</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" Also build the table to confirm the operations (Vorg√§nge)</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_no    <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>conf_no<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>orderid    <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>phase      <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>operation_number<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>resource   <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>resource<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Resource in process orders is the equivalent of work_center (wrk_cntr) for production orders</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>plant      <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>logdate    <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>logtime    <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>timlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>postg_date <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>yield <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>scrap <span class=\"token operator\">=</span> ls_scrap_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>fin_conf <span class=\"token operator\">=</span> ls_fin_conf_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" also overwrite the proposed tiel oder endruckmeldung - take what the user provides!</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_quan_unit <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Also the unit</span>\n    <span class=\"token keyword\">APPEND</span> ls_timetickets <span class=\"token keyword\">TO</span> lt_timetickets<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n    <span class=\"token keyword\">IMPORTING</span>\n      <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n    <span class=\"token keyword\">TABLES</span>\n      timetickets    <span class=\"token operator\">=</span> lt_timetickets\n      goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n      detail_return  <span class=\"token operator\">=</span> lt_detail_return\n    <span class=\"token keyword\">EXCEPTIONS</span>\n      <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> ls_return <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_detail_return <span class=\"token keyword\">INTO</span> ls_detail_return <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">EQ</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      lv_error_message <span class=\"token operator\">=</span> ls_detail_return<span class=\"token token-operator punctuation\">-</span>message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'Fehler bei der R√ºckmeldung: '</span> lv_error_message <span class=\"token keyword\">INTO</span> lv_message<span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> lv_message <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    es_entityset<span class=\"token token-operator punctuation\">-</span>error_message <span class=\"token operator\">=</span> lv_error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Ende Method PROCCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>save_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" FB Documentation says COMMIT WORK is required</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_TRANSACTION_COMMIT'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">wait</span> <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">COMMIT</span> <span class=\"token keyword\">WORK</span> <span class=\"token keyword\">AND</span> <span class=\"token keyword\">WAIT</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>","position":{"start":{"line":626,"column":1,"offset":30504},"end":{"line":965,"column":4,"offset":45808},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Final Comments","position":{"start":{"line":967,"column":4,"offset":45815},"end":{"line":967,"column":18,"offset":45829},"indent":[]}}],"position":{"start":{"line":967,"column":1,"offset":45812},"end":{"line":967,"column":18,"offset":45829},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Whew. Did it feel like a marathon? :runner: Because it felt to ","position":{"start":{"line":969,"column":1,"offset":45833},"end":{"line":969,"column":64,"offset":45896},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"me","position":{"start":{"line":969,"column":65,"offset":45897},"end":{"line":969,"column":67,"offset":45899},"indent":[]}}],"position":{"start":{"line":969,"column":64,"offset":45896},"end":{"line":969,"column":68,"offset":45900},"indent":[]}},{"type":"text","value":" like a marathon all that time I was scratching my head. I hope you all enjoyed and found this post useful for a not-so-often programmed function of this production planning section of SAP.","position":{"start":{"line":969,"column":68,"offset":45900},"end":{"line":969,"column":257,"offset":46089},"indent":[]}}],"position":{"start":{"line":969,"column":1,"offset":45833},"end":{"line":969,"column":257,"offset":46089},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Another note and quick plug üòÑ I hope everyone can appreciate the time I put into creating these posts (","position":{"start":{"line":971,"column":1,"offset":46093},"end":{"line":971,"column":105,"offset":46197},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"hint:","position":{"start":{"line":971,"column":106,"offset":46198},"end":{"line":971,"column":111,"offset":46203},"indent":[]}}],"position":{"start":{"line":971,"column":105,"offset":46197},"end":{"line":971,"column":112,"offset":46204},"indent":[]}},{"type":"text","value":" posts this long take a ","position":{"start":{"line":971,"column":112,"offset":46204},"end":{"line":971,"column":136,"offset":46228},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"LONG","position":{"start":{"line":971,"column":138,"offset":46230},"end":{"line":971,"column":142,"offset":46234},"indent":[]}}],"position":{"start":{"line":971,"column":136,"offset":46228},"end":{"line":971,"column":144,"offset":46236},"indent":[]}},{"type":"text","value":" time to write!). It would make me happy and give me the motivation to keep writing these detailed ABAP posts if you‚Äôd consider donating (in the footer of any page on this blog) I have a ","position":{"start":{"line":971,"column":144,"offset":46236},"end":{"line":971,"column":331,"offset":46423},"indent":[]}},{"type":"link","title":null,"url":"https://www.paypal.me/chrisfrewin","children":[{"type":"text","value":"PayPal.me link","position":{"start":{"line":971,"column":332,"offset":46424},"end":{"line":971,"column":346,"offset":46438},"indent":[]}}],"position":{"start":{"line":971,"column":331,"offset":46423},"end":{"line":971,"column":382,"offset":46474},"indent":[]}},{"type":"text","value":", and I‚Äôm also an Ethereum developer if you‚Äôd like to donate Ether or if you would like to donate some RaiBlocks, as I am a RaiBlocks enthusiast if you would prefer to donate in that way.","position":{"start":{"line":971,"column":382,"offset":46474},"end":{"line":971,"column":569,"offset":46661},"indent":[]}}],"position":{"start":{"line":971,"column":1,"offset":46093},"end":{"line":971,"column":569,"offset":46661},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"üí© Ok, plug done! üí©","position":{"start":{"line":973,"column":1,"offset":46665},"end":{"line":973,"column":21,"offset":46685},"indent":[]}}],"position":{"start":{"line":973,"column":1,"offset":46665},"end":{"line":973,"column":21,"offset":46685},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Cheers! üç∫","position":{"start":{"line":975,"column":1,"offset":46689},"end":{"line":975,"column":11,"offset":46699},"indent":[]}}],"position":{"start":{"line":975,"column":1,"offset":46689},"end":{"line":975,"column":11,"offset":46699},"indent":[]}},{"type":"html","value":"<hr/>","position":{"start":{"line":977,"column":1,"offset":46703},"end":{"line":977,"column":6,"offset":46708},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Footnotes","position":{"start":{"line":979,"column":3,"offset":46714},"end":{"line":979,"column":12,"offset":46723},"indent":[]}}],"position":{"start":{"line":979,"column":1,"offset":46712},"end":{"line":979,"column":12,"offset":46723},"indent":[]}},{"type":"html","value":"<div id=\"footnote-1\">\n1. Activities/phases are for production orders; Operations are for process orders. From this point onward, I will refer just to activities, since this post focuses on production orders. I also post the adjacent code for process orders in this post.\n</div>","position":{"start":{"line":981,"column":1,"offset":46727},"end":{"line":983,"column":7,"offset":47006},"indent":[1,1]}},{"type":"html","value":"<div id=\"footnote-2\">\n2. I have to give credit where credit is due! I received a lot of assistance from our production planning module supervisor - he showed me the transactions that finally got me to a working result. üëç\n</div>","position":{"start":{"line":985,"column":1,"offset":47010},"end":{"line":987,"column":7,"offset":47240},"indent":[1,1]}},{"type":"html","value":"<div id=\"footnote-3\">\n3. You can set up your production planning (PP) module to give you a proposal amount for the activities, directly when you are doing confirmations transaction <span style=\"font-family:'Courier New'\">CO11N</span>:","position":{"start":{"line":989,"column":1,"offset":47244},"end":{"line":990,"column":213,"offset":47479},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Upon pressing ‚Äòenter‚Äô for with a new amount:\n","position":{"start":{"line":992,"column":1,"offset":47483},"end":{"line":993,"column":1,"offset":47529},"indent":[1]}},{"type":"html","title":null,"url":"co11n-1.jpg","alt":"Automatic calculation of confirmation activities by the System in transaction CO11N","position":{"start":{"line":993,"column":1,"offset":47529},"end":{"line":993,"column":100,"offset":47628},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-27f1f.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.04627249357326%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdyCUH//xAAWEAEBAQAAAAAAAAAAAAAAAAAAISL/2gAIAQEAAQUCaV//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAAQf/aAAgBAQAGPwJEf//EABkQAAEFAAAAAAAAAAAAAAAAAAABEBExUf/aAAgBAQABPyFLanZ//9oADAMBAAIAAwAAABB8L//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBqkP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCNf//EABsQAAEEAwAAAAAAAAAAAAAAABEAATFBUXGR/9oACAEBAAE/EApOEKO3qDJtOv/Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Automatic calculation of confirmation activities by the System in transaction CO11N\"\n        title=\"\"\n        src=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-f8fb9.jpg\"\n        srcset=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-e8976.jpg 148w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-63df2.jpg 295w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-f8fb9.jpg 590w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-27f1f.jpg 778w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":992,"column":1,"offset":47483},"end":{"line":993,"column":100,"offset":47628},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Pressing ‚ÄòOK‚Äô for this window, we get a popup:","position":{"start":{"line":995,"column":1,"offset":47632},"end":{"line":995,"column":47,"offset":47678},"indent":[]}}],"position":{"start":{"line":995,"column":1,"offset":47632},"end":{"line":995,"column":47,"offset":47678},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"co11n-2.jpg","alt":"Filling confirmation activities by hand in transaction CO11N","position":{"start":{"line":997,"column":1,"offset":47682},"end":{"line":997,"column":77,"offset":47758},"indent":[]},"value":"\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-354e5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.42301184433165%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe3cWGj/xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQABBQJj/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAERITEQQVH/2gAIAQEAAT8hjYzyMvSwlY//2gAMAwEAAgADAAAAELMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQAhETFhEP/aAAgBAQABPxA0RjpYwGAvuJ0y7HRolKef/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Filling confirmation activities by hand in transaction CO11N\"\n        title=\"\"\n        src=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-f8fb9.jpg\"\n        srcset=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-e8976.jpg 148w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-63df2.jpg 295w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-f8fb9.jpg 590w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-354e5.jpg 591w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    "}],"position":{"start":{"line":997,"column":1,"offset":47682},"end":{"line":997,"column":77,"offset":47758},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We see that the Labor time is provided here. It‚Äôs likely 30 min for a full 100 KG, since the system is proposing only 15 minutes for 50 KG, half of what the full order amount should be. (I know, it‚Äôs not a full four field example - but values would also be proposed if you had more fields like machine time, machine set-up, etc.)","position":{"start":{"line":999,"column":1,"offset":47762},"end":{"line":999,"column":330,"offset":48091},"indent":[]}}],"position":{"start":{"line":999,"column":1,"offset":47762},"end":{"line":999,"column":330,"offset":48091},"indent":[]}},{"type":"html","value":"</div>","position":{"start":{"line":1000,"column":1,"offset":48093},"end":{"line":1000,"column":7,"offset":48099},"indent":[]}},{"type":"html","value":"<div id=\"footnote-4\">\n4. Note: At my company, we usually use only up to four confirmation activities. Note that there can be up to six, but for this example, we'll say that the confirmation process has only a maximum of four.\n</div>","position":{"start":{"line":1002,"column":1,"offset":48103},"end":{"line":1004,"column":7,"offset":48337},"indent":[1,1]}},{"type":"html","value":"<div id=\"footnote-5\">\n5. I ended up determining that you can exclude parameter `co_a` without any issues - however, this may be how the settings at my own company work - you can look deeper into the SAP example to include it.\n</div>","position":{"start":{"line":1006,"column":1,"offset":48341},"end":{"line":1008,"column":7,"offset":48575},"indent":[1,1]}},{"type":"html","value":"<div id=\"footnote-6\">\n6. This issue does not affect the confirmation formulas, but rather the goods movements in the retrograde ingredients - specifically when the goods movements are to be overridden, for example with a batch split for a retrograde material, or a custom under- or over- amount of a retrograde material. For the rare case where an employee wanted to book some of our retrograde materials from various batch numbers and warehouse locations, they noticed in these custom goods movements with the confirmation were not being added; but rather always the default SAP-calculated amounts. After some head scratching, I found it all has to do with function module <span style=\"font-family:'Courier New'\">BAPI_PRODORDCONF_CREATE_TT</span> (or <span style=\"font-family:'Courier New'\">BAPI_PROCORDCONF_CREATE_TT</span> depending on your use case) - I was not passing in an important parameter which allows exactly this desired override behavior:","position":{"start":{"line":1010,"column":1,"offset":48579},"end":{"line":1011,"column":931,"offset":49532},"indent":[1]}},{"type":"html","value":"<pre>\nLinkConfGoodsmov\nThe assignment of the goods movements to a confirmation is effected\nvia the LinkConfGoodsmov table. There must be an entry in this table\nfor every entry in the Goodsmovements table. The index in the\nLinkConfGoodsmov-Index_Confirm field refers to the line of the\nassociated confirmation in the Timetickets table and the index in\nthe LinkConfGoodsmov-Index_Goodsmov field refers the associated\ngoods movement in the Goodsmovements table.\nIf you want to prevent a goods movement from being posted for a\nconfirmation according to the standard logic, make an entry in the\nLinkConfGoodsmov table as well as in the Timetickets table. The\nindex in the LinkConfGoodsmov-Index_Confirm field refers to the line\nof the associated confirmation in the Timetickets table. Enter the\ninitial value 0 in the LinkConfGoodsmov-Index_Goodsmov field. It is\nnot necessary to make an entry in the Goodsmovements table in this\ncase.\nIf there is no entry in the LinkConfGoodsmov table for a\nconfirmation, goods movements are determined for backflushing and\nautomatic goods receipt using the standard logic.\n</pre>","position":{"start":{"line":1013,"column":1,"offset":49536},"end":{"line":1033,"column":7,"offset":50666},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We needed to add the following too our goods movements loop (already added in the code above! üòÑ):","position":{"start":{"line":1035,"column":1,"offset":50670},"end":{"line":1035,"column":99,"offset":50768},"indent":[]}}],"position":{"start":{"line":1035,"column":1,"offset":50670},"end":{"line":1035,"column":99,"offset":50768},"indent":[]}},{"type":"html","lang":"abap","value":"<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>BLAH\n</code></pre>\n      </div>","position":{"start":{"line":1037,"column":1,"offset":50772},"end":{"line":1039,"column":4,"offset":50790},"indent":[1,1]}},{"type":"html","value":"</div>","position":{"start":{"line":1041,"column":1,"offset":50794},"end":{"line":1041,"column":7,"offset":50800},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1046,"column":1,"offset":50810}}}},{"id":"transformer-remark-markdown-html-1689e3b228425741951220244f39c6af-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":"<p><em>Edit June 1st, 2018:</em></p>\n<p><em>There was ANOTHER issue with this code! There is something you need to add if you want to book custom goods movements for the retrograde materials. You can see how to do this in <a href=\"#footnote-6\">footnote 6</a> for more.</em></p>\n<p><em>Edit April 19th, 2018:</em></p>\n<p><em>There was a bug with this code! When we make the conversion to MIN, we forgot to overwrite</em> <code>lv_unit</code> <em>to</em> <code>MIN</code><em>, so the conversion was correct, but the unit was left in hours, or</em> <code>H</code> <em>! You can see this in the code comments with date 2018.04.19.</em></p>\n<h1>First off, Congratulations! üéä</h1>\n<p><sup>And a happy new year! (If you‚Äôre viewing this in the summer or something, see the date! üòâ)</sup></p>\n<h2>You‚Äôve found the only post on the entire internet that describes the full process of calculating activity amounts for production order confirmations by programming it directly using SAP ABAP! üò±üò±üò±</h2>\n<h2>I hope you use this post to maximum effectiveness, because it took me <em>four</em> days to find, build, and get a working answer. üòÑ</h2>\n<h2>The Problem</h2>\n<p>Let‚Äôs jump right into ABAP programming: the go-to function module to calculate time ticket proposals for production orders is with function module <code>BAPI_PRODORDCONF_GET_TT_PROP</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_GET_TT_PROP'</span>\n<span class=\"token comment\">* EXPORTING</span>\n<span class=\"token comment\">*   PROPOSE                  = ' '</span>\n<span class=\"token comment\">* IMPORTING</span>\n<span class=\"token comment\">*   RETURN                   =</span>\n  <span class=\"token keyword\">TABLES</span>\n    timetickets              <span class=\"token operator\">=</span>\n<span class=\"token comment\">*   GOODSMOVEMENTS           =</span>\n<span class=\"token comment\">*   LINK_CONF_GOODSMOV       =</span>\n<span class=\"token comment\">*   DETAIL_RETURN            =</span>\n          <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>Likewise, there is a very similiar <code>BAPI_PROCORDCONF_GET_TT_PROP</code> for process orders:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORDCONF_GET_TT_PROP'</span>\n<span class=\"token comment\">* EXPORTING</span>\n<span class=\"token comment\">*   PROPOSE                  = ' '</span>\n<span class=\"token comment\">* IMPORTING</span>\n<span class=\"token comment\">*   RETURN                   =</span>\n  <span class=\"token keyword\">TABLES</span>\n    timetickets              <span class=\"token operator\">=</span>\n<span class=\"token comment\">*   GOODSMOVEMENTS           =</span>\n<span class=\"token comment\">*   LINK_CONF_GOODSMOV       =</span>\n<span class=\"token comment\">*   DETAIL_RETURN            =</span>\n          <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>Pretty similar. However, as part of my indentured servitude that is being a full-time employee, I spent a day tinkering, writing, and testing code with these function modules. No matter what combinations of inputs I provided, I couldn‚Äôt get the <em>activity confirmation amount</em> to be calculated, which are a very important part of the final calculation of the confirmation! (more on the actual final confirmation submission is also included in later on) From scrounging around on SCN and the SAP blog, I learned that many developers had the same issue with these functions. (Things like date, yield/scrap amounts, and the goods movements would be proposed just fine by these BAPIs.)</p>\n<p>So, <strong>calculating these activity confirmation amounts programmatically (in ABAP) will be the main focus of this post <sup><a href=\"#footnote-1\">1</a></sup>.</strong></p>\n<p>Unfortunately, with much more digging, the reason the two functions wouldn‚Äôt produce activity confirmation amounts never became quite clear to me. I realized I would have to calculate them in a more manual manner and then add them to those BAPI structures <code>lt_timetickets</code> manually.</p>\n<h2>The Calculation Function Module</h2>\n<p>Through SAP GUI in transaction <code>CO11N</code>, determining system-proposed confirmation amounts is easy enough by and asking the system to do the calculation for us <sup><a href=\"#footnote-2\">2</a></sup>. My struggle was finding the programmatic way to do this in ABAP.</p>\n<p>Anyone with significant production planning experience (i.e., not me üòÇ ) knows that the actual formula behind the activity calculation is not with the activity itself, but with the work center <em>behind</em> the activity <sup><a href=\"#footnote-3\">3</a></sup>.</p>\n<p>In transaction <code>CR03</code> (display work center), in the ‚ÄòCosting‚Äô Tab, there is a ‚ÄòFormula‚Äô button with the check symbol on it:</p>\n<p></p>\n<p>This was my starting point to find any sort of function that could do this programmatically - with more time, I learned from SCN of a function that does exactly that! It‚Äôs called <code>CR_WORKCENTER_FORMULA_CALC</code>!</p>\n<p>Let‚Äôs head on over to transaction <code>SE37</code> and test it ourselves!</p>\n<p></p>\n<p>üòëüòëüòë shit‚Ä¶ SAP, you had one job to do!</p>\n<p>Fine. We‚Äôll do it ourselves. We can open up the source code of <code>CR_WORKCENTER_FORMULA_CALC</code> and set a breakpoint in the first line:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-f1f65.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.25954198473282%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABR0lEQVQoz5WS63KDIBCF8ypt0okXQIyXxIBATDCavv/znC7WjpM/Hf3BrKzD2Q/O2SVJAsYY0jRFdkzg9gJ1xNFcr5C5RBzHm9YuCHLBJ0FJgubAEdH3VqE3QcZ/CUNDty363kNrhZh6OQ2RXEAIgTzPkWXZesLQcF2H79eA0A/78UPClWf4YYB/9ui8RzT/W0XYGgPf08HuBinlLHjBuWngbvZfsYWQL4TGGgzjQIcdnLPoPzOoot5oypugJUKPB1E6R+JEaOnKeVGgoHWitckUpTXu9w7ja4SgQYHQVhc86f1OZQkh5TZTLF3zSQaMvoc/ZHicmukJOhpSHxlailWZRNBUmy825VZRNXtORqYzIVsIw/WDGXwOetiHuDCqq95wKOu3YDuaFMJ9VYqyqKGotqZFWVUbgj0T/tEFooly3qdpstrlH3u1coVcvutYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"The first possible line in the function we can breakpoint\"\n        title=\"\"\n        src=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-fb8a0.png\"\n        srcset=\"/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-1a291.png 148w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-2bc4a.png 295w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-fb8a0.png 590w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-526de.png 885w,\n/static/function-breakpoint-7f2c794c579923ae724605626ba5369b-f1f65.png 1048w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>and in CR03, drag our <a href=\"https://chrisfrew.in/debugging-abap-with-sap-shortcut\">debugging shortcut into the calculation window</a>, and we press return SAP debugging‚Äôs return button to jump out to whatever parent program is calling this function‚Ä¶ \n  <a class=\"gatsby-resp-image-link\" href=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; ; max-width: 58px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACj0lEQVQ4y9WUy06TQRiGWbv0BrgFlm5MjFfghoWEhSIJJkQSVKBKOFSCIEJCKiooBBALCATahBKIcsZISilt/xYolFIOErSlfwsUaAUep8UGJYVg1IWLNzOTmTzzfoeZOJ9xmr+puH8OlCdtR6NBOp6LUf4d4DHEinfCgldvYsvmYnPKjjwhHR0+JzTu2JkVv2We7bk1Qut7WB4rWBwdISDWYbe+qRlOiyaGwyPY+vt+bCW5zFeV03clHs2liziHBsTBWeRxM7Je+iGLcG6NCY0AvXozO043loJMepMvY2yuoftqPF0JF1ixTHKwEyLkkfkmbwr52d/cZndlXaRHiu3QK24MA6XCuxjV1ewfgCE/A7d+nLeNLSQmJ3ErLY0bKTdJSU0lMek6qtIy9mdcbJyA/uJQKryH/nkxm9ICPoONXfMcExodrVU19HVqGB4ZYWhgkA8D/ZjGPrEt8npmyJIIeaq1lsAW+FxfkB1rbJtmYclNb3Mbt9PTeaBQkJ5xh/qqF4RsTjYM1tjAwMJXpKJseq4l8LE4k8GsZIyVSnwWB37hwjQ0RqdWQ0+3ji6tlvH+QQLiMm8shxHbYtM9Oo6rsQ5X/WsWa1+y2t6GR1QzIMLXNbVwX5FDkVJJtnDZ/KqOoHUhtsMo1G+yszW7wpZ9VfTjZ/wil0HnKgQPmZ4w0vCmkY62dprUaoZ1veyY7Wc4jD6x8JMTt3pE5YPSPFp1K9kFeZRVVFD5TEWlSkVpRTnalnfsSQ68pzk8qXAoQdsCPQ1qHuU85Gm+kpLcfJ7kFVKQpaCjui6yv3FeYKRY4vCe1QFzKxzal4SWIyNzyxGYd9J6/u8rmoYw1COad+MnhdfRUGP24f/1wf6pvgPpiV2HYVoizQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"return\" title=\"\" src=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png\" srcset=\"/static/return-00b1c8c77e113cd8f5a0809a202489c2-0c9b0.png 58w\" sizes=\"(max-width: 58px) 100vw, 58px\">\n    </span>\n  </span>\n  \n  </a>\n     and‚Ä¶</p>\n<p>üôè Viol√°! üôè We‚Äôve found where <code>CR_WORKCENTER_FORMULA_CALC</code> is called out in the wild!</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-f42d4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 80.1670146137787%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsElEQVQ4y5WT627iMBCF+yy7vcWX3CEXx4SEJu1WK22FhETL+z/H6YwhXSBBpT9GljX25zMzxzdBEEBKCaUVfN8H72dJhDSKkcQxwjB0oZSE53nfxo0DKgZqCCEgCN7aAn/zGl1hIfwQ6XwOu1ggL4rrgAxSSu3XRw+5DmEqg5LCmBKCzvjK+5lCfVAoCZjeS/gP4irANJB7eFCoCdT9CmDuNapbDXOnENODpQmweorRrmK3mor2XYymiVCWdJ7yp0C9Bw4vJaSyJmB1p5E/cO5UybDnu1KKr7v/h6JOgUN0fUcKynF5UYI/r6+omyUqa5Fl2dFQpLgItAtLdtJjoPZdrmmbE/XfKmS7rFbtGBhE6J972GXt8gPUARl23sOYerj8rdGHOWqdjIHUuzRNXcxmszMfUsmsckoh96aylTM1/5jjkudk+EnbsMLBh+cHaiqppZIKAvLXPB4K5y77UE/3kNVl2fziUKIonAael5wcesjGZi9O/QolHn9e8vPLi/Pb29s/9P2Ts4kxZl9ycjsGFtnhD5PCpmmw2Wyw/fjAdrfDZvuOHa3vtF+v11fFJxYD8ulTKPJeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"There you are `CR_WORKCENTER_FORMULA_CALC`\"\n        title=\"\"\n        src=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-fb8a0.png\"\n        srcset=\"/static/function-found-264ed624475401f4e4bc06397a03d9b9-1a291.png 148w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-2bc4a.png 295w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-fb8a0.png 590w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-526de.png 885w,\n/static/function-found-264ed624475401f4e4bc06397a03d9b9-f42d4.png 958w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>(For those deeply interested, you can find exactly where the function is called in SAP Program <code>SAPLCRA0</code>, Include <code>LCRA0F71</code>, line 55, at least for SAPGUI 740.)</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-ab5af.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.916666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI13WNyw7CIBBF+f+PMi60MbEiUIqUIlQaY/CV+gXXCSZd1cXJzUzmnmEX0SByhbv1eLqwyIPI/oxwkBiOCjfT/71lYrWBrWrkloSWll1EPnkkrnGVtuQoDYJQUOsKYU/Cxv1uF2CKhFM3FD4+4e0iCTQ0le22Rkvp6WHYCTiaX9zMTDbO3dLvE767N9XvLiHEkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Calling program details\"\n        title=\"\"\n        src=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-fb8a0.png\"\n        srcset=\"/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-1a291.png 148w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-2bc4a.png 295w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-fb8a0.png 590w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-526de.png 885w,\n/static/form-program-1d2cbb852e085c74901d5a542ef48c3a-ab5af.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>The Details (The Hard Part)</h2>\n<p>So what the heck does SAP do with this function? Well, first, they are doing a do loop six times. Aha, we know why - because there can be a total of six confirmation values <sup><a href=\"#footnote-4\">4</a></sup>  - SAP is by default looping over all of them.</p>\n<p>Now for the function parameters themselves: they pass the work center code (<code>arbid</code>), the operation number (<code>rcrop</code>), the index of the confirmation (a value of 1-6), our 4 default values (<code>vgw</code>), and the date (<code>date</code>).</p>\n<p>In turn, the function spits out the fixed value amount of the activity calculation (<code>value_fix</code>), the variable part (<code>value_var</code>), both in whatever unit the function gives out in <code>unit</code>, and <code>co_a</code> is for the cost center accounting <sup><a href=\"#footnote-5\">5</a></sup>. There are actually four exceptions to this function, so I‚Äôm not sure why SAP internal is taking only two of them. In any case, there are other <code>IMPORTING</code> and <code>EXPORTING</code> parameters in the function signature, but this looks like a good starting point as a minimum. In fact, as you‚Äôll see below, the final working version of the code I created is almost exactly the same except where I found out with a bit of playing around.</p>\n<p>So I mentioned the default values that must go into <code>vgw</code> - these are the four values that are the equivalent of those four fields we can type into in <code>COR3</code> for checking the formula, things like setup time, machine time, personnel setup, and personnel time. It might sound like a lot of work to hunt down these values, but luckily these are master data and can be determined with a few select statements, first from table <code>AFVC</code> ‚Äòoperation within an order‚Äô, and then table <code>PLPO</code> ‚Äòtask list - operation/activity‚Äô:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" this is the full key for table AFVC - operation within an order - for the routing number and counter - should always work with SELECT SINGLE</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n  <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>routing_no\n  <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" this is the full key for table PLPO - task list - operation/activity - so it should always work with SELECT SINGLE</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n  <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n  <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n  <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n  <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>The routing number <code>ls_operation-routing_no</code> and counter <code>ls_operation-counter</code> we‚Äôve gotten from function <code>BAPI_PRODORD_GET_DETAIL</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" need only the operations from the function</span>\n    ls_order_objects<span class=\"token token-operator punctuation\">-</span>operations <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORD_GET_DETAIL'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n        order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n      <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n        operation     <span class=\"token operator\">=</span> lt_operation\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n      <span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>(There is plenty of SAP standard documentation and discussion on SCN on how to use <code>BAPI_PRODORD_GET_DETAIL</code>, so I‚Äôll leave that to you if you need more info üòâ. Here we are just getting the operation information from the order - that‚Äôs all we need.)</p>\n<p>We can finally move the corresponding fields of <code>ls_plpo</code> to <code>ls_vgw</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>However, in addition to these four values, there are two more that are essential, that is the yield amount (<code>mgvrg</code>), and the unit (<code>meinh</code>)! We can pass them right into <code>ls_op</code> as well:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\nls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\nls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>Armed with our structures <code>ls_afvc</code>, <code>ls_op</code>, and <code>ls_vgw</code>, we are ready to call our function:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n  <span class=\"token keyword\">EXPORTING</span>\n    arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n    op                <span class=\"token operator\">=</span> ls_op\n    vgw               <span class=\"token operator\">=</span> ls_vgw\n    <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n    <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n  <span class=\"token keyword\">IMPORTING</span>\n    value_fix          <span class=\"token operator\">=</span> lv_value_fix\n    value_var         <span class=\"token operator\">=</span> lv_value_var\n    <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n    division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n    <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>We want the total, right? Okay, we just add the fixed value and variable value part:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and variable values for this activity</span>\n</code></pre>\n      </div>\n<p>A requirement by my company was to have all the activity confirmation values with the same unit (I find it cleaner anyway to have all the activity confirmation values in the same unit anyway). Unfortunately, the default unit for some of the activities was hours, so we have to take a small intermediary step and call a conversion function before we are truly done:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n<span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n      unit_in              <span class=\"token operator\">=</span> lv_unit\n      unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n    <span class=\"token keyword\">IMPORTING</span>\n      <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n    <span class=\"token keyword\">EXCEPTIONS</span>\n      conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n      division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n      input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n      output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n      <span class=\"token keyword\">overflow</span>              <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n      type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n      units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n      unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n      unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n      <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>We then finally carry over this converted <code>lv_output</code> over to the <code>conf_activity</code> field for <code>lt_timetickets</code>, doing this for all 1-6 <code>conf_activity</code>‚Äôs:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>With that, we can call the final confirmation function, with all our calculated values wrapped up in <code>lt_timetickets</code>:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token eol-comment comment\">\" create confirmation</span>\n<span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n<span class=\"token comment\">*       CALL_ON_INBOUND_QUEUE          = ' '</span>\n  <span class=\"token keyword\">IMPORTING</span>\n    <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n  <span class=\"token keyword\">TABLES</span>\n    timetickets    <span class=\"token operator\">=</span> lt_timetickets\n    goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n    detail_return  <span class=\"token operator\">=</span> lt_detail_return\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n  <span class=\"token keyword\">EXCEPTIONS</span>\n    <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n  <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>If you were sharp, you realized all of this code is only on the operation level - so indeed, the six-level loop must be done each time, for each operation - we have to throw all the above code into a loop over our operations! See below for the full result!</p>\n<h2>Production Orders</h2>\n<p>In summary, the full code looks like this:</p>\n<p><strong>NOTE: the full code examples were written for a SAP Gateway environment - i.e. the server environment from a SAPUI5 OData call! If you try to copy and paste this code directly into something like a report or function, ABAP statements like:</strong></p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<p>won‚Äôt be in scope and won‚Äôt compile without errors! However, if you are familiar with the CRUD based methods of the SAP Gateway backend, these will fit nicely into the <code>GET_ENTITYSET</code> method üòÑ</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code><span class=\"token keyword\">DATA</span> <span class=\"token punctuation\">:</span> lt_filters           <span class=\"token keyword\">TYPE</span>           /iwbep/t_mgw_select_option<span class=\"token punctuation\">,</span>\n           ls_filters           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_filters<span class=\"token punctuation\">,</span>\n           lt_select_options    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_plant_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_orderid_so        <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_fin_conf_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_dev_reason_so     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_conf_text_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_conf_quan_unit_so <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_yield_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           ls_scrap_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n           lt_stg_loc           <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_stg_loc           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_stg_loc<span class=\"token punctuation\">,</span>\n           lt_batch             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_batch             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_batch<span class=\"token punctuation\">,</span>\n           lt_reserv_no         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_reserv_no         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_reserv_no<span class=\"token punctuation\">,</span>\n           lt_res_item          <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_res_item          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_res_item<span class=\"token punctuation\">,</span>\n           lt_entry_qnt         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_entry_qnt         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_qnt<span class=\"token punctuation\">,</span>\n           lt_entry_uom         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n           ls_entry_uom         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_uom<span class=\"token punctuation\">,</span>\n           ls_return            <span class=\"token keyword\">TYPE</span> bapiret1<span class=\"token punctuation\">,</span>\n           lt_goodsmovements    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi2017_gm_item_create<span class=\"token punctuation\">,</span>\n           ls_goodsmovements    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_goodsmovements<span class=\"token punctuation\">,</span>\n           lv_reserv_lines      <span class=\"token keyword\">TYPE</span> int4<span class=\"token punctuation\">,</span>\n           lv_index             <span class=\"token keyword\">TYPE</span> int4 <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n           lt_detail_return     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_coru_return<span class=\"token punctuation\">,</span>\n           ls_detail_return     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_detail_return<span class=\"token punctuation\">,</span>\n           lv_log_handle        <span class=\"token keyword\">TYPE</span> balloghndl<span class=\"token punctuation\">,</span>\n           lv_message           <span class=\"token keyword\">TYPE</span> char200<span class=\"token punctuation\">,</span>\n           lo_logger            <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> zcl_bc_app_logger<span class=\"token punctuation\">,</span>\n           es_entityset         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> et_entityset<span class=\"token punctuation\">,</span>\n           lv_error_message     <span class=\"token keyword\">TYPE</span> bapi_msg<span class=\"token punctuation\">,</span>\n           ls_order_objects     <span class=\"token keyword\">TYPE</span> bapi_pp_order_objects<span class=\"token punctuation\">,</span>\n           lt_operation         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_order_operation1<span class=\"token punctuation\">,</span>\n           ls_operation         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_operation<span class=\"token punctuation\">,</span>\n           lt_timetickets       <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  bapi_pp_timeticket<span class=\"token punctuation\">,</span>\n           ls_timetickets       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">,</span>\n           lv_number            <span class=\"token keyword\">TYPE</span> bapi_order_key<span class=\"token token-operator punctuation\">-</span>order_number<span class=\"token punctuation\">,</span>\n           ls_propose           <span class=\"token keyword\">TYPE</span> bapi_pp_conf_prop<span class=\"token punctuation\">,</span>\n           ls_op                <span class=\"token keyword\">TYPE</span> rcrop<span class=\"token punctuation\">,</span>\n           ls_vgw               <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token punctuation\">,</span>\n           ls_afvc              <span class=\"token keyword\">TYPE</span> afvc<span class=\"token punctuation\">,</span>\n           ls_plpo              <span class=\"token keyword\">TYPE</span> plpo<span class=\"token punctuation\">,</span>\n           lv_value_fix         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_value_var         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_value             <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n           lv_unit              <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token token-operator punctuation\">-</span>vge01<span class=\"token punctuation\">,</span>\n           lv_output            <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n\n           <span class=\"token eol-comment comment\">\" Create a log instance</span>\n    <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> lo_logger\n      <span class=\"token keyword\">EXPORTING</span>\n        iv_subobject <span class=\"token operator\">=</span> <span class=\"token string\">'ZPP_APP'</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">IMPORTING</span> ev_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Begin Method PRODCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n\n    <span class=\"token eol-comment comment\">\"get $filter through the io_tech request (odata request)</span>\n    lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" Process filters</span>\n\n    <span class=\"token eol-comment comment\">\" for these below we just need the singular select option structure</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'PLANT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_plant_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ORDERID'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_orderid_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FIN_CONF'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_fin_conf_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'DEV_REASON'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_dev_reason_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_TEXT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_text_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_QUAN_UNIT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_quan_unit_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'YIELD'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_yield_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SCRAP'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_scrap_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" for the following we need tables (make a loop and get the values from each)</span>\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'STGE_LOC'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_stg_loc <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'BATCH'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_batch <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RESERV_NO'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_reserv_no <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RES_ITEM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_res_item <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_QNT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_entry_qnt <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_UOM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n    lt_entry_uom <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n<span class=\"token eol-comment comment\">\" Create goodsmovement structure for all the retroactive items</span>\n    <span class=\"token keyword\">DESCRIBE</span> <span class=\"token keyword\">TABLE</span> lt_reserv_no <span class=\"token keyword\">LINES</span> lv_reserv_lines<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DO</span> lv_reserv_lines <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span>\n      ls_stg_loc <span class=\"token operator\">=</span> lt_stg_loc[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_batch <span class=\"token operator\">=</span> lt_batch[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_reserv_no <span class=\"token operator\">=</span> lt_reserv_no[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_res_item <span class=\"token operator\">=</span> lt_res_item[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_entry_qnt <span class=\"token operator\">=</span> lt_entry_qnt[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_entry_uom <span class=\"token operator\">=</span> lt_entry_uom[ lv_index ]<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>plant <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed factory</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>stge_loc <span class=\"token operator\">=</span> ls_stg_loc<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>batch <span class=\"token operator\">=</span> ls_batch<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>move_type <span class=\"token operator\">=</span> <span class=\"token string\">'261'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed movement type</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>item_text <span class=\"token operator\">=</span> <span class=\"token string\">'Warenbewegung f√ºr R√ºckmeldung PP APP'</span><span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>reserv_no <span class=\"token operator\">=</span> ls_reserv_no<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>res_item <span class=\"token operator\">=</span> ls_res_item<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_qnt <span class=\"token operator\">=</span> ls_entry_qnt<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_uom <span class=\"token operator\">=</span> ls_entry_uom<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> ls_goodsmovements <span class=\"token keyword\">TO</span> lt_goodsmovements<span class=\"token punctuation\">.</span>\n      lv_index <span class=\"token operator\">=</span> lv_index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" need only the operations from the function</span>\n    ls_order_objects<span class=\"token token-operator punctuation\">-</span>operations <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n    lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORD_GET_DETAIL'</span>\n      <span class=\"token keyword\">EXPORTING</span>\n        <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n        order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n      <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n        operation     <span class=\"token operator\">=</span> lt_operation\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n      <span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" build structures for each step (each operation)</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_operation <span class=\"token keyword\">INTO</span> ls_operation<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CLEAR</span> ls_timetickets<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" this is the full key for table AFVC - Auftragsarbeitsvorgang for the routing number and counter - should always work with SELECT SINGLE</span>\n      <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n        <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>routing_no\n        <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" this is the full key for table PLPO - Plan: Vorgang - so it should always work with SELECT SINGLE</span>\n      <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n        <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n        <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n        <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n        <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" now provide all the standard values (vorgabewert) VGW01, 02, etc into the calculation formula</span>\n      <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\n      ls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">DO</span> <span class=\"token number\">6</span> <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each activity (usually 4 activities here at my company, but there can be up to 6 activities total)</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">1</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw01 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">2</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw02 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">3</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw03 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">4</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw04 <span class=\"token keyword\">EQ</span> 0f\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">5</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw05 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">6</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw06 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" skip and 0 values</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n          <span class=\"token keyword\">EXPORTING</span>\n            arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n            op                <span class=\"token operator\">=</span> ls_op\n            vgw               <span class=\"token operator\">=</span> ls_vgw\n            <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n            <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n          <span class=\"token keyword\">IMPORTING</span>\n            value_fix          <span class=\"token operator\">=</span> lv_value_fix\n            value_var         <span class=\"token operator\">=</span> lv_value_var\n            <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n          <span class=\"token keyword\">EXCEPTIONS</span>\n            missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n            division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n            <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n        lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and varible values for this activity</span>\n\n        <span class=\"token eol-comment comment\">\" convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n        <span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n            <span class=\"token keyword\">EXPORTING</span>\n              <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n              unit_in              <span class=\"token operator\">=</span> lv_unit\n              unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n            <span class=\"token keyword\">IMPORTING</span>\n              <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n            <span class=\"token keyword\">EXCEPTIONS</span>\n              conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n              division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n              input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n              output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n              <span class=\"token keyword\">overflow</span>              <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n              type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n              units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n              unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n              unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n              <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n            lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n            <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n            <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n          lv_unit <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" 2018.04.19 - need to overwrite unit to MIN!</span>\n        <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n          lv_output <span class=\"token operator\">=</span> lv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" copy over MIN value</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n            ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token eol-comment comment\">\" Now build the table to confirm the operations (Vorg√§nge)</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_no     <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>conf_no<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>orderid     <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>sequence    <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>sequence_no<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>operation   <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>operation_number<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>work_cntr   <span class=\"token operator\">=</span> ls_operation<span class=\"token token-operator punctuation\">-</span>work_center<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Resource for process order, logdate, logtime, and posting date added to the table</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>plant       <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>logdate     <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>logtime     <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>timlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>postg_date  <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>yield <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>scrap <span class=\"token operator\">=</span> ls_scrap_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>fin_conf <span class=\"token operator\">=</span> ls_fin_conf_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" also overwrite the proposed partial or final confirmation - take what the user provides!</span>\n      ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_quan_unit <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Also the unit</span>\n      <span class=\"token keyword\">APPEND</span> ls_timetickets <span class=\"token keyword\">TO</span> lt_timetickets<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" create confirmation</span>\n    <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PRODORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n<span class=\"token comment\">*       CALL_ON_INBOUND_QUEUE          = ' '</span>\n      <span class=\"token keyword\">IMPORTING</span>\n        <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n      <span class=\"token keyword\">TABLES</span>\n        timetickets    <span class=\"token operator\">=</span> lt_timetickets\n        goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n        detail_return  <span class=\"token operator\">=</span> lt_detail_return\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n      <span class=\"token keyword\">EXCEPTIONS</span>\n        <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n      lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n      <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<h2>Process Orders</h2>\n<p>Because SAP is ever-so-special, process orders have a slightly different program process due to a few name changes. Here is a summary of some of those name and type changes:</p>\n<hr/>\n<table>\n<thead>\n<tr>\n<th>Topic</th>\n<th>Production Orders</th>\n<th>Process Orders</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Name of the ‚Äòsteps‚Äô in your process or production order</td>\n<td>phase/activity (I‚Äôve seen both names, ABAP uses mostly ‚Äòphase‚Äô)</td>\n<td>operation</td>\n</tr>\n<tr>\n<td>Get order detail of order</td>\n<td><code>BAPI_PRODORD_GET_DETAIL</code></td>\n<td><code>BAPI_PROCORD_GET_DETAIL</code></td>\n</tr>\n<tr>\n<td>detail of order ‚Äòstep‚Äô type</td>\n<td><code>bapi_order_phase</code></td>\n<td><code>bapi_order_operation1</code></td>\n</tr>\n<tr>\n<td>Function for timeticket proposals</td>\n<td><code>BAPI_PRODORD_GET_DETAIL</code></td>\n<td><code>BAPI_PROCORD_GET_DETAIL</code></td>\n</tr>\n<tr>\n<td>Function for order confirmation</td>\n<td><code>BAPI_PRODORDCONF_CREATE_TT</code></td>\n<td><code>BAPI_PROCORDCONF_CREATE_TT</code></td>\n</tr>\n<tr>\n<td><code>timetickets</code>\n \n<code>TYPE</code>\n in order confirmation function</td>\n<td><code>bapi_pp_timeticket</code></td>\n<td><code>bapi_pi_timeticket1</code></td>\n</tr>\n</tbody>\n</table>\n<hr/>\n<p>There are more, but you can find those in the code for yourself. The important thing to notice is that the key challenging part here, calculating the confirmation activity amounts, uses the same internal function module, <code></code></p>\n<p>Here‚Äôs the code for calculating activities for process orders - <em>note the slight change in all the variable names!</em> - and be careful with your types (carefully look over the <code>DATA:</code> statement), otherwise you‚Äôll get üí•<strong>exploding runtime errors</strong>üí• when you try to confirm something with one of our two main functions and you pass, for example, the  <code>lt_timetickets</code> with the production type <code></code>, and you pass it into the of the <em>process</em> order function module.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>  <span class=\"token keyword\">DATA</span> <span class=\"token punctuation\">:</span> lt_filters           <span class=\"token keyword\">TYPE</span>           /iwbep/t_mgw_select_option<span class=\"token punctuation\">,</span>\n         ls_filters           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_filters<span class=\"token punctuation\">,</span>\n         lt_select_options    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_plant_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_orderid_so        <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_fin_conf_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_dev_reason_so     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_conf_text_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_conf_quan_unit_so <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_yield_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_scrap_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_stge_loc_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_batch_so          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_reserv_no_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_res_item_so       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_entry_qnt_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         ls_entry_uom_so      <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_select_options<span class=\"token punctuation\">,</span>\n         lt_stg_loc           <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_stg_loc           <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_stg_loc<span class=\"token punctuation\">,</span>\n         lt_batch             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_batch             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_batch<span class=\"token punctuation\">,</span>\n         lt_reserv_no         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_reserv_no         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_reserv_no<span class=\"token punctuation\">,</span>\n         lt_res_item          <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_res_item          <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_res_item<span class=\"token punctuation\">,</span>\n         lt_entry_qnt         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_entry_qnt         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_qnt<span class=\"token punctuation\">,</span>\n         lt_entry_uom         <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span>  /iwbep/s_cod_select_option<span class=\"token punctuation\">,</span>\n         ls_entry_uom         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_entry_uom<span class=\"token punctuation\">,</span>\n         ls_return            <span class=\"token keyword\">TYPE</span> bapiret1<span class=\"token punctuation\">,</span>\n         lt_goodsmovements    <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi2017_gm_item_create<span class=\"token punctuation\">,</span>\n         ls_goodsmovements    <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_goodsmovements<span class=\"token punctuation\">,</span>\n         lv_reserv_lines      <span class=\"token keyword\">TYPE</span> int4<span class=\"token punctuation\">,</span>\n         lv_index             <span class=\"token keyword\">TYPE</span> int4 <span class=\"token keyword\">VALUE</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n         lt_detail_return     <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_coru_return<span class=\"token punctuation\">,</span>\n         ls_detail_return     <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_detail_return<span class=\"token punctuation\">,</span>\n         lv_log_handle        <span class=\"token keyword\">TYPE</span> balloghndl<span class=\"token punctuation\">,</span>\n         lv_message           <span class=\"token keyword\">TYPE</span> char200<span class=\"token punctuation\">,</span>\n         lo_logger            <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">REF</span> <span class=\"token keyword\">TO</span> zcl_bc_app_logger<span class=\"token punctuation\">,</span>\n         es_entityset         <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> et_entityset<span class=\"token punctuation\">,</span>\n         lv_error_message     <span class=\"token keyword\">TYPE</span> bapi_msg<span class=\"token punctuation\">,</span>\n         ls_order_objects     <span class=\"token keyword\">TYPE</span> bapi_pi_order_objects<span class=\"token punctuation\">,</span>\n         lt_phase             <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_order_phase<span class=\"token punctuation\">,</span>\n         ls_phase             <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_phase<span class=\"token punctuation\">,</span>\n         lt_timetickets       <span class=\"token keyword\">TYPE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">OF</span> bapi_pi_timeticket1<span class=\"token punctuation\">,</span>\n         ls_timetickets       <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">,</span>\n         lv_number            <span class=\"token keyword\">TYPE</span> bapi_order_key<span class=\"token token-operator punctuation\">-</span>order_number<span class=\"token punctuation\">,</span>\n         ls_op                <span class=\"token keyword\">TYPE</span> rcrop<span class=\"token punctuation\">,</span>\n         ls_vgw               <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token punctuation\">,</span>\n         ls_afvc              <span class=\"token keyword\">TYPE</span> afvc<span class=\"token punctuation\">,</span>\n         ls_plpo              <span class=\"token keyword\">TYPE</span> plpo<span class=\"token punctuation\">,</span>\n         lv_value_fix         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_value_var         <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_value             <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n         lv_unit              <span class=\"token keyword\">TYPE</span> rcrvgw<span class=\"token token-operator punctuation\">-</span>vge01<span class=\"token punctuation\">,</span>\n         lv_output            <span class=\"token keyword\">TYPE</span> p <span class=\"token keyword\">DECIMALS</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">FIELD-SYMBOLS</span><span class=\"token punctuation\">:</span> &lt;fs_timetickets> <span class=\"token keyword\">LIKE</span> <span class=\"token keyword\">LINE</span> <span class=\"token keyword\">OF</span> lt_timetickets<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" create a log instance</span>\n  <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">OBJECT</span> lo_logger\n    <span class=\"token keyword\">EXPORTING</span>\n      iv_subobject <span class=\"token operator\">=</span> <span class=\"token string\">'ZPP_APP'</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">IMPORTING</span> ev_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Begin Method PROCCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n\n  <span class=\"token eol-comment comment\">\"get $filter through the io_tech request (odata request)</span>\n  lt_filters <span class=\"token operator\">=</span> io_tech_request_context<span class=\"token token-operator punctuation\">-></span>get_filter<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span>->get_filter_select_options<span class=\"token punctuation\">(</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Process filters</span>\n\n  <span class=\"token eol-comment comment\">\" for these below we just need the singular select option structure</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'PLANT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_plant_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ORDERID'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_orderid_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FIN_CONF'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_fin_conf_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'DEV_REASON'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_dev_reason_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_TEXT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_text_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CONF_QUAN_UNIT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_conf_quan_unit_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'YIELD'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_yield_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SCRAP'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_select_options <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_select_options <span class=\"token keyword\">INTO</span> ls_scrap_so <span class=\"token keyword\">INDEX</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" for the following we need tables (make a loop and get the values from each)</span>\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'STGE_LOC'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_stg_loc <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'BATCH'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_batch <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RESERV_NO'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_reserv_no <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'RES_ITEM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_res_item <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_QNT'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_entry_qnt <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CLEAR</span> ls_filters<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">READ</span> <span class=\"token keyword\">TABLE</span> lt_filters <span class=\"token keyword\">WITH</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">property</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ENTRY_UOM'</span> <span class=\"token keyword\">INTO</span> ls_filters<span class=\"token punctuation\">.</span>\n  lt_entry_uom <span class=\"token operator\">=</span> ls_filters<span class=\"token token-operator punctuation\">-</span>select_options<span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" Create goodsmovement structure for all the retroactive items</span>\n  <span class=\"token keyword\">DESCRIBE</span> <span class=\"token keyword\">TABLE</span> lt_reserv_no <span class=\"token keyword\">LINES</span> lv_reserv_lines<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">DO</span> lv_reserv_lines <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span>\n    ls_stg_loc <span class=\"token operator\">=</span> lt_stg_loc[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_batch <span class=\"token operator\">=</span> lt_batch[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_reserv_no <span class=\"token operator\">=</span> lt_reserv_no[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_res_item <span class=\"token operator\">=</span> lt_res_item[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_entry_qnt <span class=\"token operator\">=</span> lt_entry_qnt[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_entry_uom <span class=\"token operator\">=</span> lt_entry_uom[ lv_index ]<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>plant <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed factory</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>stge_loc <span class=\"token operator\">=</span> ls_stg_loc<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>batch <span class=\"token operator\">=</span> ls_batch<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>move_type <span class=\"token operator\">=</span> <span class=\"token string\">'261'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" fixed movement type</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>item_text <span class=\"token operator\">=</span> <span class=\"token string\">'Warenbewegung f√ºr R√ºckmeldung PP APP'</span><span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>reserv_no <span class=\"token operator\">=</span> ls_reserv_no<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>res_item <span class=\"token operator\">=</span> ls_res_item<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_qnt <span class=\"token operator\">=</span> ls_entry_qnt<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_goodsmovements<span class=\"token token-operator punctuation\">-</span>entry_uom <span class=\"token operator\">=</span> ls_entry_uom<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> ls_goodsmovements <span class=\"token keyword\">TO</span> lt_goodsmovements<span class=\"token punctuation\">.</span>\n    lv_index <span class=\"token operator\">=</span> lv_index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n  ls_order_objects<span class=\"token token-operator punctuation\">-</span>phases <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  lv_number <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORD_GET_DETAIL'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">number</span>        <span class=\"token operator\">=</span> lv_number\n<span class=\"token comment\">*       COLLECTIVE_ORDER       =</span>\n      order_objects <span class=\"token operator\">=</span> ls_order_objects\n<span class=\"token comment\">*     IMPORTING</span>\n<span class=\"token comment\">*       RETURN        =</span>\n    <span class=\"token keyword\">TABLES</span>\n<span class=\"token comment\">*       HEADER        =</span>\n<span class=\"token comment\">*       POSITION      =</span>\n<span class=\"token comment\">*       SEQUENCE      =</span>\n      phase         <span class=\"token operator\">=</span> lt_phase\n<span class=\"token comment\">*       TRIGGER_POINT =</span>\n<span class=\"token comment\">*       COMPONENT     =</span>\n<span class=\"token comment\">*       PROD_REL_TOOL =</span>\n    <span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_phase <span class=\"token keyword\">INTO</span> ls_phase<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each phase - create both the activities table and timetickets table</span>\n    <span class=\"token keyword\">CLEAR</span> ls_timetickets<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" this is the full key for table AFVC - Auftragsarbeitsvorgang for the routing number and counter - should always work with SELECT SINGLE</span>\n    <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> afvc <span class=\"token keyword\">INTO</span> ls_afvc\n      <span class=\"token keyword\">WHERE</span> aufpl <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>routing_no\n      <span class=\"token keyword\">AND</span>   aplzl <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>counter<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" this is the full key for table PLPO - Plan: Vorgang - so it should always work with SELECT SINGLE</span>\n    <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">SINGLE</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> plpo <span class=\"token keyword\">INTO</span> ls_plpo\n      <span class=\"token keyword\">WHERE</span> plnty <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnty\n      <span class=\"token keyword\">AND</span> plnnr <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnnr\n      <span class=\"token keyword\">AND</span> plnkn <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>plnkn\n      <span class=\"token keyword\">AND</span> zaehl <span class=\"token keyword\">EQ</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>zaehl<span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" now provide all the standard values (vorgabewert) VGW01, 02, etc into the calculation formula</span>\n    <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_op<span class=\"token punctuation\">.</span>\n    ls_op<span class=\"token token-operator punctuation\">-</span>mgvrg <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_op<span class=\"token token-operator punctuation\">-</span>meinh <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">MOVE-CORRESPONDING</span> ls_plpo <span class=\"token keyword\">TO</span> ls_vgw<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">DO</span> <span class=\"token number\">6</span> <span class=\"token keyword\">TIMES</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" for each activity (usually 4 activities here at company, but there can be up to 6 activities total)</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">1</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw01 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">2</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw02 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">3</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw03 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">4</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw04 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">5</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw05 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span>\n      <span class=\"token keyword\">OR</span> sy<span class=\"token token-operator punctuation\">-</span>index <span class=\"token keyword\">EQ</span> <span class=\"token number\">6</span> <span class=\"token keyword\">AND</span> ls_vgw<span class=\"token token-operator punctuation\">-</span>vgw06 <span class=\"token keyword\">EQ</span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONTINUE</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" skip and 0 values</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'CR_WORKCENTER_FORMULA_CALC'</span> <span class=\"token eol-comment comment\">\" You can see a SAP standard example with the function in the source code for transaction CR03 for costing formula: Program SAPLCRA0, Include LCRA0F71, Form FORMEL_RESULT_CALC, line 55</span>\n        <span class=\"token keyword\">EXPORTING</span>\n          arbid             <span class=\"token operator\">=</span> ls_afvc<span class=\"token token-operator punctuation\">-</span>arbid\n          op                <span class=\"token operator\">=</span> ls_op\n          vgw               <span class=\"token operator\">=</span> ls_vgw\n          <span class=\"token keyword\">index</span>             <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>index\n          <span class=\"token keyword\">date</span>              <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datum\n        <span class=\"token keyword\">IMPORTING</span>\n          value_fix         <span class=\"token operator\">=</span> lv_value_fix\n          value_var         <span class=\"token operator\">=</span> lv_value_var\n          <span class=\"token keyword\">unit</span>              <span class=\"token operator\">=</span> lv_unit\n        <span class=\"token keyword\">EXCEPTIONS</span>\n          missing_parameter <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n          not_found         <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n          division_by_zero  <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n          <span class=\"token keyword\">OTHERS</span>            <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      lv_value <span class=\"token operator\">=</span> lv_value_fix <span class=\"token operator\">+</span> lv_value_var<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" total value is the sum of the fixed and varible values for this activity</span>\n\n      <span class=\"token eol-comment comment\">\" Convert any </span><span class=\"token string\">'H'</span> <span class=\"token keyword\">values</span> <span class=\"token keyword\">to</span> <span class=\"token string\">'MIN'</span>\n      <span class=\"token keyword\">IF</span> lv_unit <span class=\"token keyword\">NE</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'UNIT_CONVERSION_SIMPLE'</span>\n          <span class=\"token keyword\">EXPORTING</span>\n            <span class=\"token keyword\">input</span>                <span class=\"token operator\">=</span> lv_value\n            unit_in              <span class=\"token operator\">=</span> lv_unit\n            unit_out             <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span>\n          <span class=\"token keyword\">IMPORTING</span>\n            <span class=\"token keyword\">output</span>               <span class=\"token operator\">=</span> lv_output\n          <span class=\"token keyword\">EXCEPTIONS</span>\n            conversion_not_found <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            division_by_zero     <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n            input_invalid        <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n            output_invalid       <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n            <span class=\"token keyword\">overflow</span>             <span class=\"token operator\">=</span> <span class=\"token number\">5</span>\n            type_invalid         <span class=\"token operator\">=</span> <span class=\"token number\">6</span>\n            units_missing        <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\n            unit_in_not_found    <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n            unit_out_not_found   <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n            <span class=\"token keyword\">OTHERS</span>               <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n          lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n          <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n          <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n        lv_unit <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" 2018.04.19 - need to overwrite unit to MIN!</span>\n      <span class=\"token keyword\">ELSE</span><span class=\"token punctuation\">.</span>\n        lv_output <span class=\"token operator\">=</span> lv_value<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" copy over MIN value</span>\n      <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n      <span class=\"token keyword\">CASE</span> sy<span class=\"token token-operator punctuation\">-</span>index<span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity1  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit1 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">2</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity2  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit2 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity3  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit3 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">4</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity4  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit4 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">5</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity5  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit5 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">WHEN</span> <span class=\"token number\">6</span><span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_activity6  <span class=\"token operator\">=</span> lv_output<span class=\"token punctuation\">.</span>\n          ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_acti_unit6 <span class=\"token operator\">=</span> <span class=\"token string\">'MIN'</span><span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">ENDCASE</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDDO</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token eol-comment comment\">\" Also build the table to confirm the operations (Vorg√§nge)</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_no    <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>conf_no<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>orderid    <span class=\"token operator\">=</span> ls_orderid_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>phase      <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>operation_number<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>resource   <span class=\"token operator\">=</span> ls_phase<span class=\"token token-operator punctuation\">-</span>resource<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Resource in process orders is the equivalent of work_center (wrk_cntr) for production orders</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>plant      <span class=\"token operator\">=</span> ls_plant_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>logdate    <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>logtime    <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>timlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>postg_date <span class=\"token operator\">=</span> sy<span class=\"token token-operator punctuation\">-</span>datlo<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>yield <span class=\"token operator\">=</span> ls_yield_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>scrap <span class=\"token operator\">=</span> ls_scrap_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>fin_conf <span class=\"token operator\">=</span> ls_fin_conf_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" also overwrite the proposed tiel oder endruckmeldung - take what the user provides!</span>\n    ls_timetickets<span class=\"token token-operator punctuation\">-</span>conf_quan_unit <span class=\"token operator\">=</span> ls_conf_quan_unit_so<span class=\"token token-operator punctuation\">-</span>low<span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" Also the unit</span>\n    <span class=\"token keyword\">APPEND</span> ls_timetickets <span class=\"token keyword\">TO</span> lt_timetickets<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_PROCORDCONF_CREATE_TT'</span>\n<span class=\"token comment\">*     EXPORTING</span>\n<span class=\"token comment\">*       POST_WRONG_ENTRIES             = '0'</span>\n<span class=\"token comment\">*       TESTRUN                        =</span>\n    <span class=\"token keyword\">IMPORTING</span>\n      <span class=\"token keyword\">return</span>         <span class=\"token operator\">=</span> ls_return\n    <span class=\"token keyword\">TABLES</span>\n      timetickets    <span class=\"token operator\">=</span> lt_timetickets\n      goodsmovements <span class=\"token operator\">=</span> lt_goodsmovements\n<span class=\"token comment\">*       LINK_CONF_GOODSMOV             =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_WIPBATCH       =</span>\n<span class=\"token comment\">*       LINK_CONF_CHAR_WIPBATCH        =</span>\n<span class=\"token comment\">*       CHARACTERISTICS_BATCH          =</span>\n<span class=\"token comment\">*       LINK_GM_CHAR_BATCH             =</span>\n      detail_return  <span class=\"token operator\">=</span> lt_detail_return\n    <span class=\"token keyword\">EXCEPTIONS</span>\n      <span class=\"token keyword\">OTHERS</span>         <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> sy<span class=\"token token-operator punctuation\">-</span>subrc <span class=\"token operator\">&lt;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    <span class=\"token keyword\">CONCATENATE</span> sy<span class=\"token token-operator punctuation\">-</span>msgno sy<span class=\"token token-operator punctuation\">-</span>msgid sy<span class=\"token token-operator punctuation\">-</span>msgv1 sy<span class=\"token token-operator punctuation\">-</span>msgv2 sy<span class=\"token token-operator punctuation\">-</span>msgv3 sy<span class=\"token token-operator punctuation\">-</span>msgv4 <span class=\"token keyword\">INTO</span> es_entityset<span class=\"token token-operator punctuation\">-</span>error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">IF</span> ls_return <span class=\"token keyword\">IS</span> <span class=\"token keyword\">NOT</span> <span class=\"token keyword\">INITIAL</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">LOOP</span> <span class=\"token keyword\">AT</span> lt_detail_return <span class=\"token keyword\">INTO</span> ls_detail_return <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">type</span> <span class=\"token keyword\">EQ</span> <span class=\"token string\">'E'</span><span class=\"token punctuation\">.</span>\n      lv_error_message <span class=\"token operator\">=</span> ls_detail_return<span class=\"token token-operator punctuation\">-</span>message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">ENDLOOP</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">CONCATENATE</span> <span class=\"token string\">'Fehler bei der R√ºckmeldung: '</span> lv_error_message <span class=\"token keyword\">INTO</span> lv_message<span class=\"token punctuation\">.</span>\n    lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> lv_message <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n    es_entityset<span class=\"token token-operator punctuation\">-</span>error_message <span class=\"token operator\">=</span> lv_error_message<span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">APPEND</span> es_entityset <span class=\"token keyword\">TO</span> et_entityset<span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">ENDIF</span><span class=\"token punctuation\">.</span>\n\n  lo_logger<span class=\"token token-operator punctuation\">-></span>create_message<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle iv_message <span class=\"token operator\">=</span> <span class=\"token string\">'Ende Method PROCCONFIRMATION_GET_ENTITYSET.'</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token eol-comment comment\">\" add custom message to message log</span>\n  lo_logger<span class=\"token token-operator punctuation\">-></span>save_log<span class=\"token punctuation\">(</span> <span class=\"token keyword\">EXPORTING</span> iv_log_handle <span class=\"token operator\">=</span> lv_log_handle <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token eol-comment comment\">\" FB Documentation says COMMIT WORK is required</span>\n  <span class=\"token keyword\">CALL</span> <span class=\"token keyword\">FUNCTION</span> <span class=\"token string\">'BAPI_TRANSACTION_COMMIT'</span>\n    <span class=\"token keyword\">EXPORTING</span>\n      <span class=\"token keyword\">wait</span> <span class=\"token operator\">=</span> <span class=\"token string\">'X'</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">COMMIT</span> <span class=\"token keyword\">WORK</span> <span class=\"token keyword\">AND</span> <span class=\"token keyword\">WAIT</span><span class=\"token punctuation\">.</span>\n</code></pre>\n      </div>\n<h2>Final Comments</h2>\n<p>Whew. Did it feel like a marathon? :runner: Because it felt to <em>me</em> like a marathon all that time I was scratching my head. I hope you all enjoyed and found this post useful for a not-so-often programmed function of this production planning section of SAP.</p>\n<p>Another note and quick plug üòÑ I hope everyone can appreciate the time I put into creating these posts (<em>hint:</em> posts this long take a <strong>LONG</strong> time to write!). It would make me happy and give me the motivation to keep writing these detailed ABAP posts if you‚Äôd consider donating (in the footer of any page on this blog) I have a <a href=\"https://www.paypal.me/chrisfrewin\">PayPal.me link</a>, and I‚Äôm also an Ethereum developer if you‚Äôd like to donate Ether or if you would like to donate some RaiBlocks, as I am a RaiBlocks enthusiast if you would prefer to donate in that way.</p>\n<p>üí© Ok, plug done! üí©</p>\n<p>Cheers! üç∫</p>\n<hr/>\n<h1>Footnotes</h1>\n<div id=\"footnote-1\">\n1. Activities/phases are for production orders; Operations are for process orders. From this point onward, I will refer just to activities, since this post focuses on production orders. I also post the adjacent code for process orders in this post.\n</div>\n<div id=\"footnote-2\">\n2. I have to give credit where credit is due! I received a lot of assistance from our production planning module supervisor - he showed me the transactions that finally got me to a working result. üëç\n</div>\n<div id=\"footnote-3\">\n3. You can set up your production planning (PP) module to give you a proposal amount for the activities, directly when you are doing confirmations transaction <span style=\"font-family:'Courier New'\">CO11N</span>:\n<p>Upon pressing ‚Äòenter‚Äô for with a new amount:\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-27f1f.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.04627249357326%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdyCUH//xAAWEAEBAQAAAAAAAAAAAAAAAAAAISL/2gAIAQEAAQUCaV//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAAQf/aAAgBAQAGPwJEf//EABkQAAEFAAAAAAAAAAAAAAAAAAABEBExUf/aAAgBAQABPyFLanZ//9oADAMBAAIAAwAAABB8L//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBqkP/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCNf//EABsQAAEEAwAAAAAAAAAAAAAAABEAATFBUXGR/9oACAEBAAE/EApOEKO3qDJtOv/Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Automatic calculation of confirmation activities by the System in transaction CO11N\"\n        title=\"\"\n        src=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-f8fb9.jpg\"\n        srcset=\"/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-e8976.jpg 148w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-63df2.jpg 295w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-f8fb9.jpg 590w,\n/static/co11n-1-3185baf9a83949f8159892ccdb462ae1-27f1f.jpg 778w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Pressing ‚ÄòOK‚Äô for this window, we get a popup:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-354e5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50.42301184433165%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe3cWGj/xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQABBQJj/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAAERITEQQVH/2gAIAQEAAT8hjYzyMvSwlY//2gAMAwEAAgADAAAAELMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQAhETFhEP/aAAgBAQABPxA0RjpYwGAvuJ0y7HRolKef/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Filling confirmation activities by hand in transaction CO11N\"\n        title=\"\"\n        src=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-f8fb9.jpg\"\n        srcset=\"/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-e8976.jpg 148w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-63df2.jpg 295w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-f8fb9.jpg 590w,\n/static/co11n-2-db1bc4d71c71cd1dfe6d33830158b2c6-354e5.jpg 591w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We see that the Labor time is provided here. It‚Äôs likely 30 min for a full 100 KG, since the system is proposing only 15 minutes for 50 KG, half of what the full order amount should be. (I know, it‚Äôs not a full four field example - but values would also be proposed if you had more fields like machine time, machine set-up, etc.)</p>\n</div>\n<div id=\"footnote-4\">\n4. Note: At my company, we usually use only up to four confirmation activities. Note that there can be up to six, but for this example, we'll say that the confirmation process has only a maximum of four.\n</div>\n<div id=\"footnote-5\">\n5. I ended up determining that you can exclude parameter `co_a` without any issues - however, this may be how the settings at my own company work - you can look deeper into the SAP example to include it.\n</div>\n<div id=\"footnote-6\">\n6. This issue does not affect the confirmation formulas, but rather the goods movements in the retrograde ingredients - specifically when the goods movements are to be overridden, for example with a batch split for a retrograde material, or a custom under- or over- amount of a retrograde material. For the rare case where an employee wanted to book some of our retrograde materials from various batch numbers and warehouse locations, they noticed in these custom goods movements with the confirmation were not being added; but rather always the default SAP-calculated amounts. After some head scratching, I found it all has to do with function module <span style=\"font-family:'Courier New'\">BAPI_PRODORDCONF_CREATE_TT</span> (or <span style=\"font-family:'Courier New'\">BAPI_PROCORDCONF_CREATE_TT</span> depending on your use case) - I was not passing in an important parameter which allows exactly this desired override behavior:\n<pre>\nLinkConfGoodsmov\nThe assignment of the goods movements to a confirmation is effected\nvia the LinkConfGoodsmov table. There must be an entry in this table\nfor every entry in the Goodsmovements table. The index in the\nLinkConfGoodsmov-Index_Confirm field refers to the line of the\nassociated confirmation in the Timetickets table and the index in\nthe LinkConfGoodsmov-Index_Goodsmov field refers the associated\ngoods movement in the Goodsmovements table.\nIf you want to prevent a goods movement from being posted for a\nconfirmation according to the standard logic, make an entry in the\nLinkConfGoodsmov table as well as in the Timetickets table. The\nindex in the LinkConfGoodsmov-Index_Confirm field refers to the line\nof the associated confirmation in the Timetickets table. Enter the\ninitial value 0 in the LinkConfGoodsmov-Index_Goodsmov field. It is\nnot necessary to make an entry in the Goodsmovements table in this\ncase.\nIf there is no entry in the LinkConfGoodsmov table for a\nconfirmation, goods movements are determined for backflushing and\nautomatic goods receipt using the standard logic.\n</pre>\n<p>We needed to add the following too our goods movements loop (already added in the code above! üòÑ):</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-abap\"><code>BLAH\n</code></pre>\n      </div>\n</div>"},{"id":"transformer-remark-markdown-ast-62f4cf02d1bf243899519ae1b5b3c728-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":{"type":"root","children":[],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":1,"offset":0}}}},{"id":"transformer-remark-markdown-html-62f4cf02d1bf243899519ae1b5b3c728-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-emoji","value":""}]}